<Metadata> 
	<BusinessObjectMetadata name="com.wellpoint.wpd.common.productstructure.bo.ProductStructureBO">
		<BusinessAttribute name="productStructureId" 				type="Int"		keyAttrib="true"/>
		<BusinessAttribute name="productStructureParentId" 				type="Int"		keyAttrib="true"/>
		<BusinessAttribute name="productStructureName" 				type="String" 	keyAttrib="false"/>
		<BusinessAttribute name="version" 					type="Int"		keyAttrib="false"/>
		<BusinessAttribute name="description" 				type="String"	keyAttrib="false"/>
		<BusinessAttribute name="effectiveDate" 			type="Date"		keyAttrib="false"/>
		<BusinessAttribute name="expiryDate" 				type="Date"		keyAttrib="false"/>
		<BusinessAttribute name="status" 					type="String"	keyAttrib="false"/>
		<BusinessAttribute name="createdUser" 				type="String"	keyAttrib="false"/>
		<BusinessAttribute name="createdTimestamp" 			type="Date"		keyAttrib="false"/>
		<BusinessAttribute name="lastUpdatedUser" 			type="String"	keyAttrib="false"/>
		<BusinessAttribute name="lastUpdatedTimestamp" 		type="Date"		keyAttrib="false"/>
		<BusinessAttribute name="lineOfBusiness" 		type="List"		keyAttrib="false"/>
		<BusinessAttribute name="businessEntity" 		type="List"		keyAttrib="false"/>
		<BusinessAttribute name="businessGroup" 		type="List"		keyAttrib="false"/>
		<BusinessAttribute name="structureType" 			type="String"	keyAttrib="false"/>
		<BusinessAttribute name="mandateType" 			type="String"	keyAttrib="false"/>
		<BusinessAttribute name="stateId" 			type="String"	keyAttrib="false"/>
		<BusinessAttribute name="stateDesc" 			type="String"	keyAttrib="false"/>
		<BusinessAttribute name="mandateDesc" 			type="String"	keyAttrib="false"/>
		<BusinessAttribute name="productFamilyId" 		type="String" 			keyAttrib="false" />
		<BusinessAttribute name="productFamilyDesc" 		type="String" 			keyAttrib="false" />
		<BusinessAttribute name="marketBusinessUnit" 		type="List"		keyAttrib="false"/>
		<SearchCriteria name="test">
			<SearchCriteriaAttribute name="productStructureId" 	type="Int"/>
			<SearchCriteriaAttribute name="productStructureName" type="String"/>
			<SearchCriteriaAttribute name="effectiveDate" type="String"/>
			<SearchCriteriaAttribute name="expiryDate" type="String"/> 
			<SearchCriteriaAttribute name="lineOfBusiness" type="List"/>
			<SearchCriteriaAttribute name="businessEntity" type="List"/>
			<SearchCriteriaAttribute name="businessGroup" type="List"/> 
			<SearchCriteriaAttribute name="productStructureParentId" type="Int"/> 
			<SearchCriteriaAttribute name="stateId" type="String"/> 
			<SearchCriteriaAttribute name="structureType" type="String"/>
			<SearchCriteriaAttribute name="mandateType" type="String"/>
			<SearchCriteriaAttribute name="oldProductStructureId" type="Int" /> 
			<SearchCriteriaAttribute name="newProductStructureId" type="Int" /> 
  			<SearchCriteriaAttribute name="checkOutUser" type="String" />
			<SearchCriteriaAttribute name="lastUpdatedTimeStamp" type="Date" /> 
			<SearchCriteriaAttribute name="productSysId" type="Int" />
			<SearchCriteriaAttribute name="marketBusinessUnit" type="List"/>  

		</SearchCriteria>
		<DataSource name="prmd" domain="medical">
			<Connection preferred="jndi">
				<url>jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>
			<SelectSQLQuery name="checkOutProductStructure">CALL checkoutproductstructureproc({0},{1},{2},{3},{4})</SelectSQLQuery> 
  			<SelectSQLQuery name="copyProductStructure">CALL COPYPRODUCTSTRUCTUREPROC({0},{1},{2},{3},{4})</SelectSQLQuery> 
		 	<SelectSQLQuery name="domainSelect">
				select DOMN_SYS_ID from ENTY_DOMN_INFO
			</SelectSQLQuery>
			<SelectSQLQuery name="findDuplicate" dynamic="true">
				
			<STATIC>select A.prod_strctr_sys_id from PROD_STRCTR_MSTR A, ENTY_DOMN_INFO B, AVLBL_DOMN C 
							where A.prod_strctr_parnt_sys_id != {0} 
								and A.prod_strctr_parnt_sys_id = B.ENTY_SYS_ID 
								and B.ENTY_TYPE='ProdStructure' 
								and B.DOMN_SYS_ID = C.DOMN_SYS_ID</STATIC> 
				  <DYNAMIC>and A.prod_strctr_nm = {1}</DYNAMIC> 
				  <DYNAMIC>AND (C.LOB_NM {2} or C.LOB_NM in ('ALL'))</DYNAMIC> 
				  <DYNAMIC>AND (C.BUS_ENTY_NM {3} or C.BUS_ENTY_NM in ('ALL'))</DYNAMIC> 
				  <DYNAMIC>AND (C.BUS_GRP_NM {4} or C.BUS_GRP_NM in ('ALL'))</DYNAMIC> 
				  <DYNAMIC>AND (C.MRKT_BUS_UNT {5} or C.MRKT_BUS_UNT in ('ALL'))</DYNAMIC> 
			</SelectSQLQuery>
			<SelectSQLQuery>
				select	PROD_STRCTR_SYS_ID,PROD_STRCTR_PARNT_SYS_ID, PROD_STRCTR_NM, PROD_STRCTR_VRSN_NBR, PROD_STRCTR_DESC_TXT, PROD_STRCTR_EFCTV_DT,
				 PROD_STRCTR_EXPIRY_DT, PROD_STRCTR_STTS_CD, a.CREATD_USER_ID, a.LST_CHG_USR,a.CREATD_TM_STMP, a.LST_CHG_TMS, PROD_STRCTR_TYPE, PROD_STRCTR_MNDT_TYPE, PROD_STRCTR_ST_CD
				 from  PROD_STRCTR_MSTR a
			    where PROD_STRCTR_NM = ? 
			</SelectSQLQuery>
			<SelectSQLQuery name="retrieveByProductId"> 
				SELECT      A.PROD_STRCTR_SYS_ID, A.PROD_STRCTR_PARNT_SYS_ID, A.PROD_STRCTR_NM, A.PROD_STRCTR_VRSN_NBR, A.PROD_STRCTR_DESC_TXT, 
							A.PROD_STRCTR_EFCTV_DT,A.PROD_STRCTR_EXPIRY_DT, A.PROD_STRCTR_STTS_CD,A.CREATD_USER_ID, A.LST_CHG_USR, A.CREATD_TM_STMP,
						    A.LST_CHG_TMS, A.PROD_STRCTR_TYPE, A.PROD_STRCTR_MNDT_TYPE, A.PROD_STRCTR_ST_CD,
							B.CD_DESC_TXT, C.CD_DESC_TXT,A.PROD_FMLY_NM,D.CD_DESC_TXT   
                        FROM  PROD_STRCTR_MSTR A, ITEM B, ITEM C,ITEM D
                        WHERE       PROD_STRCTR_SYS_ID LIKE {0}
                        AND (A.PROD_STRCTR_ST_CD = B.PRMRY_CD(+) AND B.CTLG_ID(+) = 1626)
						AND (A.PROD_STRCTR_MNDT_TYPE = C.PRMRY_CD(+) AND C.CTLG_ID(+) = 1939)
						AND (A.PROD_FMLY_NM = D.PRMRY_CD(+) AND D.CTLG_ID(+) = 1937)
			</SelectSQLQuery>
			<SelectSQLQuery name="retrieveLatestVersion">
				SELECT	A.PROD_STRCTR_SYS_ID,A.PROD_STRCTR_PARNT_SYS_ID,A.PROD_STRCTR_NM,A.PROD_STRCTR_VRSN_NBR,A.PROD_STRCTR_DESC_TXT,
				A.PROD_STRCTR_EFCTV_DT,A.PROD_STRCTR_EXPIRY_DT,A.PROD_STRCTR_STTS_CD,A.CREATD_USER_ID,A.LST_CHG_USR,A.CREATD_TM_STMP,
				A.LST_CHG_TMS, A.PROD_STRCTR_TYPE, A.PROD_STRCTR_MNDT_TYPE, A.PROD_STRCTR_ST_CD,A.PROD_FMLY_NM,B.CD_DESC_TXT
				from 
				PROD_STRCTR_MSTR A,ITEM B where A.PROD_STRCTR_PARNT_SYS_ID in 
				(
				    select B.ENTY_SYS_ID from ENTY_DOMN_INFO B, AVLBL_DOMN C
				    where 
				    C.BUS_GRP_NM  {0}
				    AND C.BUS_ENTY_NM  {1}
				    AND C.LOB_NM  {2} 
				    AND B.DOMN_SYS_ID = C.DOMN_SYS_ID 
				    AND B.ENTY_TYPE='ProdStructure'    
				    AND B.ENTY_NM= {3}
				    AND C.MRKT_BUS_UNT  {4}    
				  )
				  and A.PROD_STRCTR_VRSN_NBR = (select max(b.PROD_STRCTR_VRSN_NBR) 
				  from PROD_STRCTR_MSTR b 
				  where A.PROD_STRCTR_PARNT_SYS_ID = b.PROD_STRCTR_PARNT_SYS_ID and b.PROD_STRCTR_STTS_CD != 'MARKED_FOR_DELETION')
				  and (A.PROD_FMLY_NM = B.PRMRY_CD(+) AND B.CTLG_ID(+) = 1937)
			</SelectSQLQuery>
			<SelectSQLQuery name="retrieveLatestVersionNumber">
				SELECT	A.PROD_STRCTR_SYS_ID,A.PROD_STRCTR_PARNT_SYS_ID,A.PROD_STRCTR_NM,A.PROD_STRCTR_VRSN_NBR,A.PROD_STRCTR_DESC_TXT,A.PROD_STRCTR_EFCTV_DT,
				A.PROD_STRCTR_EXPIRY_DT,A.PROD_STRCTR_STTS_CD,A.CREATD_USER_ID,A.LST_CHG_USR,A.CREATD_TM_STMP,A.LST_CHG_TMS, A.PROD_STRCTR_TYPE, A.PROD_STRCTR_MNDT_TYPE, A.PROD_STRCTR_ST_CD
				from 
				PROD_STRCTR_MSTR A where A.PROD_STRCTR_PARNT_SYS_ID in 
				(
				    select B.ENTY_SYS_ID from ENTY_DOMN_INFO B, AVLBL_DOMN C
				    where 
				    C.BUS_GRP_NM  {0}
				    AND C.BUS_ENTY_NM  {1}
				    AND C.LOB_NM  {2} 
				    AND B.DOMN_SYS_ID = C.DOMN_SYS_ID 
				    AND B.ENTY_TYPE='ProdStructure'    
				    AND B.ENTY_NM= {3} 
				    AND C.MRKT_BUS_UNT  {4}   
				  )
				  and A.PROD_STRCTR_VRSN_NBR = (select max(b.PROD_STRCTR_VRSN_NBR) 
				  from PROD_STRCTR_MSTR b 
				  where A.PROD_STRCTR_PARNT_SYS_ID = b.PROD_STRCTR_PARNT_SYS_ID)
			</SelectSQLQuery>
			<SelectSQLQuery name="viewAllVersions">
               select a.PROD_STRCTR_SYS_ID,a.PROD_STRCTR_NM,a.PROD_STRCTR_VRSN_NBR,a.PROD_STRCTR_EFCTV_DT,a.PROD_STRCTR_EXPIRY_DT,a.PROD_STRCTR_STTS_CD,a.PROD_STRCTR_PARNT_SYS_ID,a.PROD_STRCTR_DESC_TXT from PROD_STRCTR_MSTR a where a.PROD_STRCTR_PARNT_SYS_ID = 
				(select b.PROD_STRCTR_PARNT_SYS_ID from PROD_STRCTR_MSTR b where b.PROD_STRCTR_SYS_ID = {0})
				order by PROD_STRCTR_VRSN_NBR desc
		     </SelectSQLQuery>
			<SelectSQLQuery name="retrieveLatestPublishedVersion">
				SELECT	A.PROD_STRCTR_SYS_ID,A.PROD_STRCTR_PARNT_SYS_ID,A.PROD_STRCTR_NM,A.PROD_STRCTR_VRSN_NBR,A.PROD_STRCTR_DESC_TXT,A.PROD_STRCTR_EFCTV_DT,
				A.PROD_STRCTR_EXPIRY_DT,A.PROD_STRCTR_STTS_CD,A.CREATD_USER_ID,A.LST_CHG_USR,A.CREATD_TM_STMP,A.LST_CHG_TMS 
				FROM	PROD_STRCTR_MSTR A , PROD_STRCTR_MSTR B
				WHERE   B.PROD_STRCTR_SYS_ID = {0}
				AND     A.PROD_STRCTR_PARNT_SYS_ID = B.PROD_STRCTR_PARNT_SYS_ID 
				AND     A.PROD_STRCTR_VRSN_NBR = (SELECT MAX(C.PROD_STRCTR_VRSN_NBR) FROM  PROD_STRCTR_MSTR C WHERE C.PROD_STRCTR_PARNT_SYS_ID = B.PROD_STRCTR_PARNT_SYS_ID AND C.PROD_STRCTR_STTS_CD = 'PUBLISHED')
			</SelectSQLQuery>

			<SelectSQLQuery name="validDateLatestPublishedVersion">
			<![CDATA[
			select max(A.PROD_STRCTR_SYS_ID)from PROD_STRCTR_MSTR A, PROD_MSTR B
     		 where A.PROD_STRCTR_PARNT_SYS_ID = (
            select A.PROD_STRCTR_PARNT_SYS_ID from PROD_STRCTR_MSTR A ,PROD_MSTR B where
            A.PROD_STRCTR_SYS_ID=B.PROD_STRCTR_SYS_ID
            AND B.PROD_SYS_ID={0})
            AND A.PROD_STRCTR_STTS_CD = 'PUBLISHED'
            AND A.PROD_STRCTR_EFCTV_DT <= (select PROD_EFCTV_DT from PROD_MSTR where PROD_SYS_ID ={1})
            AND A.PROD_STRCTR_EXPIRY_DT >= (select PROD_EXPIRY_DT from PROD_MSTR where PROD_SYS_ID ={2})
			]]>
			</SelectSQLQuery>
			 <SelectSQLQuery name="getAllValidProductStructureForProduct" dynamic="true">
						<STATIC>
                         select      A.PROD_STRCTR_SYS_ID, A.PROD_STRCTR_NM, A.PROD_STRCTR_VRSN_NBR, A.PROD_STRCTR_DESC_TXT, A.PROD_STRCTR_EFCTV_DT,
                         			 A.PROD_STRCTR_EXPIRY_DT, A.PROD_STRCTR_STTS_CD, a.CREATD_USER_ID, a.LST_CHG_USR,a.CREATD_TM_STMP, a.LST_CHG_TMS
                         from  PROD_STRCTR_MSTR A, (select PROD_STRCTR_PARNT_SYS_ID, MAX(PROD_STRCTR_VRSN_NBR) PROD_STRCTR_VRSN_NBR FROM  PROD_STRCTR_MSTR X WHERE X.PROD_STRCTR_STTS_CD = 'PUBLISHED' GROUP BY PROD_STRCTR_PARNT_SYS_ID) AA
						 where 	1=1 
								AND A.PROD_STRCTR_PARNT_SYS_ID = AA.PROD_STRCTR_PARNT_SYS_ID 
								AND A.PROD_STRCTR_VRSN_NBR = AA.PROD_STRCTR_VRSN_NBR
								AND A.PROD_STRCTR_STTS_CD = 'PUBLISHED'
								
						</STATIC>
						<DYNAMIC>
								AND A.PROD_STRCTR_TYPE={5}
						</DYNAMIC>
						<DYNAMIC>
								and A.PROD_STRCTR_PARNT_SYS_ID in 
								(
									(select unique a.PROD_STRCTR_PARNT_SYS_ID 
									from  PROD_STRCTR_MSTR a, ENTY_DOMN_INFO b, AVLBL_DOMN c
									where a.PROD_STRCTR_PARNT_SYS_ID = b.ENTY_SYS_ID
									and b.DOMN_SYS_ID = c.DOMN_SYS_ID
									and b.ENTY_TYPE = 'ProdStructure'
									and c.LOB_NM {0}
									GROUP BY a.PROD_STRCTR_PARNT_SYS_ID
									HAVING count(UNIQUE c.LOB_NM) = (select count(PRMRY_CD) from item where PRMRY_CD {0} AND CTLG_ID = 1925))
									union
									(select unique a.PROD_STRCTR_PARNT_SYS_ID from  PROD_STRCTR_MSTR a, ENTY_DOMN_INFO b, AVLBL_DOMN c
									where a.PROD_STRCTR_PARNT_SYS_ID = b.ENTY_SYS_ID
									and b.DOMN_SYS_ID = c.DOMN_SYS_ID
									and b.ENTY_TYPE = 'ProdStructure'
									and c.LOB_NM LIKE 'ALL') 
								)
						</DYNAMIC>
						<DYNAMIC>
								and A.PROD_STRCTR_PARNT_SYS_ID in 
								(
									(select unique a.PROD_STRCTR_PARNT_SYS_ID 
									from  PROD_STRCTR_MSTR a, ENTY_DOMN_INFO b, AVLBL_DOMN c
									where a.PROD_STRCTR_PARNT_SYS_ID = b.ENTY_SYS_ID
									and b.DOMN_SYS_ID = c.DOMN_SYS_ID
									and b.ENTY_TYPE = 'ProdStructure'
									and c.BUS_ENTY_NM {1}
									GROUP BY a.PROD_STRCTR_PARNT_SYS_ID
									HAVING count(UNIQUE c.BUS_ENTY_NM) = (select count(PRMRY_CD) from item where PRMRY_CD {1} AND CTLG_ID = 1932))
									union
									(select unique a.PROD_STRCTR_PARNT_SYS_ID from  PROD_STRCTR_MSTR a, ENTY_DOMN_INFO b, AVLBL_DOMN c
									where a.PROD_STRCTR_PARNT_SYS_ID = b.ENTY_SYS_ID
									and b.DOMN_SYS_ID = c.DOMN_SYS_ID
									and b.ENTY_TYPE = 'ProdStructure'
									and c.BUS_ENTY_NM LIKE 'ALL') 
								) 
						</DYNAMIC>
						<DYNAMIC>
								and A.PROD_STRCTR_PARNT_SYS_ID in 
								(
									(select unique a.PROD_STRCTR_PARNT_SYS_ID 
									from  PROD_STRCTR_MSTR a, ENTY_DOMN_INFO b, AVLBL_DOMN c
									where a.PROD_STRCTR_PARNT_SYS_ID = b.ENTY_SYS_ID
									and b.DOMN_SYS_ID = c.DOMN_SYS_ID
									and b.ENTY_TYPE = 'ProdStructure'
									and c.BUS_GRP_NM {2}
									GROUP BY a.PROD_STRCTR_PARNT_SYS_ID
									HAVING count(UNIQUE c.BUS_GRP_NM) = (select count(PRMRY_CD) from item where PRMRY_CD {2} AND CTLG_ID = 1933))
									union
									(select unique a.PROD_STRCTR_PARNT_SYS_ID from  PROD_STRCTR_MSTR a, ENTY_DOMN_INFO b, AVLBL_DOMN c
									where a.PROD_STRCTR_PARNT_SYS_ID = b.ENTY_SYS_ID
									and b.DOMN_SYS_ID = c.DOMN_SYS_ID
									and b.ENTY_TYPE = 'ProdStructure'
									and c.BUS_GRP_NM LIKE 'ALL')
								)
						</DYNAMIC>
						<DYNAMIC>
								and A.PROD_STRCTR_PARNT_SYS_ID in 
								(
									(select unique a.PROD_STRCTR_PARNT_SYS_ID 
									from  PROD_STRCTR_MSTR a, ENTY_DOMN_INFO b, AVLBL_DOMN c
									where a.PROD_STRCTR_PARNT_SYS_ID = b.ENTY_SYS_ID
									and b.DOMN_SYS_ID = c.DOMN_SYS_ID
									and b.ENTY_TYPE = 'ProdStructure'
									and c.MRKT_BUS_UNT {8}
									GROUP BY a.PROD_STRCTR_PARNT_SYS_ID
									HAVING count(UNIQUE c.MRKT_BUS_UNT) = (select count(PRMRY_CD) from item where PRMRY_CD {8} AND CTLG_ID = 3470))
									union
									(select unique a.PROD_STRCTR_PARNT_SYS_ID from  PROD_STRCTR_MSTR a, ENTY_DOMN_INFO b, AVLBL_DOMN c
									where a.PROD_STRCTR_PARNT_SYS_ID = b.ENTY_SYS_ID
									and b.DOMN_SYS_ID = c.DOMN_SYS_ID
									and b.ENTY_TYPE = 'ProdStructure'
									and c.MRKT_BUS_UNT LIKE 'ALL')
								)
						</DYNAMIC>
						<DYNAMIC>
							<![CDATA[
								AND A.PROD_STRCTR_EFCTV_DT <= TO_DATE({3},'mm/dd/yyyy')
							]]>
						</DYNAMIC>	
						<DYNAMIC>
							<![CDATA[
								AND A.PROD_STRCTR_EXPIRY_DT >= TO_DATE({4},'mm/dd/yyyy')
							]]>
						</DYNAMIC>	
						<DYNAMIC>
							<![CDATA[
								AND A.PROD_STRCTR_MNDT_TYPE = {6}
							]]>
						</DYNAMIC>	
						<DYNAMIC>
							<![CDATA[
								AND A.PROD_STRCTR_ST_CD = {7}
							]]>
						</DYNAMIC>	
						<STATIC>
						order by upper(PROD_STRCTR_NM) 
						</STATIC>						
            </SelectSQLQuery>
			<SelectSQLQuery name="locateProductStructure" dynamic="true">
				<STATIC>
					<![CDATA[
					SELECT * FROM 
					(
						select a.PROD_STRCTR_SYS_ID,a.PROD_STRCTR_PARNT_SYS_ID,
						    a.PROD_STRCTR_NM,a.PROD_STRCTR_VRSN_NBR,a.PROD_STRCTR_DESC_TXT,a.PROD_STRCTR_EFCTV_DT,
						    a.PROD_STRCTR_EXPIRY_DT,a.PROD_STRCTR_STTS_CD from PROD_STRCTR_MSTR a, ENTY_DOMN_INFO b, AVLBL_DOMN c  where 
						a.prod_strctr_vrsn_nbr in 
						(
						    select max(PROD_STRCTR_MSTR.prod_strctr_vrsn_nbr) from PROD_STRCTR_MSTR 
						    where prod_strctr_mstr.prod_strctr_parnt_sys_id = b.enty_sys_id
						)
						and c.domn_sys_id=b.domn_sys_id 
						and c.LOB_NM  {5}
						AND  c.BUS_GRP_NM  {3}
						AND c.BUS_ENTY_NM   {4}
		                AND c.MRKT_BUS_UNT  {6}
						AND	a.PROD_STRCTR_PARNT_SYS_ID = B.ENTY_SYS_ID
						AND  a.PROD_STRCTR_NM = B.ENTY_NM
					]]>
				</STATIC>
				<DYNAMIC>
						AND   UPPER(a.PROD_STRCTR_NM) like upper({0}) escape '`'
				</DYNAMIC>
				<DYNAMIC>
					AND  a.PROD_STRCTR_EFCTV_DT = TO_DATE({1},'mm/dd/yyyy')
				</DYNAMIC>
				<DYNAMIC>
					AND a.PROD_STRCTR_EXPIRY_DT = TO_DATE({2},'mm/dd/yyyy')
				</DYNAMIC>
				<STATIC>
					<![CDATA[
					AND B.ENTY_TYPE = 'ProdStructure' order by upper(a.PROD_STRCTR_NM) 	
					) WHERE ROWNUM <=51
					]]>	
				</STATIC>	
			</SelectSQLQuery>
			<SelectSQLQuery name="getProductFamily">
					select PROD_STRCTR_SYS_ID,PROD_FMLY_NM from PROD_STRCTR_MSTR where PROD_STRCTR_SYS_ID ={0}
			</SelectSQLQuery>
			
			<SelectSQLQuery name ="getPva">
				select rowNum,PVA_ID  from PROD_FMLY_BUSS_ENTY_PVA_MAP
				where PROD_FMLY_ID
				IN (Select PROD_FMLY_NM  from PROD_STRCTR_MSTR where PROD_STRCTR_SYS_ID = {0})
			</SelectSQLQuery>
			
			<DataObject name="PROD_STRCTR_MSTR">
				<DataObjectAttribute name="PROD_STRCTR_SYS_ID" 		type="Int"/>
				<DataObjectAttribute name="PROD_STRCTR_NM" 		type="String"/>
				<DataObjectAttribute name="PROD_STRCTR_VRSN_NBR" 		type="Int"/>
				<DataObjectAttribute name="PROD_STRCTR_EXPIRY_DT" 		type="Date"/>
				<DataObjectAttribute name="PROD_STRCTR_EFCTV_DT" 		type="Date"/>
				<DataObjectAttribute name="PROD_STRCTR_DESC_TXT" 		type="String"/>
				<DataObjectAttribute name="PROD_STRCTR_STTS_CD" 		type="String"/>
				<DataObjectAttribute name="PROD_STRCTR_PARNT_SYS_ID" 	type="Int"/>
				<DataObjectAttribute name="CREATD_USER_ID" 		type="String"/>
				<DataObjectAttribute name="CREATD_TM_STMP" 		type="TimeStamp"/>
				<DataObjectAttribute name="LST_CHG_USR" 		type="String"/>
				<DataObjectAttribute name="LST_CHG_TMS" 		type="TimeStamp"/>
				<DataObjectAttribute name="ENTY_SYS_ID" 	type="Int"/>	
				<DataObjectAttribute name="ENTY_TYPE" 	type="String"/>	
				<DataObjectAttribute name="DOMN_SYS_ID" type="Int"/>
				<DataObjectAttribute name="LOB_NM" 	type="String"/>	
				<DataObjectAttribute name="BUS_GRP_NM" 	type="String"/>	
				<DataObjectAttribute name="BUS_ENTY_NM" 	type="String"/>	
				<DataObjectAttribute name="PROD_STRCTR_TYPE" 	type="String"/>	
				<DataObjectAttribute name="PROD_STRCTR_MNDT_TYPE" 	type="String"/>	
				<DataObjectAttribute name="PROD_STRCTR_ST_CD" 	type="String"/>	
				<DataObjectAttribute name="STATE_DESC" 	type="String"/>	
				<DataObjectAttribute name="MAND_DESC" 	type="String"/>
				<DataObjectAttribute name="SOURCE_ID" 	type="String"/>	
				<DataObjectAttribute name="DESTINATION_ID" 	type="String"/>	
				<DataObjectAttribute name="PROD_SYS_ID" 	type="Int"/>
				<DataObjectAttribute name="PROD_FMLY_NM" 			type="String" />
				<DataObjectAttribute name="PROD_FAMILY_DESC"		type="String" />
				<DataObjectAttribute name="MRKT_BUS_UNT" 	type="String"/>	
						

			<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_STRCTR_PARNT_SYS_ID"/>
			        <DataObjectAttributeInput index="1" name="PROD_STRCTR_NM"/>
			        <DataObjectAttributeInput index="2" name="LOB_NM"/>
			        <DataObjectAttributeInput index="3" name="BUS_ENTY_NM"/>
			        <DataObjectAttributeInput index="4" name="BUS_GRP_NM"/>
			        <DataObjectAttributeInput index="5" name="MRKT_BUS_UNT"/>

			        <RSIndexToDOAttributeMap>
			            <ResultIndex index="0" dataObjectAttribName ="PROD_STRCTR_SYS_ID"/>
			        </RSIndexToDOAttributeMap>
					<SearchQueryName name="findDuplicate"/>
			 </SQLTemplate>		
			<SQLTemplate transType="select">
				<DataObjectAttributeInput index="0" name="PROD_STRCTR_NM"/>
				<DataObjectAttributeInput index="1" name="PROD_STRCTR_EFCTV_DT"/>
				<DataObjectAttributeInput index="2" name="PROD_STRCTR_EXPIRY_DT"/>
				<DataObjectAttributeInput index="3" name="BUS_GRP_NM"/>
		        <DataObjectAttributeInput index="4" name="BUS_ENTY_NM"/>
		        <DataObjectAttributeInput index="5" name="LOB_NM"/>
		        <DataObjectAttributeInput index="6" name="MRKT_BUS_UNT"/>
				<RSIndexToDOAttributeMap>
					<ResultIndex index="0"  dataObjectAttribName ="PROD_STRCTR_SYS_ID"/>
					<ResultIndex index="1"  dataObjectAttribName ="PROD_STRCTR_PARNT_SYS_ID"/>
					<ResultIndex index="2"  dataObjectAttribName ="PROD_STRCTR_NM"/>
					<ResultIndex index="3"  dataObjectAttribName ="PROD_STRCTR_VRSN_NBR"/>
					<ResultIndex index="4"  dataObjectAttribName ="PROD_STRCTR_DESC_TXT"/>
					<ResultIndex index="5"  dataObjectAttribName ="PROD_STRCTR_EFCTV_DT"/>
					<ResultIndex index="6"  dataObjectAttribName ="PROD_STRCTR_EXPIRY_DT"/>	
					<ResultIndex index="7"  dataObjectAttribName ="PROD_STRCTR_STTS_CD"/>	
				</RSIndexToDOAttributeMap>
				<SearchQueryName name="locateProductStructure"/>
				</SQLTemplate>					
			<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_STRCTR_NM"/>
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"  dataObjectAttribName ="PROD_STRCTR_SYS_ID"/>
						<ResultIndex index="1"  dataObjectAttribName ="PROD_STRCTR_PARNT_SYS_ID"/>
						<ResultIndex index="2"  dataObjectAttribName ="PROD_STRCTR_NM"/>
						<ResultIndex index="3"  dataObjectAttribName ="PROD_STRCTR_VRSN_NBR"/>
						<ResultIndex index="4"  dataObjectAttribName ="PROD_STRCTR_DESC_TXT"/>
						<ResultIndex index="5"  dataObjectAttribName ="PROD_STRCTR_EFCTV_DT"/>
						<ResultIndex index="6"  dataObjectAttribName ="PROD_STRCTR_EXPIRY_DT"/>
						<ResultIndex index="7"  dataObjectAttribName ="PROD_STRCTR_STTS_CD"/>					
						<ResultIndex index="8"  dataObjectAttribName ="CREATD_USER_ID"/>					
						<ResultIndex index="9"  dataObjectAttribName ="LST_CHG_USR"/>		
						<ResultIndex index="10"  dataObjectAttribName ="CREATD_TM_STMP"/>		
						<ResultIndex index="11" dataObjectAttribName ="LST_CHG_TMS"/>
						<ResultIndex index="12" dataObjectAttribName ="PROD_STRCTR_TYPE"/>
						<ResultIndex index="13" dataObjectAttribName ="PROD_STRCTR_MNDT_TYPE"/>
						<ResultIndex index="14" dataObjectAttribName ="PROD_STRCTR_ST_CD"/>					
					</RSIndexToDOAttributeMap>
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName ="PROD_STRCTR_SYS_ID"/>
						<ResultIndex index="1" dataObjectAttribName ="PROD_STRCTR_PARNT_SYS_ID"/>
						<ResultIndex index="2" dataObjectAttribName ="PROD_STRCTR_NM"/>
						<ResultIndex index="3" dataObjectAttribName ="PROD_STRCTR_VRSN_NBR"/>
						<ResultIndex index="4" dataObjectAttribName ="PROD_STRCTR_DESC_TXT"/>
						<ResultIndex index="5" dataObjectAttribName ="PROD_STRCTR_EFCTV_DT"/>
						<ResultIndex index="6" dataObjectAttribName ="PROD_STRCTR_EXPIRY_DT"/>
						<ResultIndex index="7" dataObjectAttribName ="PROD_STRCTR_STTS_CD"/>
						<ResultIndex index="8" dataObjectAttribName ="CREATD_USER_ID"/>
						<ResultIndex index="9" dataObjectAttribName ="LST_CHG_USR"/>
						<ResultIndex index="10" dataObjectAttribName ="CREATD_TM_STMP"/>
						<ResultIndex index="11" dataObjectAttribName ="LST_CHG_TMS"/>
						<ResultIndex index="12" dataObjectAttribName ="PROD_STRCTR_TYPE"/>
						<ResultIndex index="13" dataObjectAttribName ="PROD_STRCTR_MNDT_TYPE"/>
						<ResultIndex index="14" dataObjectAttribName ="PROD_STRCTR_ST_CD"/>
						<ResultIndex index="15" dataObjectAttribName ="STATE_DESC"/>
						<ResultIndex index="16" dataObjectAttribName ="MAND_DESC"/>
						<ResultIndex index="17" dataObjectAttribName ="PROD_FMLY_NM"/>
						<ResultIndex index="18" dataObjectAttribName ="PROD_FAMILY_DESC"/>
						</RSIndexToDOAttributeMap>
					<SearchQueryName name="retrieveByProductId"/>
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="BUS_GRP_NM"/> 
					<DataObjectAttributeInput index="1" name="BUS_ENTY_NM"/>
					<DataObjectAttributeInput index="2" name="LOB_NM"/>
					<DataObjectAttributeInput index="3" name="PROD_STRCTR_NM"/>
					<DataObjectAttributeInput index="4" name="MRKT_BUS_UNT"/>
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName ="PROD_STRCTR_SYS_ID"/>
						<ResultIndex index="1" dataObjectAttribName ="PROD_STRCTR_PARNT_SYS_ID"/>
						<ResultIndex index="2" dataObjectAttribName ="PROD_STRCTR_NM"/>
						<ResultIndex index="3" dataObjectAttribName ="PROD_STRCTR_VRSN_NBR"/>
						<ResultIndex index="4" dataObjectAttribName ="PROD_STRCTR_DESC_TXT"/>
						<ResultIndex index="5" dataObjectAttribName ="PROD_STRCTR_EFCTV_DT"/>
						<ResultIndex index="6" dataObjectAttribName ="PROD_STRCTR_EXPIRY_DT"/>
						<ResultIndex index="7" dataObjectAttribName ="PROD_STRCTR_STTS_CD"/>
						<ResultIndex index="8" dataObjectAttribName ="CREATD_USER_ID"/>
						<ResultIndex index="9" dataObjectAttribName ="LST_CHG_USR"/>
						<ResultIndex index="10" dataObjectAttribName ="CREATD_TM_STMP"/>
						<ResultIndex index="11" dataObjectAttribName ="LST_CHG_TMS"/>
						<ResultIndex index="12" dataObjectAttribName ="PROD_STRCTR_TYPE"/>
						<ResultIndex index="13" dataObjectAttribName ="PROD_STRCTR_MNDT_TYPE"/>
						<ResultIndex index="14" dataObjectAttribName ="PROD_STRCTR_ST_CD"/>
						<ResultIndex index="15" dataObjectAttribName ="PROD_FMLY_NM"/>
						<ResultIndex index="16" dataObjectAttribName ="PROD_FAMILY_DESC"/>
						</RSIndexToDOAttributeMap>
					<SearchQueryName name="retrieveLatestVersion"/>
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="BUS_GRP_NM"/>
					<DataObjectAttributeInput index="1" name="BUS_ENTY_NM"/>
					<DataObjectAttributeInput index="2" name="LOB_NM"/>
					<DataObjectAttributeInput index="3" name="PROD_STRCTR_NM"/>
					<DataObjectAttributeInput index="4" name="MRKT_BUS_UNT"/>
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName ="PROD_STRCTR_SYS_ID"/>
						<ResultIndex index="1" dataObjectAttribName ="PROD_STRCTR_PARNT_SYS_ID"/>
						<ResultIndex index="2" dataObjectAttribName ="PROD_STRCTR_NM"/>
						<ResultIndex index="3" dataObjectAttribName ="PROD_STRCTR_VRSN_NBR"/>
						<ResultIndex index="4" dataObjectAttribName ="PROD_STRCTR_DESC_TXT"/>
						<ResultIndex index="5" dataObjectAttribName ="PROD_STRCTR_EFCTV_DT"/>
						<ResultIndex index="6" dataObjectAttribName ="PROD_STRCTR_EXPIRY_DT"/>
						<ResultIndex index="7" dataObjectAttribName ="PROD_STRCTR_STTS_CD"/>
						<ResultIndex index="8" dataObjectAttribName ="CREATD_USER_ID"/>
						<ResultIndex index="9" dataObjectAttribName ="LST_CHG_USR"/>
						<ResultIndex index="10" dataObjectAttribName ="CREATD_TM_STMP"/>
						<ResultIndex index="11" dataObjectAttribName ="LST_CHG_TMS"/>
						<ResultIndex index="12" dataObjectAttribName ="PROD_STRCTR_TYPE"/>
						<ResultIndex index="13" dataObjectAttribName ="PROD_STRCTR_MNDT_TYPE"/>
						<ResultIndex index="14" dataObjectAttribName ="PROD_STRCTR_ST_CD"/>
						</RSIndexToDOAttributeMap>
					<SearchQueryName name="retrieveLatestVersionNumber"/>
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
		            <RSIndexToDOAttributeMap>
		                    <ResultIndex index="0"  dataObjectAttribName ="PROD_STRCTR_SYS_ID"/>
							 <ResultIndex index="1"  dataObjectAttribName ="PROD_STRCTR_NM"/>
		                     <ResultIndex index="2"  dataObjectAttribName ="PROD_STRCTR_VRSN_NBR"/>
		                    <ResultIndex index="3"  dataObjectAttribName ="PROD_STRCTR_EFCTV_DT"/>
		                    <ResultIndex index="4"  dataObjectAttribName ="PROD_STRCTR_EXPIRY_DT"/>
							 <ResultIndex index="5"  dataObjectAttribName ="PROD_STRCTR_STTS_CD"/>
							<ResultIndex index="6"  dataObjectAttribName ="PROD_STRCTR_PARNT_SYS_ID"/>
							<ResultIndex index="7"  dataObjectAttribName ="PROD_STRCTR_DESC_TXT"/>
		              </RSIndexToDOAttributeMap>
		              <SearchQueryName name="viewAllVersions"/>
		        </SQLTemplate>
				<SQLTemplate transType="select">
						<DataObjectAttributeInput index="0" name="LOB_NM"/>
						<DataObjectAttributeInput index="1" name="BUS_ENTY_NM"/>
						<DataObjectAttributeInput index="2" name="BUS_GRP_NM"/>
						<DataObjectAttributeInput index="3" name="PROD_STRCTR_EFCTV_DT"/>
						<DataObjectAttributeInput index="4" name="PROD_STRCTR_EXPIRY_DT"/>
						<DataObjectAttributeInput index="5" name="PROD_STRCTR_TYPE"/>
						<DataObjectAttributeInput index="6" name="PROD_STRCTR_MNDT_TYPE"/>
						<DataObjectAttributeInput index="7" name="PROD_STRCTR_ST_CD"/>
						<DataObjectAttributeInput index="8" name="MRKT_BUS_UNT"/>

		            <RSIndexToDOAttributeMap>
		                    <ResultIndex index="0"  dataObjectAttribName ="PROD_STRCTR_SYS_ID"/>
		                    <ResultIndex index="1"  dataObjectAttribName ="PROD_STRCTR_NM"/>
		                    <ResultIndex index="2"  dataObjectAttribName ="PROD_STRCTR_VRSN_NBR"/>
		                    <ResultIndex index="3"  dataObjectAttribName ="PROD_STRCTR_DESC_TXT"/>
		                    <ResultIndex index="4"  dataObjectAttribName ="PROD_STRCTR_EFCTV_DT"/>
		                    <ResultIndex index="5"  dataObjectAttribName ="PROD_STRCTR_EXPIRY_DT"/>
		                    <ResultIndex index="6"  dataObjectAttribName ="PROD_STRCTR_STTS_CD"/>                           
		                    <ResultIndex index="7"  dataObjectAttribName ="CREATD_USER_ID"/>                             
		                    <ResultIndex index="8"  dataObjectAttribName ="LST_CHG_USR"/>        
		                    <ResultIndex index="9"  dataObjectAttribName ="CREATD_TM_STMP"/>           
		                    <ResultIndex index="10" dataObjectAttribName ="LST_CHG_TMS"/>                          
		              </RSIndexToDOAttributeMap>
		              <SearchQueryName name="getAllValidProductStructureForProduct"/>
		        </SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName ="PROD_STRCTR_SYS_ID"/>
						<ResultIndex index="1" dataObjectAttribName ="PROD_STRCTR_PARNT_SYS_ID"/>
						<ResultIndex index="2" dataObjectAttribName ="PROD_STRCTR_NM"/>
						<ResultIndex index="3" dataObjectAttribName ="PROD_STRCTR_VRSN_NBR"/>
						<ResultIndex index="4" dataObjectAttribName ="PROD_STRCTR_DESC_TXT"/>
						<ResultIndex index="5" dataObjectAttribName ="PROD_STRCTR_EFCTV_DT"/>
						<ResultIndex index="6" dataObjectAttribName ="PROD_STRCTR_EXPIRY_DT"/>
						<ResultIndex index="7" dataObjectAttribName ="PROD_STRCTR_STTS_CD"/>
						<ResultIndex index="8" dataObjectAttribName ="CREATD_USER_ID"/>
						<ResultIndex index="9" dataObjectAttribName ="LST_CHG_USR"/>
						<ResultIndex index="10" dataObjectAttribName ="CREATD_TM_STMP"/>
						<ResultIndex index="11" dataObjectAttribName ="LST_CHG_TMS"/>
						</RSIndexToDOAttributeMap>
					<SearchQueryName name="retrieveLatestPublishedVersion"/>
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
					<DataObjectAttributeInput index="1" name="PROD_SYS_ID"/>
					<DataObjectAttributeInput index="2" name="PROD_SYS_ID"/>
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName="PROD_STRCTR_SYS_ID" /> 
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="validDateLatestPublishedVersion"/>
				</SQLTemplate>
				<SQLTemplate transType="select">
				  <DataObjectAttributeInput index="0" name="SOURCE_ID" /> 
				  <DataObjectAttributeInput index="1" name="DESTINATION_ID" /> 
				  <DataObjectAttributeInput index="2" name="LST_CHG_USR" /> 
				  <DataObjectAttributeInput index="3" name="LST_CHG_TMS" /> 
				  <RSIndexToDOAttributeMap>
				  	<ResultIndex index="0" dataObjectAttribName="PROD_STRCTR_SYS_ID" /> 
				  </RSIndexToDOAttributeMap>
				  <SearchQueryName name="checkOutProductStructure" /> 
				 </SQLTemplate>
				  <SQLTemplate transType="select">
				  <DataObjectAttributeInput index="0" name="SOURCE_ID" /> 
				  <DataObjectAttributeInput index="1" name="DESTINATION_ID" /> 
				  <DataObjectAttributeInput index="2" name="LST_CHG_USR" /> 
				  <DataObjectAttributeInput index="3" name="LST_CHG_TMS" /> 
				  <RSIndexToDOAttributeMap>
				  <ResultIndex index="0" dataObjectAttribName="PROD_STRCTR_SYS_ID" /> 
				  	</RSIndexToDOAttributeMap>
				  <SearchQueryName name="copyProductStructure" /> 
				  </SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"  dataObjectAttribName ="PROD_STRCTR_SYS_ID"/>
						<ResultIndex index="1" dataObjectAttribName ="PROD_FMLY_NM"/>
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getProductFamily"/>
				</SQLTemplate>
				<SQLTemplate transType="insert">
						<SQLQuery>
								INSERT INTO PROD_STRCTR_MSTR (
								   	PROD_STRCTR_SYS_ID, PROD_STRCTR_NM, PROD_STRCTR_VRSN_NBR, PROD_STRCTR_DESC_TXT, PROD_STRCTR_EFCTV_DT, PROD_STRCTR_EXPIRY_DT, 
									PROD_STRCTR_STTS_CD, CREATD_USER_ID, LST_CHG_USR, CREATD_TM_STMP, LST_CHG_TMS,PROD_STRCTR_PARNT_SYS_ID, PROD_STRCTR_TYPE, PROD_STRCTR_MNDT_TYPE, PROD_STRCTR_ST_CD,PROD_FMLY_NM)
								VALUES (?, UPPER(?), ?, ?, ?, ?, ?, ?, ?, ? , ?, ?, ?, ?, ? , ?)
						</SQLQuery>
						<DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
						<DataObjectAttributeInput index="1" name="PROD_STRCTR_NM"/>
						<DataObjectAttributeInput index="2" name="PROD_STRCTR_VRSN_NBR"/>
						<DataObjectAttributeInput index="3" name="PROD_STRCTR_DESC_TXT"/>
						<DataObjectAttributeInput index="4" name="PROD_STRCTR_EFCTV_DT"/>
						<DataObjectAttributeInput index="5" name="PROD_STRCTR_EXPIRY_DT"/>
						<DataObjectAttributeInput index="6" name="PROD_STRCTR_STTS_CD"/>
						<DataObjectAttributeInput index="7" name="CREATD_USER_ID"/>
						<DataObjectAttributeInput index="8" name="LST_CHG_USR"/>
						<DataObjectAttributeInput index="9" name="CREATD_TM_STMP"/>
						<DataObjectAttributeInput index="10" name="LST_CHG_TMS"/>
						<DataObjectAttributeInput index="11" name="PROD_STRCTR_PARNT_SYS_ID"/>
						<DataObjectAttributeInput index="12" name="PROD_STRCTR_TYPE"/>
						<DataObjectAttributeInput index="13" name="PROD_STRCTR_MNDT_TYPE"/>
						<DataObjectAttributeInput index="14" name="PROD_STRCTR_ST_CD"/>
						<DataObjectAttributeInput index="15" name="PROD_FMLY_NM" />
				</SQLTemplate>
				<SQLTemplate transType="update">
						<SQLQuery>
								UPDATE PROD_STRCTR_MSTR SET PROD_STRCTR_DESC_TXT = ?, PROD_STRCTR_EFCTV_DT = ?, PROD_STRCTR_EXPIRY_DT = ?,
													  PROD_STRCTR_STTS_CD = ?, LST_CHG_USR = ?, LST_CHG_TMS = ?,PROD_STRCTR_VRSN_NBR= ?,
													PROD_STRCTR_NM = ?, PROD_STRCTR_TYPE = ?, PROD_STRCTR_MNDT_TYPE = ?, PROD_STRCTR_ST_CD = ?,PROD_FMLY_NM = ?
													
								WHERE PROD_STRCTR_SYS_ID = ?
						</SQLQuery>
						<DataObjectAttributeInput index="0" name="PROD_STRCTR_DESC_TXT"/>
						<DataObjectAttributeInput index="1" name="PROD_STRCTR_EFCTV_DT"/>
						<DataObjectAttributeInput index="2" name="PROD_STRCTR_EXPIRY_DT"/>
						<DataObjectAttributeInput index="3" name="PROD_STRCTR_STTS_CD"/>
						<DataObjectAttributeInput index="4" name="LST_CHG_USR"/>
						<DataObjectAttributeInput index="5" name="LST_CHG_TMS"/>
						<DataObjectAttributeInput index="6" name="PROD_STRCTR_VRSN_NBR"/>
						<DataObjectAttributeInput index="7" name="PROD_STRCTR_NM"/>
						<DataObjectAttributeInput index="8" name="PROD_STRCTR_TYPE"/>
						<DataObjectAttributeInput index="9" name="PROD_STRCTR_MNDT_TYPE"/>
						<DataObjectAttributeInput index="10" name="PROD_STRCTR_ST_CD"/>
						<DataObjectAttributeInput index="11" name="PROD_FMLY_NM" />
						<DataObjectAttributeInput index="12" name="PROD_STRCTR_SYS_ID"/>
				</SQLTemplate>
				<SQLTemplate transType="delete">
						<SQLQuery>
								DELETE FROM PROD_STRCTR_MSTR WHERE PROD_STRCTR_SYS_ID = ? 
						</SQLQuery>
						<DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
				</SQLTemplate>

				<DoAttributeToBOAttributeMap>
						<Pair DOAttb="PROD_STRCTR_SYS_ID"	toBOAttb="productStructureId"/>
						<Pair DOAttb="PROD_STRCTR_NM"	toBOAttb="productStructureName"/>
						<Pair DOAttb="PROD_STRCTR_VRSN_NBR"	toBOAttb="version"/>
						<Pair DOAttb="PROD_STRCTR_EXPIRY_DT"	toBOAttb="expiryDate"/>
						<Pair DOAttb="PROD_STRCTR_EFCTV_DT"	toBOAttb="effectiveDate"/>
						<Pair DOAttb="PROD_STRCTR_DESC_TXT"	toBOAttb="description"/>
						<Pair DOAttb="PROD_STRCTR_STTS_CD"	toBOAttb="status"/>
						<Pair DOAttb="CREATD_USER_ID"	toBOAttb="createdUser"/>
						<Pair DOAttb="CREATD_TM_STMP"	toBOAttb="createdTimestamp"/>
						<Pair DOAttb="LST_CHG_USR"	toBOAttb="lastUpdatedUser"/>
						<Pair DOAttb="LST_CHG_TMS"	toBOAttb="lastUpdatedTimestamp"/>
						<Pair DOAttb="PROD_STRCTR_PARNT_SYS_ID"	toBOAttb="productStructureParentId"/>
						<Pair DOAttb="LOB_NM" 	toBOAttb="lineOfBusiness"/>
						<Pair DOAttb="BUS_ENTY_NM" 	toBOAttb="businessEntity"/>
						<Pair DOAttb="BUS_GRP_NM" 	toBOAttb="businessGroup"/>
						<Pair DOAttb="PROD_STRCTR_VRSN_NBR" 	toBOAttb="version"/>
						<Pair DOAttb="PROD_STRCTR_TYPE" 	toBOAttb="structureType"/>
						<Pair DOAttb="PROD_STRCTR_MNDT_TYPE" 	toBOAttb="mandateType"/>
						<Pair DOAttb="PROD_STRCTR_ST_CD" 	toBOAttb="stateId"/>
						<Pair DOAttb="STATE_DESC" 	toBOAttb="stateDesc"/>
						<Pair DOAttb="MAND_DESC" 	toBOAttb="mandateDesc"/>
						<Pair DOAttb="PROD_FMLY_NM"   			toBOAttb="productFamilyId" />
						<Pair DOAttb="PROD_FAMILY_DESC"			toBOAttb="productFamilyDesc" />
						<Pair DOAttb="MRKT_BUS_UNT" 	toBOAttb="marketBusinessUnit"/>
			</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
						<Pair DOAttb="PROD_STRCTR_SYS_ID" 		toSCAttb="productStructureId"/>
						<Pair DOAttb="PROD_STRCTR_NM"		toSCAttb="productStructureName"/>
						<Pair DOAttb="PROD_STRCTR_EFCTV_DT" 		toSCAttb="effectiveDate"/>
						<Pair DOAttb="PROD_STRCTR_EXPIRY_DT"			toSCAttb="expiryDate"/>
						<Pair DOAttb="LOB_NM"             toSCAttb= "lineOfBusiness"/>
						<Pair DOAttb="BUS_ENTY_NM" 		   toSCAttb="businessEntity"/>
						<Pair DOAttb="BUS_GRP_NM"			toSCAttb="businessGroup"/>
						<Pair DOAttb="PROD_STRCTR_PARNT_SYS_ID"	toSCAttb="productStructureParentId"/>
						<Pair DOAttb="PROD_STRCTR_TYPE" 	toSCAttb="structureType"/>
						<Pair DOAttb="PROD_STRCTR_MNDT_TYPE" 	toSCAttb="mandateType"/>
						<Pair DOAttb="PROD_STRCTR_ST_CD" 	toSCAttb="stateId"/>
						<Pair DOAttb="SOURCE_ID" toSCAttb="oldProductStructureId" /> 
  						<Pair DOAttb="DESTINATION_ID" toSCAttb="newProductStructureId" /> 
  						<Pair DOAttb="LST_CHG_USR" toSCAttb="checkOutUser" /> 
						<Pair DOAttb="LST_CHG_TMS" toSCAttb="lastUpdatedTimeStamp" /> 
						<Pair DOAttb="PROD_SYS_ID" toSCAttb="productSysId" />
						<Pair DOAttb="MRKT_BUS_UNT" 	toSCAttb="marketBusinessUnit"/> 

				</DoAttributeToSCAttributeMap>
			</DataObject>
			<DataObject name="ADMN_MTHD_OVRD">
					<DataObjectAttribute name="ENTY_SYS_ID" 		type="Int"	/>
					<SQLTemplate transType="delete">
						<SQLQuery>
							DELETE FROM 
							ADMN_MTHD_OVRD
							WHERE enty_type ='ProdStructure'
							AND ENTY_SYS_ID =?
						</SQLQuery>
						<DataObjectAttributeInput index="0" name="ENTY_SYS_ID"/>
					</SQLTemplate>

					<DoAttributeToBOAttributeMap>
							<Pair DOAttb="ENTY_SYS_ID"		toBOAttb="productStructureId"/>
					</DoAttributeToBOAttributeMap>
				</DataObject> 
			<DataObject name="PROD_STRCTR_BNFT_AFFCTD_SPS">
			    <DataObjectAttribute name="ENTY_SYS_ID"    type="Int"/>
			    <SQLTemplate transType="delete">
			        <SQLQuery>
			            DELETE FROM PROD_STRCTR_BNFT_AFFCTD_SPS WHERE ENTY_SYS_ID = ?
			        </SQLQuery>
			        <DataObjectAttributeInput index="0" name="ENTY_SYS_ID"/>
			    </SQLTemplate>
			    <DoAttributeToBOAttributeMap>
			        <Pair DOAttb="ENTY_SYS_ID"    toBOAttb="productStructureId"/>
			    </DoAttributeToBOAttributeMap>
			</DataObject>
			<DataObject name="ENTY_BNFT_SPS_VALDN_PRCSS">
			    <DataObjectAttribute name="ENTY_SYS_ID"    type="Int"/>
			    <SQLTemplate transType="delete">
			        <SQLQuery>
			            DELETE FROM ENTY_BNFT_SPS_VALDN_PRCSS WHERE ENTY_TYPE = 'PRODSTRUCTURE' AND ENTY_SYS_ID = ?
			        </SQLQuery>
			        <DataObjectAttributeInput index="0" name="ENTY_SYS_ID"/>
			    </SQLTemplate>
			    <DoAttributeToBOAttributeMap>
			        <Pair DOAttb="ENTY_SYS_ID"    toBOAttb="productStructureId"/>
			    </DoAttributeToBOAttributeMap>
			</DataObject>
			<DataObject name="ENTY_DOMN_INFO">
			    <DataObjectAttribute name="DOMN_SYS_ID"    type="Int"/>
			    <DataObjectAttribute name="ENTY_NM"    type="String"/>
			    <DataObjectAttribute name="ENTY_TYPE"    type="String"/>
			    <DataObjectAttribute name="ENTY_SYS_ID"    type="Int"/>
			    <DataObjectAttribute name="CREATD_USER_ID"    type="String"/>
			    <DataObjectAttribute name="CREATD_TM_STMP"    type="TimeStamp"/>
			    <DataObjectAttribute name="LST_CHG_USR"    type="String"/>
			    <DataObjectAttribute name="LST_CHG_TMS"    type="TimeStamp"/>
			    <SQLTemplate transType="delete">
			        <SQLQuery>
			            DELETE FROM ENTY_DOMN_INFO
			            WHERE ENTY_TYPE = 'ProdStructure'and ENTY_SYS_ID = ?
			        </SQLQuery>
			        <DataObjectAttributeInput index="0" name="ENTY_SYS_ID"/>
			    </SQLTemplate>
			    <DoAttributeToBOAttributeMap>
			        <Pair DOAttb="ENTY_SYS_ID"    toBOAttb="productStructureId"/>
			    </DoAttributeToBOAttributeMap>
			</DataObject>
			<DataObject name="PROD_FMLY_BUSS_ENTY_PVA_MAP">
				<DataObjectAttribute name ="PROD_STRCTR_SYS_ID" 		type="Int" />
				<DataObjectAttribute name ="PVA_ID" 					type="String" />
				 <SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
			        <RSIndexToDOAttributeMap>
			            <ResultIndex index="0" dataObjectAttribName ="PROD_STRCTR_SYS_ID"/>
 						<ResultIndex index="1" dataObjectAttribName ="PVA_ID"/>
			        </RSIndexToDOAttributeMap>
					<SearchQueryName name="getPva"/>
 				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="PROD_STRCTR_SYS_ID" 			toBOAttb="productStructureId" />
					<Pair DOAttb="PVA_ID" 						toBOAttb="productFamilyDesc" />
				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
					<Pair DOAttb="PROD_STRCTR_SYS_ID" toSCAttb="productStructureId" />
				</DoAttributeToSCAttributeMap>
			</DataObject> 
		</DataSource>
	</BusinessObjectMetadata>

	<BusinessObjectMetadata name="com.wellpoint.wpd.common.productstructure.bo.ProductStructureAssociatedBenefitComponent">
		<BusinessAttribute name="benefitComponentId" 				type="Int"		keyAttrib="true"/>
		<BusinessAttribute name="productStructureId" 				type="Int" 	keyAttrib="true"/>
		<BusinessAttribute name="name" 					type="String"		keyAttrib="false"/>
		<BusinessAttribute name="sequenceNum" 				type="Int"	keyAttrib="false"/>
		<BusinessAttribute name="createdUser" 				type="String"	keyAttrib="false"/>
		<BusinessAttribute name="createdTimestamp" 			type="Date"		keyAttrib="false"/>
		<BusinessAttribute name="lastUpdatedUser" 			type="String"	keyAttrib="false"/>
		<BusinessAttribute name="lastUpdatedTimestamp" 		type="Date"		keyAttrib="false"/>
		<BusinessAttribute name="versionNo" 		type="Int"		keyAttrib="false"/>
		<BusinessAttribute name="lineOfBusiness" 		type="List"		keyAttrib="false"/>
		<BusinessAttribute name="businessEntity" 		type="List"		keyAttrib="false"/>
		<BusinessAttribute name="businessGroup" 		type="List"		keyAttrib="false"/>
		<BusinessAttribute name="effectiveDate" 		type="Date"		keyAttrib="false"/>
		<BusinessAttribute name="expireyDate" 		type="Date"		keyAttrib="false"/>
		<BusinessAttribute name="timeStamp" 				type="String"	keyAttrib="false"/>
		<SearchCriteria>
			<SearchCriteriaAttribute name="productStructureId" 	type="Int"/>
			<SearchCriteriaAttribute name="productId" 	type="Int"/>
			<SearchCriteriaAttribute name="expiryDate" 	type="String"/>
			<SearchCriteriaAttribute name="effectiveDate" 	type="String"/>
			<SearchCriteriaAttribute name="benefitComponentId" type="Int"/>
			<SearchCriteriaAttribute name="user" type="String"/>
		</SearchCriteria>
		<DataSource name="prmd" domain="medical">
			<Connection preferred="jndi">
				<url>jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>
			<SelectSQLQuery>
				select max(SQNC_NBR),PROD_STRCTR_SYS_ID from PROD_STRCTR_BNFT_CMPNT_ASSN where PROD_STRCTR_SYS_ID = ? group by PROD_STRCTR_SYS_ID
			</SelectSQLQuery>			
			<SelectSQLQuery name="attachBCToPS">
				CALL Attachbencomptoprodstr({0},{1},{2},{3})
			</SelectSQLQuery>
			<SelectSQLQuery name="retrieveBenefitComponents">
				select assn.PROD_STRCTR_SYS_ID,assn.BNFT_CMPNT_SYS_ID, assn.SQNC_NBR,cmp.BNFT_CMPNT_NM ,cmp.BNFT_CMPNT_VRSN_NBR, c.PROD_STRCTR_EFCTV_DT, c.PROD_STRCTR_EXPIRY_DT 
				from BCM_BNFT_CMPNT_MSTR cmp,PROD_STRCTR_BNFT_CMPNT_ASSN assn ,PROD_STRCTR_MSTR c
				where
				assn.PROD_STRCTR_SYS_ID = {0} and cmp.BNFT_CMPNT_SYS_ID = assn.BNFT_CMPNT_SYS_ID 
				and assn.PROD_STRCTR_SYS_ID = c.PROD_STRCTR_SYS_ID
				order by assn.SQNC_NBR
		  </SelectSQLQuery>
		 	<SelectSQLQuery name="getValidComponentsForProduct">
				SELECT B.PROD_STRCTR_SYS_ID, B.BNFT_CMPNT_SYS_ID, B.SQNC_NBR, B.CREATD_USER_ID, B.CREATD_TM_STMP, B.LST_CHG_TMS, B.LST_CHG_USR, D.BNFT_CMPNT_NM
			    FROM PROD_MSTR A, PROD_STRCTR_BNFT_CMPNT_ASSN  B, BCM_BNFT_CMPNT_MSTR D 
			    WHERE A.PROD_SYS_ID = {0}
				AND B.PROD_STRCTR_SYS_ID = A.PROD_STRCTR_SYS_ID
				AND B.BNFT_CMPNT_SYS_ID NOT IN (SELECT C.BNFT_CMPNT_SYS_ID FROM PROD_BNFT_CMPNT_ASSN C WHERE C.PROD_SYS_ID = {0})
				AND D.BNFT_CMPNT_SYS_ID = B.BNFT_CMPNT_SYS_ID
				order by b.SQNC_NBR
			</SelectSQLQuery>
			<SelectSQLQuery name="getduplicateHeirarchy">
				SELECT C.PROD_STRCTR_SYS_ID FROM PROD_STRCTR_MSTR C WHERE C.PROD_STRCTR_SYS_ID IN (
						SELECT 	B.PROD_STRCTR_SYS_ID FROM PROD_STRCTR_BNFT_CMPNT_ASSN B
						WHERE 	B.PROD_STRCTR_SYS_ID IN
									(
									select A.PROD_STRCTR_SYS_ID from PROD_STRCTR_BNFT_CMPNT_ASSN A, (select A.BNFT_CMPNT_SYS_ID, A.SQNC_NBR from PROD_STRCTR_BNFT_CMPNT_ASSN A WHERE A.PROD_STRCTR_SYS_ID = {0}) AA
									--WHERE A.BNFT_CMPNT_SYS_ID = AA.BNFT_CMPNT_SYS_ID
									where (select CC.BNFT_CMPNT_PARNT_SYS_ID from BCM_BNFT_CMPNT_MSTR CC where A.BNFT_CMPNT_SYS_ID = CC.BNFT_CMPNT_SYS_ID) =
	                                      (select CC.BNFT_CMPNT_PARNT_SYS_ID from BCM_BNFT_CMPNT_MSTR CC where AA.BNFT_CMPNT_SYS_ID = CC.BNFT_CMPNT_SYS_ID)
									AND A.SQNC_NBR = AA.SQNC_NBR
									HAVING COUNT(A.BNFT_CMPNT_SYS_ID) = (SELECT COUNT(ROWNUM) FROM PROD_STRCTR_BNFT_CMPNT_ASSN WHERE PROD_STRCTR_SYS_ID = {0})
									GROUP BY A.PROD_STRCTR_SYS_ID
									)
						HAVING COUNT(B.BNFT_CMPNT_SYS_ID) = (SELECT COUNT(ROWNUM) FROM PROD_STRCTR_BNFT_CMPNT_ASSN WHERE PROD_STRCTR_SYS_ID = {0})
						GROUP BY B.PROD_STRCTR_SYS_ID )
				AND C.PROD_STRCTR_STTS_CD != 'MARKED_FOR_DELETION' AND C.PROD_STRCTR_STTS_CD !='CHECKED_OUT'	AND C.PROD_STRCTR_STTS_CD != 'BUILDING'
				AND C.PROD_STRCTR_PARNT_SYS_ID != (SELECT PROD_STRCTR_PARNT_SYS_ID FROM PROD_STRCTR_MSTR WHERE PROD_STRCTR_SYS_ID = {0})
				AND C.PROD_STRCTR_PARNT_SYS_ID IN (
				                select X.ENTY_SYS_ID from ENTY_DOMN_INFO X where X.ENTY_SYS_ID  in (
					                        select ENTY_SYS_ID from ENTY_DOMN_INFO Y where Y.DOMN_SYS_ID in (
					                                 select DOMN_SYS_ID from ENTY_DOMN_INFO where ENTY_SYS_ID = (SELECT PROD_STRCTR_PARNT_SYS_ID FROM PROD_STRCTR_MSTR WHERE PROD_STRCTR_SYS_ID = {0}) AND ENTY_TYPE='ProdStructure'
					                        		 )
					                        AND ENTY_TYPE='ProdStructure'
							                HAVING COUNT(DOMN_SYS_ID) = (select COUNT(DOMN_SYS_ID) from ENTY_DOMN_INFO where ENTY_SYS_ID = (SELECT PROD_STRCTR_PARNT_SYS_ID FROM PROD_STRCTR_MSTR WHERE PROD_STRCTR_SYS_ID = {0}) AND ENTY_TYPE='ProdStructure')
											group by ENTY_SYS_ID 
					               			)
				                AND X.ENTY_TYPE='ProdStructure'
				                GROUP BY (X.ENTY_SYS_ID)
				                HAVING COUNT(X.DOMN_SYS_ID) = (select COUNT(DOMN_SYS_ID) from ENTY_DOMN_INFO where ENTY_SYS_ID = (SELECT PROD_STRCTR_PARNT_SYS_ID FROM PROD_STRCTR_MSTR WHERE PROD_STRCTR_SYS_ID = {0}) AND ENTY_TYPE='ProdStructure')
								)
			</SelectSQLQuery>
			<SelectSQLQuery name="getmandatoryComponent">
				SELECT 	P.PROD_STRCTR_SYS_ID 
				FROM 	BCM_BNFT_CMPNT_MSTR B,PROD_STRCTR_BNFT_CMPNT_ASSN P 
				WHERE 	P.BNFT_CMPNT_SYS_ID = B.BNFT_CMPNT_SYS_ID AND P.PROD_STRCTR_SYS_ID  = {0}
					  	AND B.BNFT_CMPNT_NM = 'GENERAL BENEFITS'
			</SelectSQLQuery>
			<SelectSQLQuery name="getmandatoryGenProvision">
				SELECT 	P.PROD_STRCTR_SYS_ID 
				FROM 	BCM_BNFT_CMPNT_MSTR B,PROD_STRCTR_BNFT_CMPNT_ASSN P 
				WHERE 	P.BNFT_CMPNT_SYS_ID = B.BNFT_CMPNT_SYS_ID AND P.PROD_STRCTR_SYS_ID  = {0}
					  	AND B.BNFT_CMPNT_NM = 'GENERAL PROVISIONS'
			</SelectSQLQuery>
			<SelectSQLQuery name="getVisibleBenefits">
				SELECT distinct prod_strctr_sys_id,bnft_cmpnt_sys_id
				  FROM prod_strctr_bnft_cstmzd 
				 WHERE prod_strctr_sys_id = {0}
				   AND bnft_cmpnt_sys_id = {1}
				   AND bnft_hide_flag = 'F'
		</SelectSQLQuery>
			<SelectSQLQuery name="getValidDateRange">
			<![CDATA[
				select a.BNFT_CMPNT_SYS_ID, a.PROD_STRCTR_SYS_ID, b.BNFT_CMPNT_NM from PROD_STRCTR_BNFT_CMPNT_ASSN a ,BCM_BNFT_CMPNT_MSTR b where a.PROD_STRCTR_SYS_ID = {0} and 
				a.BNFT_CMPNT_SYS_ID = b.BNFT_CMPNT_SYS_ID and (b.BNFT_CMPNT_EFCTV_DT > TO_DATE({1},'mm/dd/yyyy') or b.BNFT_CMPNT_EXPIRY_DT < TO_DATE({2},'mm/dd/yyyy'))
			]]>
			</SelectSQLQuery>
			<DataObject name="PROD_STRCTR_BNFT_CMPNT_ASSN">
			    <DataObjectAttribute name="PROD_STRCTR_SYS_ID"    type="Int"/>
			    <DataObjectAttribute name="BNFT_CMPNT_SYS_ID"     type="Int"/>
			    <DataObjectAttribute name="SQNC_NBR"    		  type="Int"/>
			    <DataObjectAttribute name="CREATD_USER_ID"    	  type="String"/>
			    <DataObjectAttribute name="CREATD_TM_STMP"    	  type="TimeStamp"/>
			    <DataObjectAttribute name="LST_CHG_TMS"    		  type="TimeStamp"/>
			    <DataObjectAttribute name="LST_CHG_USR"    		  type="String"/>
			    <DataObjectAttribute name="BNFT_CMPNT_NAME"    	  type="String"/>
			    <DataObjectAttribute name="PRODUCT_ID"    		  type="Int"/>
				<DataObjectAttribute name="BNFT_CMPNT_VRSN_NBR"   type="Int"/>
				<DataObjectAttribute name="LOB_NM"    			  type="String"/>
				<DataObjectAttribute name="BUS_ENTY_NM"		      type="String"/>
				<DataObjectAttribute name="BUS_GRP_NM"    		  type="String"/>
				<DataObjectAttribute name="BNFT_CMPNT_EFCTV_DT"   type="Date"/>
 				<DataObjectAttribute name="BNFT_CMPNT_EXPIRY_DT"  type="Date"/>
				<DataObjectAttribute name="PROD_STRCTR_EFCTV_DT"  type="Date"/>
				<DataObjectAttribute name="PROD_STRCTR_EXPIRY_DT" type="Date"/>
			    <DataObjectAttribute name="TIME_STAMP"    		  type="String"/>
			    <SQLTemplate transType="insert">
			        <SQLQuery>
			            INSERT INTO PROD_STRCTR_BNFT_CMPNT_ASSN ( PROD_STRCTR_SYS_ID, BNFT_CMPNT_SYS_ID, SQNC_NBR, CREATD_USER_ID, CREATD_TM_STMP, LST_CHG_TMS, LST_CHG_USR)
			            VALUES(?, ?, ?, ?, ?, ?, ?)
			        </SQLQuery>
			        <DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
			        <DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
			        <DataObjectAttributeInput index="2" name="SQNC_NBR"/>
			        <DataObjectAttributeInput index="3" name="CREATD_USER_ID"/>
			        <DataObjectAttributeInput index="4" name="CREATD_TM_STMP"/>
			        <DataObjectAttributeInput index="5" name="LST_CHG_TMS"/>
			        <DataObjectAttributeInput index="6" name="LST_CHG_USR"/>
			    </SQLTemplate>
				<SQLTemplate transType="delete">
						<SQLQuery>
								DELETE FROM PROD_STRCTR_BNFT_CMPNT_ASSN WHERE PROD_STRCTR_SYS_ID = ? AND BNFT_CMPNT_SYS_ID = ?
						</SQLQuery>
						<DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
        				<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
				</SQLTemplate>
				<SQLTemplate transType="update">
						<SQLQuery>
								UPDATE PROD_STRCTR_BNFT_CMPNT_ASSN SET SQNC_NBR = ? WHERE PROD_STRCTR_SYS_ID = ? AND BNFT_CMPNT_SYS_ID = ?
						</SQLQuery>
						<DataObjectAttributeInput index="0" name="SQNC_NBR"/>
						<DataObjectAttributeInput index="1" name="PROD_STRCTR_SYS_ID "/>
						<DataObjectAttributeInput index="2" name="BNFT_CMPNT_SYS_ID "/>
						
				</SQLTemplate>
				<SQLTemplate transType="select">
			        <DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
			        <RSIndexToDOAttributeMap>
			            <ResultIndex index="0" dataObjectAttribName ="SQNC_NBR"/>
						<ResultIndex index="1" dataObjectAttribName ="PROD_STRCTR_SYS_ID"/>
			        </RSIndexToDOAttributeMap>
			    </SQLTemplate>
				<SQLTemplate transType="select">
						<DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
						<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
						<DataObjectAttributeInput index="2" name="CREATD_USER_ID"/>
						<RSIndexToDOAttributeMap>
							<ResultIndex index="0" dataObjectAttribName ="PROD_STRCTR_SYS_ID"/>
					   </RSIndexToDOAttributeMap>
					<SearchQueryName name="attachBCToPS"/>
				</SQLTemplate>	
	    		<SQLTemplate transType="select">
			        <DataObjectAttributeInput index="0" name="PRODUCT_ID"/>
			        <RSIndexToDOAttributeMap>
			            <ResultIndex index="0" dataObjectAttribName ="PROD_STRCTR_SYS_ID"/>
			            <ResultIndex index="1" dataObjectAttribName ="BNFT_CMPNT_SYS_ID"/>
			            <ResultIndex index="2" dataObjectAttribName ="SQNC_NBR"/>
			            <ResultIndex index="3" dataObjectAttribName ="CREATD_USER_ID"/>
			            <ResultIndex index="4" dataObjectAttribName ="CREATD_TM_STMP"/>
			            <ResultIndex index="5" dataObjectAttribName ="LST_CHG_TMS"/>
			            <ResultIndex index="6" dataObjectAttribName ="LST_CHG_USR"/>
			            <ResultIndex index="7" dataObjectAttribName ="BNFT_CMPNT_NAME"/>
			        </RSIndexToDOAttributeMap>
					<SearchQueryName name="getValidComponentsForProduct"/>
			    </SQLTemplate>
				<SQLTemplate transType="select">
			        <DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
			         <RSIndexToDOAttributeMap>
			            <ResultIndex index="0" dataObjectAttribName ="PROD_STRCTR_SYS_ID"/>
			            <ResultIndex index="1" dataObjectAttribName ="BNFT_CMPNT_SYS_ID"/>
			            <ResultIndex index="2" dataObjectAttribName ="SQNC_NBR"/>
						<ResultIndex index="3" dataObjectAttribName ="BNFT_CMPNT_NAME"/>
						<ResultIndex index="4" dataObjectAttribName ="BNFT_CMPNT_VRSN_NBR"/>
						<ResultIndex index="5" dataObjectAttribName ="PROD_STRCTR_EFCTV_DT"/>
						<ResultIndex index="6" dataObjectAttribName ="PROD_STRCTR_EXPIRY_DT"/>
				    </RSIndexToDOAttributeMap>
					<SearchQueryName name="retrieveBenefitComponents"/>
			    </SQLTemplate>
				<SQLTemplate transType="select">
			        <DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
					<DataObjectAttributeInput index="1" name="BNFT_CMPNT_EFCTV_DT"/>
					<DataObjectAttributeInput index="2" name="BNFT_CMPNT_EXPIRY_DT"/>
			        <RSIndexToDOAttributeMap>
			            <ResultIndex index="1" dataObjectAttribName ="PROD_STRCTR_SYS_ID"/>
			            <ResultIndex index="0" dataObjectAttribName ="BNFT_CMPNT_SYS_ID"/>
						<ResultIndex index="2" dataObjectAttribName ="BNFT_CMPNT_NAME"/>
			        </RSIndexToDOAttributeMap>
					<SearchQueryName name="getValidDateRange"/>
			    </SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName ="PROD_STRCTR_SYS_ID"/>
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getduplicateHeirarchy"/>
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName ="PROD_STRCTR_SYS_ID"/>
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getmandatoryComponent"/>
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName ="PROD_STRCTR_SYS_ID"/>
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getmandatoryGenProvision"/>
				</SQLTemplate>
			   <DoAttributeToBOAttributeMap>
			        <Pair DOAttb="PROD_STRCTR_SYS_ID"    toBOAttb="productStructureId"/>
			        <Pair DOAttb="BNFT_CMPNT_SYS_ID"    toBOAttb="benefitComponentId"/>
			        <Pair DOAttb="SQNC_NBR"    toBOAttb="sequenceNum"/>
			        <Pair DOAttb="CREATD_USER_ID"    toBOAttb="createdUser"/>
			        <Pair DOAttb="CREATD_TM_STMP"    toBOAttb="createdTimestamp"/>
			        <Pair DOAttb="LST_CHG_TMS"    toBOAttb="lastUpdatedTimestamp"/>
			        <Pair DOAttb="LST_CHG_USR"    toBOAttb="lastUpdatedUser"/>
			        <Pair DOAttb="BNFT_CMPNT_NAME"    toBOAttb="name"/>
					<Pair DOAttb="BNFT_CMPNT_VRSN_NBR"    toBOAttb="versionNo"/>
					<Pair DOAttb="LOB_NM"    toBOAttb="lineOfBusiness"/>
					<Pair DOAttb="BUS_ENTY_NM"    toBOAttb="businessEntity"/>
					<Pair DOAttb="BUS_GRP_NM"    toBOAttb="businessGroup"/>
					<Pair DOAttb="PROD_STRCTR_EFCTV_DT"    toBOAttb="effectiveDate"/>
					<Pair DOAttb="TIME_STAMP"    toBOAttb="timeStamp"/>
					<Pair DOAttb="PROD_STRCTR_EXPIRY_DT"    toBOAttb="expireyDate"/>
			    </DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
					<Pair DOAttb="PROD_STRCTR_SYS_ID" toSCAttb = "productStructureId"/>
					<Pair DOAttb="BNFT_CMPNT_SYS_ID" toSCAttb = "benefitComponentId"/>
					<Pair DOAttb="PRODUCT_ID" toSCAttb = "productId"/>
					<Pair DOAttb="BNFT_CMPNT_EFCTV_DT" toSCAttb = "effectiveDate"/>
					<Pair DOAttb="BNFT_CMPNT_EXPIRY_DT" toSCAttb = "expiryDate"/>
					<Pair DOAttb="CREATD_USER_ID" toSCAttb = "user"/>
	  			</DoAttributeToSCAttributeMap>
			</DataObject>
			<DataObject name="ADMN_MTHD_OVRD">
				<DataObjectAttribute name="ENTY_SYS_ID" 		type="Int"	/>
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 		type="Int"	/>

				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM 
						ADMN_MTHD_OVRD
						WHERE ENTY_TYPE ='ProdStructure'
						AND ENTY_SYS_ID =? AND BNFT_CMPNT_SYS_ID = ?
					</SQLQuery>
					<DataObjectAttributeInput index="0" name="ENTY_SYS_ID"/>
					<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
				</SQLTemplate>
				
				<DoAttributeToBOAttributeMap>
						<Pair DOAttb="ENTY_SYS_ID"		toBOAttb="productStructureId"/>
						<Pair DOAttb="BNFT_CMPNT_SYS_ID"		toBOAttb="benefitComponentId"/>
				</DoAttributeToBOAttributeMap>
			</DataObject> 
			<DataObject name="PROD_STRCTR_ANSWR_OVRD">
			    <DataObjectAttribute name="ADMIN_LVL_OPT_ASSN_SYS_ID"    type="Int"/>
				<DataObjectAttribute name="QSTNR_HRCHY_SYS_ID"    type="Int"/>
				<DataObjectAttribute name="OVRD_ANSWR_ID"    type="Int"/>
			    <DataObjectAttribute name="PROD_STRCTR_SYS_ID"    type="Int"/>
			    <DataObjectAttribute name="LST_CHG_USR"    type="String"/>
			    <DataObjectAttribute name="LST_CHG_TMS"    type="TimeStamp"/>
			    <DataObjectAttribute name="CREATD_USER_ID"    type="String"/>
			    <DataObjectAttribute name="CREATD_TM_STMP"    type="TimeStamp"/>
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" type="Int"/>
			    <SQLTemplate transType="delete">
			        <SQLQuery>
			           	Delete from 
						PROD_STRCTR_ANSWR_OVRD a where a.PROD_STRCTR_SYS_ID=? and a.BNFT_CMPNT_SYS_ID=?
			        </SQLQuery>
			        <DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
			        <DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
			    </SQLTemplate>
		
			    <DoAttributeToBOAttributeMap>
			        <Pair DOAttb="PROD_STRCTR_SYS_ID"    toBOAttb="productStructureId"/>
			        <Pair DOAttb="BNFT_CMPNT_SYS_ID"    toBOAttb="benefitComponentId"/>
			    </DoAttributeToBOAttributeMap>
		</DataObject>
		<DataObject name="PROD_STRCTR_ADMN_OPT_CUSTM">
			    <DataObjectAttribute name="ADMIN_LVL_OPT_ASSN_SYS_ID"    type="Int"/>
				
				<DataObjectAttribute name="QSTNR_HRCHY_SYS_ID"    type="Int"/>
				<DataObjectAttribute name="OVRD_ANSWR_ID"    type="Int"/>
			    <DataObjectAttribute name="PROD_STRCTR_SYS_ID"    type="Int"/>
			    <DataObjectAttribute name="LST_CHG_USR"    type="String"/>
			    <DataObjectAttribute name="LST_CHG_TMS"    type="TimeStamp"/>
			    <DataObjectAttribute name="CREATD_USER_ID"    type="String"/>
			    <DataObjectAttribute name="CREATD_TM_STMP"    type="TimeStamp"/>
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" type="Int"/>
			    <SQLTemplate transType="delete">
			        <SQLQuery>
			           	Delete from 
						PROD_STRCTR_ADMN_OPT_CUSTM a where a.PROD_STRCTR_SYS_ID=? and a.BNFT_CMPNT_SYS_ID=?
			        </SQLQuery>
			        <DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
			        <DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
			    </SQLTemplate>
		
			    <DoAttributeToBOAttributeMap>
			        <Pair DOAttb="PROD_STRCTR_SYS_ID"    toBOAttb="productStructureId"/>
			        <Pair DOAttb="BNFT_CMPNT_SYS_ID"    toBOAttb="benefitComponentId"/>
			    </DoAttributeToBOAttributeMap>
		</DataObject>	
		<DataObject name="PROD_STRCTR_BNFT_CSTMZD">
		    <DataObjectAttribute name="PROD_STRCTR_SYS_ID"  type="Int"/>
		    <DataObjectAttribute name="BNFT_CMPNT_SYS_ID"   type="Int"/>
			<DataObjectAttribute name="BNFT_SYS_ID"    		type="Int"/>
			<DataObjectAttribute name="BNFT_DEFN_SYS_ID"    type="Int"/>
		    <DataObjectAttribute name="BLVL_BNFT_LVL_ID"    type="Int"/>
		    <DataObjectAttribute name="BLN_BNFT_LINE_ID" 	type="Int"/>
		    <DataObjectAttribute name="BVAL_BNFT_VAL"    	type="String"/>
		    <DataObjectAttribute name="BNFT_HIDE_FLAG"    	type="String"/>
		    <DataObjectAttribute name="BNFT_LVL_HIDE_FLAG"  type="String"/>
		    <DataObjectAttribute name="BNFT_LINE_HIDE_FLAG" type="String"/>
		    <DataObjectAttribute name="LST_CHG_TMS"    		type="TimeStamp"/>
		    <DataObjectAttribute name="LST_CHG_USR"    		type="String"/>
		    <DataObjectAttribute name="CREATD_TM_STMP"   	type="TimeStamp"/>
		    <DataObjectAttribute name="CREATD_USER_ID"    	type="String"/>			
			<SQLTemplate transType="select">
			        <DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
					<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
			        <RSIndexToDOAttributeMap>
			            <ResultIndex index="0" dataObjectAttribName ="PROD_STRCTR_SYS_ID"/>
						<ResultIndex index="1" dataObjectAttribName ="BNFT_CMPNT_SYS_ID"/>
			        </RSIndexToDOAttributeMap>
					<SearchQueryName name="getVisibleBenefits"/>
			    </SQLTemplate>
		    <SQLTemplate transType="delete">
		        <SQLQuery>
		            Delete from PROD_STRCTR_BNFT_CSTMZD bnft 
					where bnft.PROD_STRCTR_SYS_ID = ? and bnft.BNFT_CMPNT_SYS_ID = ?
		        </SQLQuery>
		         	<DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
			        <DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
		    </SQLTemplate>
			<DoAttributeToBOAttributeMap>
		        <Pair DOAttb="PROD_STRCTR_SYS_ID" toBOAttb="productStructureId"/>
		        <Pair DOAttb="BNFT_CMPNT_SYS_ID"  toBOAttb="benefitComponentId"/>
		    </DoAttributeToBOAttributeMap>
			<DoAttributeToSCAttributeMap>
				<Pair DOAttb="PROD_STRCTR_SYS_ID" toSCAttb = "productStructureId"/>
				<Pair DOAttb="BNFT_CMPNT_SYS_ID"  toSCAttb = "benefitComponentId"/>					
	  		</DoAttributeToSCAttributeMap>
		</DataObject>

		<DataObject name="PROD_STRCTR_BNFT_AFFCTD_SPS">
			    <DataObjectAttribute name="ENTY_SYS_ID"    type="Int"/>
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID"   type="Int"/>
			    <SQLTemplate transType="delete">
			        <SQLQuery>
			            DELETE FROM PROD_STRCTR_BNFT_AFFCTD_SPS WHERE ENTY_SYS_ID = ? AND BNFT_CMPNT_SYS_ID = ? 
			        </SQLQuery>
					<DataObjectAttributeInput index="0" name="ENTY_SYS_ID"/>
			        <DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
			        
			    </SQLTemplate>
			    <DoAttributeToBOAttributeMap>
					<Pair DOAttb="BNFT_CMPNT_SYS_ID"    toBOAttb="benefitComponentId"/>
			        <Pair DOAttb="ENTY_SYS_ID"    		toBOAttb="productStructureId"/>
			    </DoAttributeToBOAttributeMap>
			</DataObject>
				
		<DataObject name="NOTE_DOMAIN_OVRD_VAL">
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 		type="Int"	/>
			    <DataObjectAttribute name="ENTY_SYS_ID"             type="Int"/>

				<SQLTemplate transType="delete">
					<SQLQuery>
						delete from note_domain_ovrd_val where 
						bnft_cmpnt_sys_id=  ? and  prmry_enty_type='ATTACHPRODSTRCT' and scndry_enty_type = 'ATTACHQUESTION'
						and prmry_enty_id=?
					</SQLQuery>
					<DataObjectAttributeInput index="0" name="BNFT_CMPNT_SYS_ID"/>
					<DataObjectAttributeInput index="1" name="ENTY_SYS_ID"/>
				</SQLTemplate>
				
				<DoAttributeToBOAttributeMap>
						<Pair DOAttb="ENTY_SYS_ID"				toBOAttb="productStructureId"/>
						<Pair DOAttb="BNFT_CMPNT_SYS_ID"		toBOAttb="benefitComponentId"/>
				</DoAttributeToBOAttributeMap>
			</DataObject> 	
			
	</DataSource>
	</BusinessObjectMetadata>

<BusinessObjectMetadata name="com.wellpoint.wpd.common.productstructure.bo.ProductStructureComponent">
		<BusinessAttribute name="productStructureId" 	 			type="Int" 	keyAttrib="true"/>
		
		<DataSource name="prmd" domain="medical">
			<Connection preferred="jndi">
				<url>jdbc:oracle:thin:ewpd2/ewpd_2@10.10.43.217:1521:ISG</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>
			<SelectSQLQuery>
				select max(SQNC_NBR),PROD_STRCTR_SYS_ID from PROD_STRCTR_BNFT_CMPNT_ASSN where PROD_STRCTR_SYS_ID = ? group by PROD_STRCTR_SYS_ID
			</SelectSQLQuery>
			<DataObject name="PROD_STRCTR_BNFT_CMPNT_ASSN ">
					<DataObjectAttribute name="PROD_STRCTR_SYS_ID" 	type="Int"/>
					<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM PROD_STRCTR_BNFT_CMPNT_ASSN WHERE
						PROD_STRCTR_SYS_ID=?
					</SQLQuery>
					<DataObjectAttributeInput index="0"
						name="PROD_STRCTR_SYS_ID" />
				</SQLTemplate>
				
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="PROD_STRCTR_SYS_ID" toBOAttb = "productStructureId"/>
				</DoAttributeToBOAttributeMap>
				
			</DataObject>
			

			<DataObject name="ANSWR_OVRD_INFO">
				<DataObjectAttribute name="ENTY_SYS_ID" 		type="Int"	/>

				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM 
						ANSWR_OVRD_INFO
						WHERE enty_type ='ProdStructure'
						AND ENTY_SYS_ID =?
					</SQLQuery>
					<DataObjectAttributeInput index="0" name="ENTY_SYS_ID"/>
				</SQLTemplate>
				
				<DoAttributeToBOAttributeMap>
						<Pair DOAttb="ENTY_SYS_ID"		toBOAttb="productStructureId"/>
				</DoAttributeToBOAttributeMap>
			</DataObject> 

		</DataSource>
	</BusinessObjectMetadata>

	<BusinessObjectMetadata name="com.wellpoint.wpd.common.productstructure.bo.ProductStructureAssociatedComponent">
		<BusinessAttribute name="productStructureId" 	 			type="Int" 	keyAttrib="true"/>
		<BusinessAttribute name="benefitComponentId" 	 			type="Int" 	keyAttrib="true"/>

		<DataSource name="prmd" domain="medical">
			<Connection preferred="jndi">
				<url>jdbc:oracle:thin:ewpd2/ewpd_2@10.10.43.217:1521:ISG</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>
			<SelectSQLQuery>
				select max(SQNC_NBR),PROD_STRCTR_SYS_ID from PROD_STRCTR_BNFT_CMPNT_ASSN where PROD_STRCTR_SYS_ID = ? group by PROD_STRCTR_SYS_ID
			</SelectSQLQuery>
			<DataObject name="PROD_STRCTR_BNFT_CMPNT_ASSN ">
					<DataObjectAttribute name="PROD_STRCTR_SYS_ID" 	type="Int"/>
					<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 	type="Int"/>
					<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM PROD_STRCTR_BNFT_CMPNT_ASSN WHERE
						PROD_STRCTR_SYS_ID=? AND BNFT_CMPNT_SYS_ID=?
					</SQLQuery>
					<DataObjectAttributeInput index="0"
						name="PROD_STRCTR_SYS_ID" />
					<DataObjectAttributeInput index="1"
						name="BNFT_CMPNT_SYS_ID" />
				</SQLTemplate>
				
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="PROD_STRCTR_SYS_ID" toBOAttb = "productStructureId"/>
					<Pair DOAttb="BNFT_CMPNT_SYS_ID"  toBOAttb = "benefitComponentId"/>
				</DoAttributeToBOAttributeMap>
				
			</DataObject>
			
			<DataObject name="PROD_STRCTR_BNFT_CSTMZD">
				<DataObjectAttribute name="PROD_STRCTR_SYS_ID" 		type="Int"	/>
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 		type="Int"	/>

				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM 
						PROD_STRCTR_BNFT_CSTMZD
						WHERE PROD_STRCTR_SYS_ID = ?
						AND BNFT_CMPNT_SYS_ID =?
					</SQLQuery>
					<DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
					<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
				</SQLTemplate>
				
				<DoAttributeToBOAttributeMap>
						<Pair DOAttb="PROD_STRCTR_SYS_ID"		toBOAttb="productStructureId"/>
						<Pair DOAttb="BNFT_CMPNT_SYS_ID"		toBOAttb="benefitComponentId"/>
				</DoAttributeToBOAttributeMap>
			</DataObject> 

			<DataObject name="PROD_STRCTR_ANSWR_OVRD">
				<DataObjectAttribute name="ENTY_SYS_ID" 		type="Int"	/>
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 		type="Int"	/>

				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM 
						PROD_STRCTR_ANSWR_OVRD
						WHERE PROD_STRCTR_SYS_ID =? AND BNFT_CMPNT_SYS_ID = ?
					</SQLQuery>
					<DataObjectAttributeInput index="0" name="ENTY_SYS_ID"/>
					<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
				</SQLTemplate>
				
				<DoAttributeToBOAttributeMap>
						<Pair DOAttb="ENTY_SYS_ID"				toBOAttb="productStructureId"/>
						<Pair DOAttb="BNFT_CMPNT_SYS_ID"		toBOAttb="benefitComponentId"/>
				</DoAttributeToBOAttributeMap>
			</DataObject> 

			<DataObject name="PROD_STRCTR_ADMN_OPT_CUSTM">
				<DataObjectAttribute name="ENTY_SYS_ID" 			type="Int"	/>
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 		type="Int"	/>

				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM 
						PROD_STRCTR_ADMN_OPT_CUSTM
						WHERE PROD_STRCTR_SYS_ID =? AND BNFT_CMPNT_SYS_ID = ?
					</SQLQuery>
					<DataObjectAttributeInput index="0" name="ENTY_SYS_ID"/>
					<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
				</SQLTemplate>
				
				<DoAttributeToBOAttributeMap>
						<Pair DOAttb="ENTY_SYS_ID"		toBOAttb="productStructureId"/>
						<Pair DOAttb="BNFT_CMPNT_SYS_ID"		toBOAttb="benefitComponentId"/>
				</DoAttributeToBOAttributeMap>
			</DataObject> 

			<DataObject name="ADMN_MTHD_OVRD">
				<DataObjectAttribute name="ENTY_SYS_ID" 		type="Int"	/>
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 		type="Int"	/>

				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM 
						ADMN_MTHD_OVRD
						WHERE ENTY_TYPE = 'ProdStructure' AND ENTY_SYS_ID =? AND BNFT_CMPNT_SYS_ID = ?
					</SQLQuery>
					<DataObjectAttributeInput index="0" name="ENTY_SYS_ID"/>
					<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
				</SQLTemplate>
				
				<DoAttributeToBOAttributeMap>
						<Pair DOAttb="ENTY_SYS_ID"				toBOAttb="productStructureId"/>
						<Pair DOAttb="BNFT_CMPNT_SYS_ID"		toBOAttb="benefitComponentId"/>
				</DoAttributeToBOAttributeMap>
			</DataObject> 

		</DataSource>
	</BusinessObjectMetadata>


	 <BusinessObjectMetadata name="com.wellpoint.wpd.common.productstructure.tree.bo.ProdStructureTreeBenefitCmpnts">
		<BusinessAttribute name="productStructureId" 	 			type="Int" 	keyAttrib="true"/>
		<BusinessAttribute name="benefitCmpntId" 	 			type="Int" 	keyAttrib="true"/>
		<BusinessAttribute name="benefitCmpntDesc" 	 			type="String" 	keyAttrib="false"/>
		
		<SearchCriteria name="retrieveBenefitCmpnts">
			<SearchCriteriaAttribute name="productStructureId" 	type="Int"/>
		</SearchCriteria>
		<DataSource name="prmd" domain="medical">
			<Connection preferred="jndi">
				<url>jdbc:oracle:thin:ewpd2/ewpd_2@10.10.43.217:1521:ISG</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>
			<SelectSQLQuery name="retrieveBenefitCmpnts">
				 select a.BNFT_CMPNT_SYS_ID,BNFT_CMPNT_NM from BCM_BNFT_CMPNT_MSTR a,PROD_STRCTR_BNFT_CMPNT_ASSN b where a.BNFT_CMPNT_SYS_ID = b.BNFT_CMPNT_SYS_ID and
				 PROD_STRCTR_SYS_ID = {0} order by SQNC_NBR
			</SelectSQLQuery>
			<DataObject name="PROD_STRCTR_BNFT_CMPNT_ASSN ">
					<DataObjectAttribute name="PROD_STRCTR_SYS_ID" 	type="Int"/>
					<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 	type="Int"/>
					
				<SQLTemplate transType="select">
						<DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>					
						<RSIndexToDOAttributeMap>
							<ResultIndex index="0" dataObjectAttribName ="BNFT_CMPNT_SYS_ID"/>
						</RSIndexToDOAttributeMap>
					<SearchQueryName name="retrieveBenefitCmpnts"/>
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="BNFT_CMPNT_SYS_ID" 	toBOAttb="benefitCmpntId"/>
				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
	  				<Pair DOAttb="PROD_STRCTR_SYS_ID" toSCAttb = "productStructureId"/>
	  			</DoAttributeToSCAttributeMap>
			</DataObject>

			<DataObject name="BCM_BNFT_CMPNT_MSTR">
					<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 	type="Int"/>
					<DataObjectAttribute name="BNFT_CMPNT_NM" 	type="String"/>
				<SQLTemplate transType="select">					
						<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName ="BNFT_CMPNT_SYS_ID"/>
						<ResultIndex index="1" dataObjectAttribName ="BNFT_CMPNT_NM"/>
						</RSIndexToDOAttributeMap>
					<SearchQueryName name="retrieveBenefitCmpnts"/>
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
						<Pair DOAttb="BNFT_CMPNT_SYS_ID" 	toBOAttb="benefitCmpntId"/>
						<Pair DOAttb="BNFT_CMPNT_NM" 	toBOAttb="benefitCmpntDesc"/>
				</DoAttributeToBOAttributeMap>				
			</DataObject>
		</DataSource>
	</BusinessObjectMetadata>

	<BusinessObjectMetadata name="com.wellpoint.wpd.common.productstructure.tree.bo.ProdStructureTreeStandardBenefits">
		<BusinessAttribute name="benefitCmpntId" 	 			type="Int" 	keyAttrib="true"/>
		<BusinessAttribute name="productStructureId" 	 			type="Int" 	keyAttrib="false"/>
		<BusinessAttribute name="standardBenefitId" 	 			type="Int" 	keyAttrib="true"/>
		<BusinessAttribute name="standardBenefitDesc" 	 			type="String" 	keyAttrib="false"/>
		
		
		<SearchCriteria name="retrieveStandardBenefits">
			<SearchCriteriaAttribute name="benefitCmpntId" 	type="Int"/>
			<SearchCriteriaAttribute name="productStructureId" 	type="Int"/>
		</SearchCriteria>
		<DataSource name="prmd" domain="medical">
			<Connection preferred="jndi">
				<url>jdbc:oracle:thin:ewpd2/ewpd_2@10.10.43.217:1521:ISG</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>
			<SelectSQLQuery name="retrieveStandardBenefits">
			
				
				select a.BNFT_ID_NM,b.BNFT_SYS_ID from BMST_BNFT_MSTR a,BNFT_CMPNT_HRCHY_ASSN b
				where a.BNFT_SYS_ID = b.BNFT_SYS_ID and b.BNFT_CMPNT_SYS_ID = {0}
				and b.BNFT_SYS_ID IN (Select distinct BNFT_SYS_ID 
				from PROD_STRCTR_BNFT_CSTMZD where BNFT_CMPNT_SYS_ID ={0}
				and PROD_STRCTR_SYS_ID = {1} and BNFT_HIDE_FLAG ='F') order by SQNC_NBR

			</SelectSQLQuery>


			<DataObject name="BNFT_CMPNT_HRCHY_ASSN ">
					<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 	type="Int"/>
					<DataObjectAttribute name="BNFT_SYS_ID" 	type="Int"/>
					<DataObjectAttribute name="PROD_STRCTR_SYS_ID" 	type="Int"/>
				<SQLTemplate transType="select">
						<DataObjectAttributeInput index="0" name="BNFT_CMPNT_SYS_ID"/>	
						<DataObjectAttributeInput index="1" name="PROD_STRCTR_SYS_ID"/>
						<RSIndexToDOAttributeMap>
							<ResultIndex index="0" dataObjectAttribName ="BNFT_SYS_ID"/>
						</RSIndexToDOAttributeMap>
					<SearchQueryName name="retrieveStandardBenefits"/>
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="BNFT_SYS_ID" 	toBOAttb="standardBenefitId"/>
				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
	  				<Pair DOAttb="BNFT_CMPNT_SYS_ID" toSCAttb = "benefitCmpntId"/>
	  				<Pair DOAttb="PROD_STRCTR_SYS_ID" toSCAttb = "productStructureId"/>
	  			</DoAttributeToSCAttributeMap>
			</DataObject>

			<DataObject name="BMST_BNFT_MSTR ">
					<DataObjectAttribute name="BNFT_ID_NM" 	type="String"/>
					<DataObjectAttribute name="BNFT_SYS_ID" 	type="Int"/>
				<SQLTemplate transType="select">
									
						<RSIndexToDOAttributeMap>
							<ResultIndex index="0" dataObjectAttribName ="BNFT_ID_NM"/>
							<ResultIndex index="1" dataObjectAttribName ="BNFT_SYS_ID"/>
						
						</RSIndexToDOAttributeMap>
					<SearchQueryName name="retrieveStandardBenefits"/>
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="BNFT_ID_NM" 	toBOAttb="standardBenefitDesc"/>
					<Pair DOAttb="BNFT_SYS_ID" 	toBOAttb="standardBenefitId"/>
				</DoAttributeToBOAttributeMap>
				
			</DataObject>
		</DataSource>
	</BusinessObjectMetadata>

		<BusinessObjectMetadata name="com.wellpoint.wpd.common.productstructure.tree.bo.ProdStructureTreeBenefitDate">
			<BusinessAttribute name="standardBenefitId" 	 			type="Int" 	keyAttrib="true"/>
			<BusinessAttribute name="effectiveDate" 	 			type="String" 	keyAttrib="true"/>
			<BusinessAttribute name="expiryeDate" 	 			type="String" 	keyAttrib="true"/>
			<BusinessAttribute name="adminId" 	 			type="Int" 	keyAttrib="true"/>
			<BusinessAttribute name="bnftCmpntId" 	 			type="Int" 	keyAttrib="true"/>
		
			<SearchCriteria name="aa">
			<SearchCriteriaAttribute name="standardBenefitId" 	type="Int"/>
			<SearchCriteriaAttribute name="bnftCmpntId" 	type="Int"/>
			</SearchCriteria>
			<DataSource name="prmd" domain="medical">

			<Connection preferred="jndi">
				<url>jdbc:oracle:thin:ewpd2/ewpd_2@10.10.43.217:1521:ISG</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>
			<SelectSQLQuery name="getBenefitDate">
				<![CDATA[
				select b.BNFT_SYS_ID,a.BNFT_ADMIN_SYS_ID,to_char(BNFT_ADMIN_EFCTV_DT,'mm/dd/yyyy'),to_char(BNFT_ADMIN_EXPIRY_DT,'mm/dd/yyyy')
				 from BNFT_ADMNSTRN_ASSN a,BDM_BNFT_DEFN_MSTR b,BNFT_CMPNT_HRCHY_ASSN c,BCM_BNFT_CMPNT_MSTR d
				  WHERE b.BNFT_SYS_ID = {0} and a.BNFT_DEFN_SYS_ID = b.BNFT_DEFN_SYS_ID
				  and c.BNFT_SYS_ID = b.BNFT_SYS_ID and c.BNFT_CMPNT_SYS_ID = {1}
				  and d.BNFT_CMPNT_SYS_ID = c.BNFT_CMPNT_SYS_ID
				  and d.BNFT_CMPNT_EFCTV_DT >= b.BNFT_DEFN_EFCTV_DT
				  and d.BNFT_CMPNT_EXPIRY_DT <= b.BNFT_DEFN_EXPIRY_DT
				  
			]]>
			</SelectSQLQuery>
			<DataObject name="BDM_BNFT_DEFN_MSTR">
					<DataObjectAttribute name="BNFT_SYS_ID" 	type="Int"/>
					<DataObjectAttribute name="BNFT_DEFN_SYS_ID" 	type="Int"/>
					<DataObjectAttribute name="BNFT_COMP_SYS_ID" 	type="Int"/>
				

				<SQLTemplate transType="select">
						<DataObjectAttributeInput index="0" name="BNFT_SYS_ID"/>					
						<DataObjectAttributeInput index="1" name="BNFT_COMP_SYS_ID"/>	
					
						<RSIndexToDOAttributeMap>
							<ResultIndex index="0" dataObjectAttribName ="BNFT_SYS_ID"/>
						
						</RSIndexToDOAttributeMap>
					<SearchQueryName name="getBenefitDate"/>
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="BNFT_SYS_ID" 	toBOAttb="standardBenefitId"/>
				
				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
	  				<Pair DOAttb="BNFT_SYS_ID" toSCAttb = "standardBenefitId"/>
					<Pair DOAttb="BNFT_COMP_SYS_ID" toSCAttb = "bnftCmpntId"/>
	  			</DoAttributeToSCAttributeMap>
			</DataObject>
			<DataObject name="BNFT_ADMNSTRN_ASSN">
				<DataObjectAttribute name="BNFT_ADMIN_SYS_ID" 		type="Int"/>
				<DataObjectAttribute name="BNFT_ADMIN_EFCTV_DT" 	type="String"/>
				<DataObjectAttribute name="BNFT_ADMIN_EXPIRY_DT" 	type="String"/>
			
				
					<SQLTemplate transType="select">
										
						<RSIndexToDOAttributeMap>
							<ResultIndex index="1" dataObjectAttribName ="BNFT_ADMIN_SYS_ID"/>
							<ResultIndex index="2" dataObjectAttribName ="BNFT_ADMIN_EFCTV_DT"/>
							<ResultIndex index="3" dataObjectAttribName ="BNFT_ADMIN_EXPIRY_DT"/>
						
						</RSIndexToDOAttributeMap>
					<SearchQueryName name="getBenefitDate"/>
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="BNFT_ADMIN_SYS_ID" 	toBOAttb="adminId"/>
					<Pair DOAttb="BNFT_ADMIN_EFCTV_DT" 	toBOAttb="effectiveDate"/>
					<Pair DOAttb="BNFT_ADMIN_EXPIRY_DT" 	toBOAttb="expiryeDate"/>
				
				</DoAttributeToBOAttributeMap>
			</DataObject>
	</DataSource>
	</BusinessObjectMetadata>

	<BusinessObjectMetadata name="com.wellpoint.wpd.common.productstructure.tree.bo.ProdStructureTreeAdminOptions">
		<BusinessAttribute name="adminId" 	 			type="Int" 	keyAttrib="true"/>
		<BusinessAttribute name="lvlId" 	 			type="Int" 	keyAttrib="true"/>
		<BusinessAttribute name="optionDesc" 	 			type="String" 	keyAttrib="true"/>
		<BusinessAttribute name="effectiveDate" 	 			type="String" 	keyAttrib="true"/>
		<BusinessAttribute name="expiryDate" 	 			type="String" 	keyAttrib="true"/>	
		<BusinessAttribute name="optionIdentifier" 	 			type="Int" 	keyAttrib="true"/>	
		<BusinessAttribute name="adminLevelOptionAssnId"     type="Int"       keyAttrib="false" />	
		<BusinessAttribute name="entitySysId"            type="Int"  keyAttrib="false"/>
		<BusinessAttribute name="benefitComponentId"            type="Int"  keyAttrib="false"/>
		<BusinessAttribute name="sequenceNumber"            type="Int"  keyAttrib="false"/>

		<SearchCriteria name="searchCriteria">
			<SearchCriteriaAttribute name="adminId" 	type="Int"/>
			<SearchCriteriaAttribute name="lvlId" 	type="Int"/>
			<SearchCriteriaAttribute name="entitySysId"	type="Int"/>
			<SearchCriteriaAttribute name="benefitComponentId"	type="Int"/>
		</SearchCriteria>
		
		<DataSource name="prmd" domain="medical">

			<Connection preferred="jndi">
				<url>jdbc:oracle:thin:ewpd2/ewpd_2@10.10.43.217:1521:ISG</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>
			<SelectSQLQuery name="retrieveByAdministrationIdForBenefit">
				select distinct 
				a.ADMIN_OPT_SYS_ID,b.admin_opt_desc_txt,a.admin_lvl_opt_assn_sys_id,a.SQNC_NBR
				from bnft_admin_to_lvl_assn a , admin_opt_mstr b,
				blvl_bnft_lvl c,PROD_STRCTR_ADMN_OPT_CUSTM e
				where a.bnft_admin_sys_id = {0} and e.ADMIN_LVL_OPT_ASSN_SYS_ID = a.ADMIN_LVL_OPT_ASSN_SYS_ID and 
				b.admin_opt_sys_id = a.admin_opt_sys_id and
				a.BLVL_BNFT_LVL_ID = c.blvl_bnft_lvl_id(+) and a.ADMIN_LVL_SYS_ID =2
				and e.ADMIN_OPTION_HIDE_FLAG ='F' and e.PROD_STRCTR_SYS_ID ={1} and e.BNFT_CMPNT_SYS_ID ={2}
				order by a.SQNC_NBR
				<!-- select distinct 
				a.ADMIN_OPT_SYS_ID,b.admin_opt_desc_txt,a.admin_lvl_opt_assn_sys_id,a.SQNC_NBR
				from bnft_admin_to_lvl_assn a , admin_opt_mstr b,
				blvl_bnft_lvl c,ANSWR_OVRD_INFO e
				where a.bnft_admin_sys_id = {0} and e.ADMIN_LVL_OPT_ASSN_SYS_ID = a.ADMIN_LVL_OPT_ASSN_SYS_ID and 
				e.ENTY_TYPE = 'ProdStructure' and b.admin_opt_sys_id = a.admin_opt_sys_id and
				a.BLVL_BNFT_LVL_ID = c.blvl_bnft_lvl_id(+) and a.ADMIN_LVL_SYS_ID =2
				and e.ADMIN_OPTION_HIDE_FLAG ='F' and e.ENTY_SYS_ID ={1} and e.BNFT_CMPNT_SYS_ID ={2}
				order by a.SQNC_NBR-->
			</SelectSQLQuery>
			<SelectSQLQuery name="retrieveByAdministrationIdForBenefitLevel">
				select distinct 
				a.ADMIN_OPT_SYS_ID,b.admin_opt_desc_txt,a.admin_lvl_opt_assn_sys_id,a.SQNC_NBR
				from bnft_admin_to_lvl_assn a , admin_opt_mstr b, blvl_bnft_lvl c, badl_admn_lvl d,PROD_STRCTR_ADMN_OPT_CUSTM e
				where a.bnft_admin_sys_id = {0} and e.ADMIN_LVL_OPT_ASSN_SYS_ID = a.ADMIN_LVL_OPT_ASSN_SYS_ID and 
				b.admin_opt_sys_id = a.admin_opt_sys_id and
				d.admin_lvl_sys_id = a.admin_lvl_sys_id and a.BLVL_BNFT_LVL_ID = c.blvl_bnft_lvl_id(+) and a.ADMIN_LVL_SYS_ID=1 
				and e.PROD_STRCTR_SYS_ID = {1}
				and e.bnft_cmpnt_sys_id = {2}
				and a.BLVL_BNFT_LVL_ID in (select BLVL_BNFT_LVL_ID from BNFT_CMPNT_BNFT_CSTMZD where 
				BNFT_LVL_HIDE_FLAG = 'F' and BNFT_CMPNT_SYS_ID =  {2}) and e.ADMIN_OPTION_HIDE_FLAG ='F'
				order by a.SQNC_NBR 
				<!--  select distinct 
				a.ADMIN_OPT_SYS_ID,b.admin_opt_desc_txt,a.admin_lvl_opt_assn_sys_id,a.SQNC_NBR
				from bnft_admin_to_lvl_assn a , admin_opt_mstr b, blvl_bnft_lvl c, badl_admn_lvl d,ANSWR_OVRD_INFO e
				where a.bnft_admin_sys_id = {0} and e.ADMIN_LVL_OPT_ASSN_SYS_ID = a.ADMIN_LVL_OPT_ASSN_SYS_ID and 
				e.ENTY_TYPE = 'ProdStructure' and b.admin_opt_sys_id = a.admin_opt_sys_id and
				d.admin_lvl_sys_id = a.admin_lvl_sys_id and a.BLVL_BNFT_LVL_ID = c.blvl_bnft_lvl_id(+) and a.ADMIN_LVL_SYS_ID=1 
				and e.ENTY_SYS_ID = {1}
				and a.BLVL_BNFT_LVL_ID in (select BLVL_BNFT_LVL_ID from BNFT_CMPNT_BNFT_CSTMZD where 
				BNFT_LVL_HIDE_FLAG = 'F' and BNFT_CMPNT_SYS_ID =  {2}) and e.ADMIN_OPTION_HIDE_FLAG ='F'
				order by a.SQNC_NBR -->
			</SelectSQLQuery>
			<DataObject name="ADMIN_OPT_MSTR">
					<DataObjectAttribute name="BNFT_ADMIN_SYS_ID" 	type="Int"/>
					<DataObjectAttribute name="ADMIN_LVL_SYS_ID" 	type="Int"/>
					<DataObjectAttribute name="ADMIN_OPT_DESC_TXT" 	type="String"/>
					<DataObjectAttribute name="ADMIN_OPT_SYS_ID" 	type="Int"/>
					<DataObjectAttribute name="ADMIN_LVL_OPT_ASSN_SYS_ID" type="Int" />
					<DataObjectAttribute name="ENTY_SYS_ID" 			type="Int" />
					<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 		type="Int" />
					<DataObjectAttribute name="SQNC_NBR" 		type="Int" />


				<SQLTemplate transType="select">
						<DataObjectAttributeInput index="0" name="BNFT_ADMIN_SYS_ID"/>
						<DataObjectAttributeInput index="1" name="ENTY_SYS_ID"/>	
						<DataObjectAttributeInput index="2" name="BNFT_CMPNT_SYS_ID"/>	

						<RSIndexToDOAttributeMap>
								<ResultIndex index="0" dataObjectAttribName ="ADMIN_OPT_SYS_ID"/>
								<ResultIndex index="1" dataObjectAttribName ="ADMIN_OPT_DESC_TXT"/>
								<ResultIndex index="2" dataObjectAttribName ="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
								<ResultIndex index="3" dataObjectAttribName ="SQNC_NBR"/>
						</RSIndexToDOAttributeMap>
						<SearchQueryName name="retrieveByAdministrationIdForBenefitLevel"/>
				</SQLTemplate>
				<SQLTemplate transType="select">
						<DataObjectAttributeInput index="0" name="BNFT_ADMIN_SYS_ID"/>
						<DataObjectAttributeInput index="1" name="ENTY_SYS_ID"/>	
						<DataObjectAttributeInput index="2" name="BNFT_CMPNT_SYS_ID"/>	
						<RSIndexToDOAttributeMap>
								<ResultIndex index="0" dataObjectAttribName ="ADMIN_OPT_SYS_ID"/>
								<ResultIndex index="1" dataObjectAttribName ="ADMIN_OPT_DESC_TXT"/>
								<ResultIndex index="2" dataObjectAttribName ="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
								<ResultIndex index="3" dataObjectAttribName ="SQNC_NBR"/>
						</RSIndexToDOAttributeMap>
						<SearchQueryName name="retrieveByAdministrationIdForBenefit"/>
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="ADMIN_OPT_SYS_ID" 	     toBOAttb="optionIdentifier"/>
					<Pair DOAttb="ADMIN_OPT_DESC_TXT" 	     toBOAttb="optionDesc"/>
					<Pair DOAttb="ADMIN_LVL_OPT_ASSN_SYS_ID" toBOAttb="adminLevelOptionAssnId" />
					<Pair DOAttb="SQNC_NBR" toBOAttb="sequenceNumber" />
				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
	  				<Pair DOAttb="BNFT_ADMIN_SYS_ID" toSCAttb = "adminId"/>
					<Pair DOAttb="ADMIN_LVL_SYS_ID" toSCAttb = "lvlId"/>
					<Pair DOAttb="ENTY_SYS_ID" 	toSCAttb="entitySysId"/>
					<Pair DOAttb="BNFT_CMPNT_SYS_ID" 	toSCAttb="benefitComponentId"/>
	  			</DoAttributeToSCAttributeMap>
			</DataObject>
			<DataObject name="PROD_STRCTR_ADMN_OPT_CUSTM">
					
					<DataObjectAttribute name="ADMIN_OPTION_HIDE_FLAG" 	type="String"/>
					<DataObjectAttribute name="ADMIN_LVL_OPT_ASSN_SYS_ID" type="Int" />
					<DataObjectAttribute name="PROD_STRCTR_SYS_ID" 			type="Int" />
					<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 		type="Int" />
					
				<SQLTemplate transType="select">
						<DataObjectAttributeInput index="1" name="PROD_STRCTR_SYS_ID"/>	
						<DataObjectAttributeInput index="2" name="BNFT_CMPNT_SYS_ID"/>	
						<SearchQueryName name="retrieveByAdministrationIdForBenefit"/>
				</SQLTemplate>
				<DoAttributeToSCAttributeMap>
	  				<Pair DOAttb="PROD_STRCTR_SYS_ID" 	toSCAttb="entitySysId"/>
					<Pair DOAttb="BNFT_CMPNT_SYS_ID" 	toSCAttb="benefitComponentId"/>
	  			</DoAttributeToSCAttributeMap>
			</DataObject>
	</DataSource>
	</BusinessObjectMetadata>
	
	<BusinessObjectMetadata name="com.wellpoint.wpd.common.productstructure.bo.MandatesBO">
		<BusinessAttribute name="benefitId" 	 			type="Int" 	keyAttrib="true"/>
		<BusinessAttribute name="benefitName" 	 			type="String" 	keyAttrib="false"/>
		<BusinessAttribute name="effectiveDate" 	 			type="Date" 	keyAttrib="false"/>
		<BusinessAttribute name="expiryDate" 	 			type="Date" 	keyAttrib="false"/>
		<BusinessAttribute name="optionalIdentifier" 	 			type="String" 	keyAttrib="false"/>

		<SearchCriteria name="viewMandates">
			<SearchCriteriaAttribute name="benefitId" 	type="Int"/>
		</SearchCriteria>
		<DataSource name="prmd" domain="medical">
			<Connection preferred="jndi">
				<url>jdbc:oracle:thin:ewpd2/ewpd_2@10.10.43.217:1521:ISG</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>
			<SelectSQLQuery name="viewMandates">
			    SELECT BNFT_SYS_ID,BNFT_ID_NM, BNFT_MNDT_EFCTV_DT, BNFT_MNDT_EXPIRY_DT,BNFT_MNDT_OPTNL_ID
			    FROM BMNDT_BNFT_MNDT
			    WHERE BNFT_SYS_ID = {0}
			</SelectSQLQuery>
				<DataObject name="BMNDT_BNFT_MNDT">
				    <DataObjectAttribute name="BNFT_SYS_ID"    type="Int"/>
				    <DataObjectAttribute name="BNFT_ID_NM"    type="String"/>
				    <DataObjectAttribute name="BNFT_MNDT_EFCTV_DT"    type="Date"/>
				    <DataObjectAttribute name="BNFT_MNDT_EXPIRY_DT"    type="Date"/>
				    <DataObjectAttribute name="BNFT_MNDT_OPTNL_ID"    type="String"/>

					<SQLTemplate transType="select">
							<DataObjectAttributeInput index="0" name="BNFT_SYS_ID"/>									
							<RSIndexToDOAttributeMap>
					            <ResultIndex index="0" dataObjectAttribName ="BNFT_SYS_ID"/>
					            <ResultIndex index="1" dataObjectAttribName ="BNFT_ID_NM"/>
					            <ResultIndex index="2" dataObjectAttribName ="BNFT_MNDT_EFCTV_DT"/>
					            <ResultIndex index="3" dataObjectAttribName ="BNFT_MNDT_EXPIRY_DT"/>
					            <ResultIndex index="4" dataObjectAttribName ="BNFT_MNDT_OPTNL_ID"/>
					        </RSIndexToDOAttributeMap>
						<SearchQueryName name="viewMandates"/>
					</SQLTemplate>
			 		<DoAttributeToBOAttributeMap>
				        <Pair DOAttb="BNFT_SYS_ID"    toBOAttb="benefitId"/>
				        <Pair DOAttb="BNFT_ID_NM"    toBOAttb="benefitName"/>
				        <Pair DOAttb="BNFT_MNDT_EFCTV_DT"    toBOAttb="effectiveDate"/>
				        <Pair DOAttb="BNFT_MNDT_EXPIRY_DT"    toBOAttb="expiryDate"/>
				        <Pair DOAttb="BNFT_MNDT_OPTNL_ID"    toBOAttb="optionalIdentifier"/>
				    </DoAttributeToBOAttributeMap>
					<DoAttributeToSCAttributeMap>
				        <Pair DOAttb="BNFT_SYS_ID"    toSCAttb="benefitId"/>
					</DoAttributeToSCAttributeMap>
				</DataObject>
		</DataSource>	
	</BusinessObjectMetadata>
	<BusinessObjectMetadata name="com.wellpoint.wpd.common.productstructure.bo.ProductStructureBenefitAdministration">
		<BusinessAttribute name="productStructureId" 	 			type="Int" 	keyAttrib="false"/>
		<BusinessAttribute name="benefitComponentId" 	 			type="Int" 	keyAttrib="false"/>
		<BusinessAttribute name="adminLevelOptionId" 	 			type="Int" 	keyAttrib="true"/>
		<BusinessAttribute name="questionId" 	 			type="Int" 	keyAttrib="true"/>
		<BusinessAttribute name="answerId" 	 			type="Int" 	keyAttrib="true"/>
		<BusinessAttribute name="createdUser" 	 			type="String" 	keyAttrib="false"/>		
		<BusinessAttribute name="createdTimestamp" 	 			type="Date" 	keyAttrib="false"/>		
		<BusinessAttribute name="lastUpdatedUser" 	 			type="String" 	keyAttrib="false"/>		
		<BusinessAttribute name="lastUpdatedTimestamp" 	 			type="Date" 	keyAttrib="false"/>
		<BusinessAttribute name="adminOptionHideFlag" 	 			type="String" 	keyAttrib="false"/>	
		<BusinessAttribute name="enityid" 	 			type="Int" 	keyAttrib="false"/>	
		<BusinessAttribute name="entityType" 	 			type="String" 	keyAttrib="false"/>	
		<SearchCriteria name="retrieveBenefitAdmn">
			<SearchCriteriaAttribute name="benefitComponentId" 	type="Int"/>
			<SearchCriteriaAttribute name="productStructureId" 	type="Int"/>
		</SearchCriteria>
		<DataSource name="prmd" domain="medical">
			<Connection preferred="jndi">
				<url>jdbc:oracle:thin:ewpd2/ewpd_2@10.10.43.217:1521:ISG</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>
			<SelectSQLQuery name="retrieveBenefitAdmn">
				select ENTY_SYS_ID,ADMIN_LVL_OPT_ASSN_SYS_ID,ADQM_ADMN_QSTN_NBR,BNFT_CMPNT_SYS_ID,OVRD_ANSWR_ID,LST_CHG_TMS,LST_CHG_USR,CREATD_TM_STMP,CREATD_USER_ID
					 from ANSWR_OVRD_INFO where ENTY_SYS_ID = {0} and ENTY_TYPE = 'BENEFITCOMP'
			</SelectSQLQuery>
			<SelectSQLQuery name="getBenefitAdmn">
				select ENTY_SYS_ID,ADMIN_LVL_OPT_ASSN_SYS_ID,ADQM_ADMN_QSTN_NBR,BNFT_CMPNT_SYS_ID,OVRD_ANSWR_ID,LST_CHG_TMS,LST_CHG_USR,CREATD_TM_STMP,CREATD_USER_ID
					 from ANSWR_OVRD_INFO where ENTY_SYS_ID = {0} and ENTY_TYPE = 'ProdStructure'
			</SelectSQLQuery>
			<SelectSQLQuery name="getBenefitAdmnForCmpnt">
				select ENTY_SYS_ID,ADMIN_LVL_OPT_ASSN_SYS_ID,ADQM_ADMN_QSTN_NBR,BNFT_CMPNT_SYS_ID,OVRD_ANSWR_ID,LST_CHG_TMS,LST_CHG_USR,CREATD_TM_STMP,CREATD_USER_ID
					 from ANSWR_OVRD_INFO where BNFT_CMPNT_SYS_ID = {0} and ENTY_TYPE = 'BENEFITCOMP'
			</SelectSQLQuery>
			<SelectSQLQuery name="getBenefitAdmnForProduct">
				select ENTY_SYS_ID,ADMIN_LVL_OPT_ASSN_SYS_ID,ADQM_ADMN_QSTN_NBR,BNFT_CMPNT_SYS_ID,OVRD_ANSWR_ID,LST_CHG_TMS,LST_CHG_USR,CREATD_TM_STMP,CREATD_USER_ID
					 from ANSWR_OVRD_INFO where BNFT_CMPNT_SYS_ID = {0} and ENTY_TYPE = 'ProdStructure' and ENTY_SYS_ID = {1} 
			</SelectSQLQuery>


				<DataObject name="ANSWR_OVRD_INFO">
			    <DataObjectAttribute name="ENTY_TYPE"    type="String"/>
			    <DataObjectAttribute name="ENTY_SYS_ID"    type="Int"/>
			    <DataObjectAttribute name="ADMIN_LVL_OPT_ASSN_SYS_ID"    type="Int"/>
			    <DataObjectAttribute name="ADQM_ADMN_QSTN_NBR"    type="Int"/>
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID"    type="Int"/>
			    <DataObjectAttribute name="OVRD_ANSWR_ID"    type="Int"/>
			    <DataObjectAttribute name="LST_CHG_USR"    type="String"/>
			    <DataObjectAttribute name="LST_CHG_TMS"    type="TimeStamp"/>
			    <DataObjectAttribute name="CREATD_USER_ID"    type="String"/>
			    <DataObjectAttribute name="CREATD_TM_STMP"    type="TimeStamp"/>
				<DataObjectAttribute name="ADMIN_OPTION_HIDE_FLAG"    type="String"/>
				<SQLTemplate transType="select">
			        <DataObjectAttributeInput index="0" name="ENTY_SYS_ID"/>
					<RSIndexToDOAttributeMap>
			            <ResultIndex index="0" dataObjectAttribName ="ENTY_SYS_ID"/>
			            <ResultIndex index="1" dataObjectAttribName ="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
						<ResultIndex index="2" dataObjectAttribName ="ADQM_ADMN_QSTN_NBR"/>
						<ResultIndex index="3" dataObjectAttribName ="BNFT_CMPNT_SYS_ID"/>
						<ResultIndex index="4" dataObjectAttribName ="OVRD_ANSWR_ID"/>
						<ResultIndex index="5" dataObjectAttribName ="LST_CHG_TMS"/>
						<ResultIndex index="6" dataObjectAttribName ="LST_CHG_USR"/>						
						<ResultIndex index="7" dataObjectAttribName ="CREATD_TM_STMP"/>	
						<ResultIndex index="8" dataObjectAttribName ="CREATD_USER_ID"/>	
			        </RSIndexToDOAttributeMap>
					<SearchQueryName name="getBenefitAdmn"/>
			    </SQLTemplate>
				<SQLTemplate transType="select">
			        <DataObjectAttributeInput index="0" name="BNFT_CMPNT_SYS_ID"/>
					<RSIndexToDOAttributeMap>
			            <ResultIndex index="0" dataObjectAttribName ="ENTY_SYS_ID"/>
			            <ResultIndex index="1" dataObjectAttribName ="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
						<ResultIndex index="2" dataObjectAttribName ="ADQM_ADMN_QSTN_NBR"/>
						<ResultIndex index="3" dataObjectAttribName ="BNFT_CMPNT_SYS_ID"/>
						<ResultIndex index="4" dataObjectAttribName ="OVRD_ANSWR_ID"/>
						<ResultIndex index="5" dataObjectAttribName ="LST_CHG_TMS"/>
						<ResultIndex index="6" dataObjectAttribName ="LST_CHG_USR"/>						
						<ResultIndex index="7" dataObjectAttribName ="CREATD_TM_STMP"/>	
						<ResultIndex index="8" dataObjectAttribName ="CREATD_USER_ID"/>	
			        </RSIndexToDOAttributeMap>
					<SearchQueryName name="getBenefitAdmnForCmpnt"/>
			    </SQLTemplate>
				<SQLTemplate transType="select">
			        <DataObjectAttributeInput index="0" name="BNFT_CMPNT_SYS_ID"/>
					<DataObjectAttributeInput index="1" name="ENTY_SYS_ID"/>
					<RSIndexToDOAttributeMap>
			            <ResultIndex index="0" dataObjectAttribName ="ENTY_SYS_ID"/>
			            <ResultIndex index="1" dataObjectAttribName ="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
						<ResultIndex index="2" dataObjectAttribName ="ADQM_ADMN_QSTN_NBR"/>
						<ResultIndex index="3" dataObjectAttribName ="BNFT_CMPNT_SYS_ID"/>
						<ResultIndex index="4" dataObjectAttribName ="OVRD_ANSWR_ID"/>
						<ResultIndex index="5" dataObjectAttribName ="LST_CHG_TMS"/>
						<ResultIndex index="6" dataObjectAttribName ="LST_CHG_USR"/>						
						<ResultIndex index="7" dataObjectAttribName ="CREATD_TM_STMP"/>	
						<ResultIndex index="8" dataObjectAttribName ="CREATD_USER_ID"/>	
			        </RSIndexToDOAttributeMap>
					<SearchQueryName name="getBenefitAdmnForProduct"/>
			    </SQLTemplate>
				<SQLTemplate transType="select">
			        <DataObjectAttributeInput index="0" name="ENTY_SYS_ID"/>
					<RSIndexToDOAttributeMap>
			            <ResultIndex index="0" dataObjectAttribName ="ENTY_SYS_ID"/>
			            <ResultIndex index="1" dataObjectAttribName ="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
						<ResultIndex index="2" dataObjectAttribName ="ADQM_ADMN_QSTN_NBR"/>
						<ResultIndex index="3" dataObjectAttribName ="BNFT_CMPNT_SYS_ID"/>
						<ResultIndex index="4" dataObjectAttribName ="OVRD_ANSWR_ID"/>
						<ResultIndex index="5" dataObjectAttribName ="LST_CHG_TMS"/>
						<ResultIndex index="6" dataObjectAttribName ="LST_CHG_USR"/>						
						<ResultIndex index="7" dataObjectAttribName ="CREATD_TM_STMP"/>	
						<ResultIndex index="8" dataObjectAttribName ="CREATD_USER_ID"/>	
			        </RSIndexToDOAttributeMap>
					<SearchQueryName name="retrieveBenefitAdmn"/>
			    </SQLTemplate>
			    <SQLTemplate transType="insert">
			        <SQLQuery>
			            INSERT INTO ANSWR_OVRD_INFO ( ENTY_TYPE, ENTY_SYS_ID, ADMIN_LVL_OPT_ASSN_SYS_ID, ADQM_ADMN_QSTN_NBR,BNFT_CMPNT_SYS_ID, OVRD_ANSWR_ID, LST_CHG_USR, LST_CHG_TMS, CREATD_USER_ID, CREATD_TM_STMP)
			            VALUES('ProdStructure', ?, ?, ?, ?, ?, ?, ?, ?, ?)
			        </SQLQuery>
			        <DataObjectAttributeInput index="0" name="ENTY_SYS_ID"/>
			        <DataObjectAttributeInput index="1" name="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
			        <DataObjectAttributeInput index="2" name="ADQM_ADMN_QSTN_NBR"/>
					<DataObjectAttributeInput index="3" name="BNFT_CMPNT_SYS_ID"/>
			        <DataObjectAttributeInput index="4" name="OVRD_ANSWR_ID"/>
			        <DataObjectAttributeInput index="5" name="LST_CHG_USR"/>
			        <DataObjectAttributeInput index="6" name="LST_CHG_TMS"/>
			        <DataObjectAttributeInput index="7" name="CREATD_USER_ID"/>
			        <DataObjectAttributeInput index="8" name="CREATD_TM_STMP"/>
			    </SQLTemplate>
				
				<SQLTemplate transType="update">
					<SQLQuery>
		               UPDATE ANSWR_OVRD_INFO SET ADMIN_OPTION_HIDE_FLAG = ? WHERE  ENTY_TYPE = ? AND ENTY_SYS_ID = ? 
							AND ADMIN_LVL_OPT_ASSN_SYS_ID = ?
		           </SQLQuery>
		           	<DataObjectAttributeInput index="0" name="ADMIN_OPTION_HIDE_FLAG"/>
		           	<DataObjectAttributeInput index="1" name="ENTY_TYPE"/>
					<DataObjectAttributeInput index="2" name="ENTY_SYS_ID"/>
		           	<DataObjectAttributeInput index="3" name="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
		       </SQLTemplate>
			    <DoAttributeToBOAttributeMap>
			        <Pair DOAttb="ENTY_SYS_ID"    toBOAttb="enityid"/>
			        <Pair DOAttb="ADMIN_LVL_OPT_ASSN_SYS_ID"    toBOAttb="adminLevelOptionId"/>
			        <Pair DOAttb="ADQM_ADMN_QSTN_NBR"    toBOAttb="questionId"/>
					<Pair DOAttb="BNFT_CMPNT_SYS_ID"    toBOAttb="benefitComponentId"/>
			        <Pair DOAttb="OVRD_ANSWR_ID"    toBOAttb="answerId"/>
			        <Pair DOAttb="LST_CHG_TMS"    toBOAttb="lastUpdatedTimestamp"/>
			        <Pair DOAttb="LST_CHG_USR"    toBOAttb="lastUpdatedUser"/>
			        <Pair DOAttb="CREATD_TM_STMP"    toBOAttb="createdTimestamp"/>
			        <Pair DOAttb="CREATD_USER_ID"    toBOAttb="createdUser"/>
					<Pair DOAttb="ADMIN_OPTION_HIDE_FLAG"  toBOAttb="adminOptionHideFlag"/>
			        <Pair DOAttb="ENTY_TYPE"    toBOAttb="entityType"/>
			    </DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
			        <Pair DOAttb="ENTY_SYS_ID"    toSCAttb="productStructureId"/>
					<Pair DOAttb="BNFT_CMPNT_SYS_ID"    toSCAttb="benefitComponentId"/>
			    </DoAttributeToSCAttributeMap>


		</DataObject> 
	</DataSource>
	</BusinessObjectMetadata>
	<BusinessObjectMetadata name="com.wellpoint.wpd.common.productstructure.bo.ProductStructureAssociatedBenefit">
				<BusinessAttribute name="benefitComponentId" type="Int"
					keyAttrib="true" />
				<BusinessAttribute name="benefitCmpntDesc" type="String"
					keyAttrib="false" />
				<BusinessAttribute name="productStructureId" type="Int"
					keyAttrib="false" />
				<BusinessAttribute name="standardBenefitId" type="Int"
					keyAttrib="true" />
				<BusinessAttribute name="standardBenefitDesc" type="String"
					keyAttrib="false" />
				<BusinessAttribute name="benefitHideFlag" type="String"
					keyAttrib="false" />
				<BusinessAttribute name="benefitLineFlag" type="String"
					keyAttrib="false" />
				<BusinessAttribute name="benefitLevelFlag" type="String"
					keyAttrib="false" />
				<BusinessAttribute name="adminOptionFlag" type="String"
					keyAttrib="false" />
				<BusinessAttribute name="questionsFlag" type="String"
					keyAttrib="false" />
				<BusinessAttribute name="entityType" 	type="String"
					keyAttrib="false"/>	
				<BusinessAttribute name="componentSeqNo" type="Int"
					keyAttrib="false" />
				<BusinessAttribute name="benefitSeqNo" type="Int"
					keyAttrib="false" />

					<SearchCriteria>
						<SearchCriteriaAttribute name="benefitComponentId" type="Int" />
						<SearchCriteriaAttribute name="productStructureId" type="Int" />
						<SearchCriteriaAttribute name="benefitId" type="Int" />
						<SearchCriteriaAttribute name="userId" type="String" />
						<!-- Added the argument for Hide/Unhide procedure call eWPD Stabilization -->
						<SearchCriteriaAttribute name="isBenefitVisibilityStatus" type="String" /> 
					</SearchCriteria>
					<DataSource name="prmd" domain="medical">
						<Connection preferred="jndi">
							<url>
								jdbc:oracle:thin:ewpd2/ewpd_2@10.10.43.217:1521:ISG
							</url>
							<jndi>java:comp/env/wsbEwpdDS</jndi>
						</Connection>
						<SelectSQLQuery name="searchVisibleStandardBenefits">
							SELECT   BNFT_ID_NM, BNFT_SYS_ID,BNFT_HIDE_FLAG,BNFT_CMPNT_NM
							FROM
							(select  DISTINCT e.SQNC_NBR, a.BNFT_ID_NM, a.BNFT_SYS_ID,c.BNFT_HIDE_FLAG,d.BNFT_CMPNT_NM
			        		from BMST_BNFT_MSTR a, PROD_STRCTR_BNFT_CSTMZD c,BCM_BNFT_CMPNT_MSTR d,BNFT_CMPNT_HRCHY_ASSN e
			        		where a.BNFT_SYS_ID = e.BNFT_SYS_ID 
							and a.BNFT_SYS_ID = c.BNFT_SYS_ID 
							and c.BNFT_CMPNT_SYS_ID = d.BNFT_CMPNT_SYS_ID
 							and c.BNFT_CMPNT_SYS_ID = e.BNFT_CMPNT_SYS_ID
			        		and c.BNFT_CMPNT_SYS_ID = {0}
			        		and c.BNFT_HIDE_FLAG = 'F'
			                and c.PROD_STRCTR_SYS_ID =  {1} 
                      		order by e.SQNC_NBR
 							)
						</SelectSQLQuery>
						<SelectSQLQuery name="searchAllStandardBenefits">
								SELECT /*+ FIRST_ROWS*/ table1.bnft_id_nm, table1.bnft_sys_id, table1.bnft_hide_flag,
							       table1.bnft_cmpnt_nm, table1.sqnc_nbr
							   FROM (SELECT DISTINCT a.bnft_id_nm, a.bnft_sys_id, c.bnft_hide_flag,
							                         d.bnft_cmpnt_nm, e.sqnc_nbr
							                    FROM bmst_bnft_mstr a,
							                         prod_strctr_bnft_cstmzd c,
							                         bcm_bnft_cmpnt_mstr d,
							                         bnft_cmpnt_hrchy_assn e
							                   WHERE a.bnft_sys_id = e.bnft_sys_id
							                     AND a.bnft_sys_id = c.bnft_sys_id
							                     AND c.bnft_cmpnt_sys_id = d.bnft_cmpnt_sys_id
							                     AND c.bnft_cmpnt_sys_id = e.bnft_cmpnt_sys_id
							                     AND c.bnft_cmpnt_sys_id = {0}
							                     AND c.prod_strctr_sys_id = {1}
							                ORDER BY e.sqnc_nbr) table1,
							        ( SELECT DISTINCT d.bnft_sys_id
							                    FROM 
							                       prod_fmly_buss_enty_pva_map a ,
							                       prod_strctr_mstr  b ,
							                       bln_bnft_line   c ,
							                        prod_strctr_bnft_cstmzd d
							                   WHERE       
							                       a.prod_fmly_id       =  b.prod_fmly_nm
							                   AND b.prod_strctr_sys_id = {1}
							                   AND c.bln_bnft_line_pva  =  a.pva_id
							                   AND c.bnft_defn_sys_id   =  d.bnft_defn_sys_id
							                   AND c.blvl_bnft_lvl_id   =  d.blvl_bnft_lvl_id
							                   AND c.bln_bnft_line_id   =  d.bln_bnft_line_id
							                   AND d.prod_strctr_sys_id = {1}
							                   AND d.bnft_cmpnt_sys_id  = {0}
							                     ) table2
							  WHERE table1.bnft_sys_id = table2.bnft_sys_id               
							 ORDER BY table1.sqnc_nbr								 
						</SelectSQLQuery>
						<SelectSQLQuery name="searchComponentHierarchy">
							SELECT UNIQUE a.bnft_id_nm, a.bnft_sys_id, d.bnft_cmpnt_nm,
							              d.bnft_cmpnt_sys_id, p.sqnc_nbr cmp_sqnc_nbr,
							              e.sqnc_nbr bnft_sqnc_nbr
							         FROM bmst_bnft_mstr a,
							              prod_strctr_bnft_cstmzd c,
							              bcm_bnft_cmpnt_mstr d,
							              bnft_cmpnt_hrchy_assn e,
							              prod_strctr_bnft_cmpnt_assn p
							        WHERE a.bnft_sys_id = e.bnft_sys_id
							          AND a.bnft_sys_id = c.bnft_sys_id
							          AND p.bnft_cmpnt_sys_id = e.bnft_cmpnt_sys_id
							          AND c.bnft_cmpnt_sys_id = p.bnft_cmpnt_sys_id
							          AND c.bnft_hide_flag = 'F'
							          AND p.bnft_cmpnt_sys_id = d.bnft_cmpnt_sys_id
							          AND p.prod_strctr_sys_id = c.prod_strctr_sys_id
							          AND p.prod_strctr_sys_id = {0}
							     ORDER BY p.sqnc_nbr, e.sqnc_nbr
						</SelectSQLQuery>

						<SelectSQLQuery name="PS_removeBenefitCustomization">
							Call PS_REM_BEN_CUSTZN({0}, {1}, {2}, {3}, {4})
						</SelectSQLQuery>
						<!-- eWPD Stabilization Release Procedure to Hide/Unhide Benefits -->
						<SelectSQLQuery name="PS_hideunhidebenefits">
							Call PS_HIDE_UNHIDE_BENEFITS({0}, {1}, {2}, {3}, {4}, {5})
						</SelectSQLQuery>

			<DataObject name="BMST_BNFT_MSTR ">
				<DataObjectAttribute name="BNFT_ID_NM" type="String" />
				<DataObjectAttribute name="BNFT_SYS_ID" type="Int" />
				<DataObjectAttribute name="CMP_SQNC_NBR" type="Int" />
				<DataObjectAttribute name="BNFT_SQNC_NBR" type="Int" />
				<SQLTemplate transType="select">
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName="BNFT_ID_NM" />
						<ResultIndex index="1" dataObjectAttribName="BNFT_SYS_ID" />
						<ResultIndex index="4" dataObjectAttribName="BNFT_SQNC_NBR" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchAllStandardBenefits" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName="BNFT_ID_NM" />
						<ResultIndex index="1" dataObjectAttribName="BNFT_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchVisibleStandardBenefits" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName="BNFT_ID_NM" />
						<ResultIndex index="1" dataObjectAttribName="BNFT_SYS_ID" />
						<ResultIndex index="4" dataObjectAttribName="CMP_SQNC_NBR" />
						<ResultIndex index="5" dataObjectAttribName="BNFT_SQNC_NBR" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchComponentHierarchy" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="BNFT_ID_NM" toBOAttb="standardBenefitDesc" />
					<Pair DOAttb="BNFT_SYS_ID" toBOAttb="standardBenefitId" />
					<Pair DOAttb="CMP_SQNC_NBR" toBOAttb="componentSeqNo" />
					<Pair DOAttb="BNFT_SQNC_NBR" toBOAttb="benefitSeqNo" />
				</DoAttributeToBOAttributeMap>
			</DataObject>

			<DataObject name="PROD_STRCTR_BNFT_CSTMZD">
				<DataObjectAttribute name="BNFT_SYS_ID" type="Int" />
				<DataObjectAttribute name="BNFT_HIDE_FLAG" type="String" />
				<DataObjectAttribute name="BNFT_LVL_HIDE_FLAG" type="String" />
				<DataObjectAttribute name="BNFT_LINE_HIDE_FLAG" type="String" />
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" type="Int" />
				<DataObjectAttribute name="PROD_STRCTR_SYS_ID" type="Int" />
				<DataObjectAttribute name="USER_ID" type="String" />
				<DataObjectAttribute name="VISIBILITY" type="String" />

				<SQLTemplate transType="update">
					<SQLQuery>
						UPDATE PROD_STRCTR_BNFT_CSTMZD SET BNFT_HIDE_FLAG = ?,BNFT_LVL_HIDE_FLAG = ?,BNFT_LINE_HIDE_FLAG = ?
						WHERE	BNFT_SYS_ID = ? 
						and BNFT_CMPNT_SYS_ID = ?
						and PROD_STRCTR_SYS_ID = ?  
						
					</SQLQuery>
					<DataObjectAttributeInput index="0" name="BNFT_HIDE_FLAG" />
					<DataObjectAttributeInput index="1"	name="BNFT_LVL_HIDE_FLAG" />
					<DataObjectAttributeInput index="2"	name="BNFT_LINE_HIDE_FLAG" />
					<DataObjectAttributeInput index="3"	name="BNFT_SYS_ID" />
					<DataObjectAttributeInput index="4"	name="BNFT_CMPNT_SYS_ID" />
					<DataObjectAttributeInput index="5"	name="PROD_STRCTR_SYS_ID" />
				</SQLTemplate>

				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID" />
					<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID" />
					<DataObjectAttributeInput index="2" name="BNFT_SYS_ID" />
					<DataObjectAttributeInput index="3" name="USER_ID" />
						<RSIndexToDOAttributeMap>
							<ResultIndex index="0" dataObjectAttribName="BNFT_CMPNT_SYS_ID" />
						</RSIndexToDOAttributeMap>
					<SearchQueryName name="PS_removeBenefitCustomization" />
				</SQLTemplate>

				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID" />
					<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID" />
					<DataObjectAttributeInput index="2" name="BNFT_SYS_ID" />
					<DataObjectAttributeInput index="3" name="USER_ID" />
					<DataObjectAttributeInput index="4" name="VISIBILITY" />
						<RSIndexToDOAttributeMap>
							<ResultIndex index="0" dataObjectAttribName="BNFT_CMPNT_SYS_ID" />
						</RSIndexToDOAttributeMap>
					<SearchQueryName name="PS_hideunhidebenefits" />
				</SQLTemplate>

				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="BNFT_CMPNT_SYS_ID" />
					<DataObjectAttributeInput index="1" name="PROD_STRCTR_SYS_ID" />
						<RSIndexToDOAttributeMap>
							<ResultIndex index="2" dataObjectAttribName="BNFT_HIDE_FLAG" />
						</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchVisibleStandardBenefits" />
				</SQLTemplate>

				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="BNFT_CMPNT_SYS_ID" />
					<DataObjectAttributeInput index="1" name="PROD_STRCTR_SYS_ID" />
						<RSIndexToDOAttributeMap>
							<ResultIndex index="2" dataObjectAttribName="BNFT_HIDE_FLAG" />
						</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchAllStandardBenefits" />
				</SQLTemplate>

				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID" />						
					<SearchQueryName name="searchComponentHierarchy" />
				</SQLTemplate>

				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="BNFT_HIDE_FLAG" toBOAttb="benefitHideFlag" />
					<Pair DOAttb="BNFT_LVL_HIDE_FLAG" toBOAttb="benefitLevelFlag" />
					<Pair DOAttb="BNFT_LINE_HIDE_FLAG" toBOAttb="benefitLineFlag" />
					<Pair DOAttb="BNFT_SYS_ID"    toBOAttb="standardBenefitId" />
					<Pair DOAttb="BNFT_CMPNT_SYS_ID" toBOAttb="benefitComponentId" />
					<Pair DOAttb="PROD_STRCTR_SYS_ID" toBOAttb="productStructureId" />
					
				</DoAttributeToBOAttributeMap>

				<DoAttributeToSCAttributeMap>
					<Pair DOAttb="BNFT_CMPNT_SYS_ID" toSCAttb="benefitComponentId" />
					<Pair DOAttb="PROD_STRCTR_SYS_ID" toSCAttb="productStructureId" />
					<Pair DOAttb="BNFT_SYS_ID" toSCAttb="benefitId" />
					<Pair DOAttb="USER_ID" toSCAttb="userId" />
					<Pair DOAttb="VISIBILITY" toSCAttb="isBenefitVisibilityStatus" />
					
				</DoAttributeToSCAttributeMap>
			</DataObject>

			<DataObject name="PROD_STRCTR_ADMN_OPT_CUSTM">
				<DataObjectAttribute name="QSTN_HIDE_FLAG" type="String" />
				<DataObjectAttribute name="ADMIN_OPTION_HIDE_FLAG" type="String" />
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" type="Int" />
				<DataObjectAttribute name="ENTY_SYS_ID" type="Int" />
				<DataObjectAttribute name="ENTY_TYPE" type="String" />
				<DataObjectAttribute name="BNFT_SYS_ID" type="Int" />

				<SQLTemplate transType="update">
					<SQLQuery>
				     	UPDATE PROD_STRCTR_ADMN_OPT_CUSTM SET ADMIN_OPTION_HIDE_FLAG = ?
                        WHERE  PROD_STRCTR_SYS_ID = ? AND BNFT_CMPNT_SYS_ID = ? and 
                        ADMIN_LVL_OPT_ASSN_SYS_ID  IN (
							SELECT ADMIN_LVL_OPT_ASSN_SYS_ID FROM BNFT_ADMIN_TO_LVL_ASSN
							WHERE BNFT_DEFN_SYS_ID IN (
							SELECT BNFT_DEFN_SYS_ID FROM BDM_BNFT_DEFN_MSTR WHERE BNFT_SYS_ID =?))
					</SQLQuery>
					<DataObjectAttributeInput index="0"	name="ADMIN_OPTION_HIDE_FLAG" />
					<DataObjectAttributeInput index="2"	name="ENTY_SYS_ID" />
					<DataObjectAttributeInput index="3"	name="BNFT_CMPNT_SYS_ID" />
					<DataObjectAttributeInput index="4"	name="BNFT_SYS_ID" />
				</SQLTemplate>

				
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="ADMIN_OPTION_HIDE_FLAG" toBOAttb="adminOptionFlag" />
					<Pair DOAttb="BNFT_CMPNT_SYS_ID" toBOAttb="benefitComponentId" />
					<Pair DOAttb="ENTY_SYS_ID" toBOAttb="productStructureId" />
					<Pair DOAttb="ENTY_TYPE" toBOAttb="entityType" />
					<Pair DOAttb="BNFT_SYS_ID" toBOAttb="standardBenefitId" />
				</DoAttributeToBOAttributeMap>
			</DataObject>
				
			<DataObject name="BCM_BNFT_CMPNT_MSTR">
					<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 	type="Int"/>
					<DataObjectAttribute name="BNFT_CMPNT_NM" 	type="String"/>
				<SQLTemplate transType="select">					
						<RSIndexToDOAttributeMap>
						<ResultIndex index="3" dataObjectAttribName ="BNFT_CMPNT_NM"/>
						</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchVisibleStandardBenefits"/>
				</SQLTemplate>
				<SQLTemplate transType="select">					
						<RSIndexToDOAttributeMap>
						<ResultIndex index="3" dataObjectAttribName ="BNFT_CMPNT_NM"/>
						</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchAllStandardBenefits"/>
				</SQLTemplate>
				<SQLTemplate transType="select">					
						<RSIndexToDOAttributeMap>
						<ResultIndex index="2" dataObjectAttribName ="BNFT_CMPNT_NM"/>
						<ResultIndex index="3" dataObjectAttribName ="BNFT_CMPNT_SYS_ID"/>
						</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchComponentHierarchy"/>
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
						<Pair DOAttb="BNFT_CMPNT_SYS_ID" 	toBOAttb="benefitComponentId"/>
						<Pair DOAttb="BNFT_CMPNT_NM" 	toBOAttb="benefitCmpntDesc"/>
				</DoAttributeToBOAttributeMap>				
			</DataObject>
		</DataSource>
	</BusinessObjectMetadata>
<BusinessObjectMetadata name="com.wellpoint.wpd.common.productstructure.bo.ProductStructureQuestionnaireBO">
  <BusinessAttribute name="questionnaireId"    		 type="Int"   keyAttrib="true"/>
  <BusinessAttribute name="questionId"      			 type="Int"  keyAttrib="false"/>
  <BusinessAttribute name="adminLevelOptionSysId"        type="Int"   keyAttrib="false"/>
  <BusinessAttribute name="parentQuestionnaireId"       type="Int"  keyAttrib="false"/>
  <BusinessAttribute name="selectedAnswerId"             type="Int"  keyAttrib="false"/>
 <BusinessAttribute name="benefitComponentId" 		type="Date"		keyAttrib="false"/>
  <BusinessAttribute name="referenceId"                  type="String"  keyAttrib="false"/>
  <BusinessAttribute name="referenceDesc"                type="String"  keyAttrib="false"/>
  <BusinessAttribute name="questionName"                 type="String"  keyAttrib="false"/>
  <BusinessAttribute name="selectedAnswerDesc"           type="String"  keyAttrib="false"/>
  <BusinessAttribute name="possibleAnswerList"           type="List"  keyAttrib="false"/>
  <BusinessAttribute name="productStructureId"           type="Int"  keyAttrib="false"/>
  <BusinessAttribute name="createdUser" 				type="String"	keyAttrib="false"/>
  <BusinessAttribute name="createdTimestamp" 			type="Date"		keyAttrib="false"/>
  <BusinessAttribute name="lastUpdatedUser" 			type="String"	keyAttrib="false"/>
  <BusinessAttribute name="lastUpdatedTimestamp" 		type="Date"		keyAttrib="false"/>
	<BusinessAttribute name="notesExists"				type="String"		keyAttrib="false"/>
 <BusinessAttribute name="benefitDefinitionId"           type="Int"  keyAttrib="false"/>
<BusinessAttribute name="validDomainToAttach"				type="String"		keyAttrib="false"/>
<BusinessAttribute name="questionPVA"				type="String"		keyAttrib="false"/>
<BusinessAttribute name="sequenceNumber"				type="Int"		keyAttrib="false"/>


<SearchCriteria>
   <SearchCriteriaAttribute name="productStructureId" type="Int"/>
   <SearchCriteriaAttribute name="adminLevelOptionSysId" type="Int"/>
   <SearchCriteriaAttribute name="benefitComponentId"  type="Int"/>
   <SearchCriteriaAttribute name="selectedAnswerid"  type="Int"/>
   <SearchCriteriaAttribute name="questionnaireId"  type="Int"/>
   <SearchCriteriaAttribute name="lastUpdatedUser"  type="String"/>
   <SearchCriteriaAttribute name="benefitDefinitionId"  type="String"/>
    <!-- added -->
   <SearchCriteriaAttribute name="benefitAdminId"  type="Int"/>
   <SearchCriteriaAttribute name="adminOptionId" type="Int"/>
   <SearchCriteriaAttribute name="parentId" type="Int"/>

  </SearchCriteria>
  <DataSource name="prmd" domain="medical">
   <Connection preferred="jndi">
    <url>jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG</url>
    <jndi>java:comp/env/wsbEwpdDS</jndi>
   </Connection>
   <SelectSQLQuery name="getQuestionnaire11">
	  SELECT B.ADMIN_LVL_OPT_ASSN_SYS_ID,A.QSTNR_ID,A.ADQM_ADMN_QSTN_NBR,A.PRNT_QSTNR_ID,A.RFRNC_ID,B.OVRD_ANSWR_ID,
	  D.ADQM_ADMN_QSTN_DESC,E.PSBL_ANSWR,F.CD_DESC_TXT
      FROM QSTNR_MSTR A,PROD_STRCTR_ANSWR_OVRD B,BNFT_ADMIN_TO_LVL_ASSN C,ADQM_ADMN_QSTN_MSTR D,PSBL_ANSWR E,ITEM F
      WHERE A.QSTNR_ID = B.QSTNR_ID AND 
      A.RFRNC_ID =  F.PRMRY_CD(+) and F.CTLG_ID (+)=1938 and
      C.ADMIN_LVL_OPT_ASSN_SYS_ID = B.ADMIN_LVL_OPT_ASSN_SYS_ID and 
      D.ADQM_ADMN_QSTN_NBR = A.ADQM_ADMN_QSTN_NBR and
      E.PSBL_ANSWR_ID = B.OVRD_ANSWR_ID and
      B.PROD_STRCTR_SYS_ID = {0} and
      C.BNFT_ADMIN_SYS_ID = {1} and 
      B.BNFT_CMPNT_SYS_ID = {2}and 
      C.ADMIN_OPT_SYS_ID = {3}
	  ORDER BY	A.SQNC_NBR	 
   </SelectSQLQuery>
	<SelectSQLQuery name="getQuestionnaire">
	 <!-- SELECT B.ADMIN_LVL_OPT_ASSN_SYS_ID,A.QSTNR_HRCHY_SYS_ID,A.ADQM_ADMN_QSTN_NBR,A.PRNT_QSTNR_HRCHY_SYS_ID,A.RFRNC_ID,B.OVRD_ANSWR_ID,
	  D.ADQM_ADMN_QSTN_DESC,E.PSBL_ANSWR,F.CD_DESC_TXT,DECODE((SELECT COUNT(*) CNT FROM NOTE_DOMAIN_OVRD_VAL WHERE  
					PRMRY_ENTY_ID = {0} AND PRMRY_ENTY_TYPE = 'ATTACHPRODSTRCT' AND
					SCNDRY_ENTY_ID =C.ADMIN_LVL_OPT_ASSN_SYS_ID
					and SCNDRY_ENTY_TYPE = 'ATTACHQUESTION' and ADQM_ADMN_QSTN_NBR=D.ADQM_ADMN_QSTN_NBR 
					AND BNFT_CMPNT_SYS_ID={1} AND BNFT_DEFN_SYS_ID=C.BNFT_DEFN_SYS_ID ), 0, 'N','Y') NOTE_EXIST,
					C.BNFT_DEFN_SYS_ID ,DECODE((SELECT COUNT(*) CNT FROM QSTN_DOMN_ASSN WHERE DOMN_CD  IN ('INFO-CC','INFO-SS','C-CNFG','C-MNUL') 
					and ADQM_ADMN_QSTN_NBR = D.ADQM_ADMN_QSTN_NBR), 0, 'N','Y') VALID_DOMAIN
      FROM QSTNR_MSTR A,PROD_STRCTR_ANSWR_OVRD B,BNFT_ADMIN_TO_LVL_ASSN C,ADQM_ADMN_QSTN_MSTR D,PSBL_ANSWR E,ITEM F
      WHERE A.QSTNR_HRCHY_SYS_ID = B.QSTNR_HRCHY_SYS_ID AND 
      A.RFRNC_ID =  F.PRMRY_CD(+) and F.CTLG_ID (+)=1938 and
      C.ADMIN_LVL_OPT_ASSN_SYS_ID = B.ADMIN_LVL_OPT_ASSN_SYS_ID and 
      D.ADQM_ADMN_QSTN_NBR = A.ADQM_ADMN_QSTN_NBR and
      E.PSBL_ANSWR_ID = B.OVRD_ANSWR_ID and
      B.PROD_STRCTR_SYS_ID = {0} and
      B.BNFT_CMPNT_SYS_ID = {1} and 
      B.ADMIN_LVL_OPT_ASSN_SYS_ID = {2}
 	  ORDER BY	A.SQNC_NBR	-->
	  SELECT 
					  G.ADMIN_LVL_OPT_ASSN_SYS_ID,
	          A.QSTNR_HRCHY_SYS_ID,
					  A.ADQM_ADMN_QSTN_NBR,
					  A.PRNT_QSTNR_HRCHY_SYS_ID,
					  A.RFRNC_ID,
					  B.OVRD_ANSWR_ID,
					  D.ADQM_ADMN_QSTN_DESC,
					  E.PSBL_ANSWR,
					  F.CD_DESC_TXT,
					  CASE
				      (SELECT 'Y' FROM note_domain_ovrd_val note,BNFT_ADMIN_TO_LVL_ASSN admn
				      WHERE prmry_enty_type ='ATTACHPRODSTRCT'
				      AND prmry_enty_id     = {0}
				      AND scndry_enty_id    = {1}	
				      AND scndry_enty_type  ='ATTACHQUESTION'
				      AND adqm_admn_qstn_nbr=D.ADQM_ADMN_QSTN_NBR
				      AND bnft_cmpnt_sys_id = {2}
				      AND admn.bnft_admin_sys_id = {3}				      
					    AND NOTE.BNFT_DEFN_SYS_ID = admn.bnft_defn_sys_id 
					    AND admn.admin_lvl_opt_assn_sys_id = note.scndry_enty_id 
				      )
				    WHEN 'Y'
				    THEN 'Y'
				    ELSE 'N'
				  END AS NOTE_EXIST,G.BNFT_DEFN_SYS_ID,	
				  DECODE(
				  (SELECT COUNT(*) CNT FROM QSTN_DOMN_ASSN WHERE DOMN_CD IN ('INFO-CC','INFO-SS','C-CNFG','C-MNUL')
				  AND ADQM_ADMN_QSTN_NBR     = D.ADQM_ADMN_QSTN_NBR
				  ), 0, 'N','Y') VALID_DOMAIN	
				  FROM QSTNR_MSTR A,				     
				(SELECT  
				  A.QSTNR_HRCHY_SYS_ID,
				  A.OVRD_ANSWR_ID
				FROM 
				  PROD_STRCTR_ANSWR_OVRD A 				  
				WHERE 
				 A.ADMIN_LVL_OPT_ASSN_SYS_ID = {1}  
				 AND A.PROD_STRCTR_SYS_ID    = {0}
				 AND A.BNFT_CMPNT_SYS_ID     = {2}
				
				UNION ALL	
				
				SELECT 
				  qstnr_hrchy_sys_id, psbl_answr_id
				FROM
				  (SELECT a.qstnr_hrchy_sys_id, b.psbl_answr_id, a.adqm_admn_qstn_nbr 
				  FROM
				    (SELECT a.qstnr_hrchy_sys_id, a.adqm_admn_qstn_nbr
				    FROM qstnr_mstr a
				    WHERE a.admin_opt_sys_id      = {4}
				    AND A.prnt_qstnr_hrchy_sys_id = A.qstnr_hrchy_sys_id
					    UNION ALL 
				
				  SELECT b.qstnr_hrchy_sys_id, b.adqm_admn_qstn_nbr							
			    FROM PROD_STRCTR_ANSWR_OVRD A, qstnr_mstr b 							
			    WHERE A.admin_lvl_opt_assn_sys_id = {1} 					
			    AND a.bnft_cmpnt_sys_id           = {2} 							
			    AND a.PROD_STRCTR_SYS_ID          = {0} 							
			    AND a.qstnr_hrchy_sys_id          = b.prnt_qstnr_hrchy_sys_id							
			    AND a.ovrd_answr_id               = b.prnt_answr_id							
			    AND b.admin_opt_sys_id            = {4} 						
			    ) a,							
			    psbl_answr b							
			    WHERE A.adqm_admn_qstn_nbr    = b.adqm_admn_qstn_nbr							
			  AND b.psbl_answr                = 'Not Answered'							
			  AND a.qstnr_hrchy_sys_id NOT IN 							
			    (SELECT qstnr_hrchy_sys_id FROM PROD_STRCTR_ANSWR_OVRD A 						
			    WHERE A.admin_lvl_opt_assn_sys_id = {1} 									    							
			    AND bnft_cmpnt_sys_id             = {2} 							
			    AND PROD_STRCTR_SYS_ID            = {0}							
			    )							
			  ) a,							
			  ADQM_ADMN_QSTN_MSTR e
							
			WHERE a.adqm_admn_qstn_nbr = e.ADQM_ADMN_QSTN_NBR							
			AND isdomainvalid ('ProdStructure', {5} ,'QUESTION',A.qstnr_hrchy_sys_id) = 'T' 							
			AND (e.PRVDR_ARNGMNT is null or  e.PRVDR_ARNGMNT IN 								
			 (SELECT z.pva_id FROM enty_domn_info x,avlbl_domn y,prod_fmly_buss_enty_pva_map z, prod_strctr_mstr b	
       WHERE x.enty_type     = 'ProdStructure'	 AND x.enty_sys_id     = {5}  						
			AND x.domn_sys_id     = y.domn_sys_id 
      AND y.bus_enty_nm     = z.buss_enty_id 
      AND z.prod_fmly_id    = b.prod_fmly_nm 
      AND b.PROD_STRCTR_SYS_ID     = {0}  
      ))							
			  ) B,							
			  ADQM_ADMN_QSTN_MSTR D,BNFT_ADMIN_TO_LVL_ASSN G, 							
			  PSBL_ANSWR E,							
			  ITEM F
							
			WHERE A.QSTNR_HRCHY_SYS_ID      = B.QSTNR_HRCHY_SYS_ID		
			AND A.ADMIN_OPT_SYS_ID          = G.ADMIN_OPT_SYS_ID
			AND G.ADMIN_LVL_OPT_ASSN_SYS_ID = {1}					
			AND D.ADQM_ADMN_QSTN_NBR        = A.ADQM_ADMN_QSTN_NBR							
			AND E.PSBL_ANSWR_ID             = B.OVRD_ANSWR_ID							
			AND E.adqm_admn_qstn_nbr        = A.adqm_admn_qstn_nbr							
			AND A.RFRNC_ID                  = F.PRMRY_CD(+)							
			AND F.CTLG_ID (+)               =1938								
			ORDER BY A.QSTNR_DSPLY_SQNC_NBR
   </SelectSQLQuery>
 
   	 <SelectSQLQuery name="getChildQuestionnaire">
			 select A.QSTNR_HRCHY_SYS_ID,A.ADQM_ADMN_QSTN_NBR,A.PRNT_QSTNR_HRCHY_SYS_ID,A.RFRNC_ID,A.PSBL_ANSWR_ID,A.ADQM_ADMN_QSTN_DESC,
			 		    A.PSBL_ANSWR,A.CD_DESC_TXT,A.NOTE_EXISTS,A.VALID_DOMAIN,A.SQNC_NBR  from (SELECT  A.QSTNR_HRCHY_SYS_ID,A.ADQM_ADMN_QSTN_NBR,A.PRNT_QSTNR_HRCHY_SYS_ID,A.RFRNC_ID,C.PSBL_ANSWR_ID,B.ADQM_ADMN_QSTN_DESC,
			 		    C.PSBL_ANSWR,D.CD_DESC_TXT,

 					DECODE((SELECT COUNT(*) CNT FROM NOTE_DOMAIN_OVRD_VAL WHERE  
					PRMRY_ENTY_ID = {2} AND PRMRY_ENTY_TYPE = 'ATTACHPRODSTRCT' 
					AND SCNDRY_ENTY_ID ={3} 
					and SCNDRY_ENTY_TYPE = 'ATTACHQUESTION' and ADQM_ADMN_QSTN_NBR=B.ADQM_ADMN_QSTN_NBR
					 AND BNFT_CMPNT_SYS_ID={4} AND BNFT_DEFN_SYS_ID={5}), 0, 'N','Y') NOTE_EXISTS ,

					DECODE((SELECT COUNT(*) CNT FROM QSTN_DOMN_ASSN WHERE DOMN_CD  IN ('INFO-CC','INFO-SS','C-CNFG','C-MNUL') 
					and ADQM_ADMN_QSTN_NBR = B.ADQM_ADMN_QSTN_NBR), 0, 'N','Y') VALID_DOMAIN,A.SQNC_NBR 

				FROM 	QSTNR_MSTR A,ADQM_ADMN_QSTN_MSTR B,PSBL_ANSWR C,ITEM D,PROD_STRCTR_MSTR E
				WHERE	B.ADQM_ADMN_QSTN_NBR = A.ADQM_ADMN_QSTN_NBR and 
				        C.ADQM_ADMN_QSTN_NBR = A.ADQM_ADMN_QSTN_NBR and 
				        PRNT_ANSWR_ID ={0} and  PRNT_QSTNR_HRCHY_SYS_ID ={1} and
				        upper( C.PSBL_ANSWR) ='NOT ANSWERED' and
				        A.RFRNC_ID =  D.PRMRY_CD(+) and D.CTLG_ID(+) =1938 and
						E.PROD_STRCTR_SYS_ID = {2} and 
				        IsDomainValid('ProdStructure',E.PROD_STRCTR_PARNT_SYS_ID, 'QUESTION', QSTNR_HRCHY_SYS_ID)='T' 
						AND B.PRVDR_ARNGMNT IN (SELECT PVA_ID FROM PROD_FMLY_BUSS_ENTY_PVA_MAP where PROD_FMLY_ID IN (
						Select PROD_FMLY_NM from PROD_STRCTR_MSTR where PROD_STRCTR_SYS_ID = {2} ))  
						--ORDER BY  A.SQNC_NBR UNION
						
						UNION

					SELECT  A.QSTNR_HRCHY_SYS_ID,A.ADQM_ADMN_QSTN_NBR,A.PRNT_QSTNR_HRCHY_SYS_ID,A.RFRNC_ID,C.PSBL_ANSWR_ID,B.ADQM_ADMN_QSTN_DESC,
			 		    C.PSBL_ANSWR,D.CD_DESC_TXT,

 					DECODE((SELECT COUNT(*) CNT FROM NOTE_DOMAIN_OVRD_VAL WHERE  
					PRMRY_ENTY_ID = {2} AND PRMRY_ENTY_TYPE = 'ATTACHPRODSTRCT' 
					AND SCNDRY_ENTY_ID ={3} 
					and SCNDRY_ENTY_TYPE = 'ATTACHQUESTION' and ADQM_ADMN_QSTN_NBR=B.ADQM_ADMN_QSTN_NBR
					 AND BNFT_CMPNT_SYS_ID={4} AND BNFT_DEFN_SYS_ID={5}), 0, 'N','Y') NOTE_EXISTS ,

					DECODE((SELECT COUNT(*) CNT FROM QSTN_DOMN_ASSN WHERE DOMN_CD  IN ('INFO-CC','INFO-SS','C-CNFG','C-MNUL') 
					and ADQM_ADMN_QSTN_NBR = B.ADQM_ADMN_QSTN_NBR), 0, 'N','Y') VALID_DOMAIN,A.SQNC_NBR  

				FROM 	QSTNR_MSTR A,ADQM_ADMN_QSTN_MSTR B,PSBL_ANSWR C,ITEM D,PROD_STRCTR_MSTR E
				WHERE	B.ADQM_ADMN_QSTN_NBR = A.ADQM_ADMN_QSTN_NBR and 
				        C.ADQM_ADMN_QSTN_NBR = A.ADQM_ADMN_QSTN_NBR and 
				        PRNT_ANSWR_ID ={0} and  PRNT_QSTNR_HRCHY_SYS_ID ={1} and
				        upper( C.PSBL_ANSWR) ='NOT ANSWERED' and
				        A.RFRNC_ID =  D.PRMRY_CD(+) and D.CTLG_ID(+) =1938 and
						E.PROD_STRCTR_SYS_ID = {2} and 
				        IsDomainValid('ProdStructure',E.PROD_STRCTR_PARNT_SYS_ID, 'QUESTION', QSTNR_HRCHY_SYS_ID)='T' 
						AND B.PRVDR_ARNGMNT IS NULL)A
						ORDER BY  A.SQNC_NBR
		
			</SelectSQLQuery>

	<SelectSQLQuery name="refreshQuestionaireProc">
			CALL PS_RefreshQuestionare({0},{1},{2})
	</SelectSQLQuery>
	<SelectSQLQuery name="getAllQuestionsandPVA">
	  SELECT distinct A.QSTNR_HRCHY_SYS_ID,A.ADQM_ADMN_QSTN_NBR,C.PRVDR_ARNGMNT
      FROM QSTNR_MSTR A,PROD_STRCTR_ANSWR_OVRD B,ADQM_ADMN_QSTN_MSTR C
      WHERE A.QSTNR_HRCHY_SYS_ID = B.QSTNR_HRCHY_SYS_ID AND 
      B.PROD_STRCTR_SYS_ID = {0} and
      B.BNFT_CMPNT_SYS_ID = {1} and 
	  A.ADQM_ADMN_QSTN_NBR = C.ADQM_ADMN_QSTN_NBR
   </SelectSQLQuery>



   <DataObject name="PROD_STRCTR_ANSWR_OVRD">
	   <DataObjectAttribute name="ADMIN_LVL_OPT_ASSN_SYS_ID"   type="Int"/>
       <DataObjectAttribute name="QSTNR_HRCHY_SYS_ID"    	   type="Int"/>
       <DataObjectAttribute name="ADQM_ADMN_QSTN_NBR"    	   type="Int"/>
	   <DataObjectAttribute name="PRNT_QSTNR_HRCHY_SYS_ID"     type="Int"/>
       <DataObjectAttribute name="RFRNC_ID"    				   type="String"/>
       <DataObjectAttribute name="OVRD_ANSWR_ID"    		   type="Int"/>
	   <DataObjectAttribute name="ADQM_ADMN_QSTN_DESC"         type="String"/>
       <DataObjectAttribute name="PSBL_ANSWR"    		       type="String"/>
	   <DataObjectAttribute name="ADMIN_OPT_SYS_ID"    		   type="Int"/>
 	   <DataObjectAttribute name="BNFT_ADMIN_SYS_ID"    	   type="Int"/>
       <DataObjectAttribute name="BNFT_CMPNT_SYS_ID"    	   type="Int"/>
	   <DataObjectAttribute name="CD_DESC_TXT"         		   type="String"/>
     	<DataObjectAttribute name="PROD_STRCTR_SYS_ID"    	   type="Int"/>
		<DataObjectAttribute name="LST_CHG_USR"    	           type="String"/>
		<DataObjectAttribute name="LST_CHG_TMS"                type="TimeStamp"/>
		<DataObjectAttribute name="CREATD_USER_ID"             type="String"/>
		<DataObjectAttribute name="CREATD_TM_STMP"             type="TimeStamp"/>
		<DataObjectAttribute name="NOTE_EXIST" 		           type="String"/>
		<DataObjectAttribute name="BNFT_DEFN_SYS_ID"    	   type="Int"/>
		<DataObjectAttribute name="VALID_DOMAIN" 		       type="String"/>
		<DataObjectAttribute name="PRVDR_ARNGMNT" 		       type="String"/>
		<DataObjectAttribute name="SQNC_NBR" 		           type="Int"/>
		<DataObjectAttribute name="PROD_STRCTR_PARNT_SYS_ID"   type="Int"/>

    <SQLTemplate transType="select">
		<DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
		<DataObjectAttributeInput index="1" name="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
		<DataObjectAttributeInput index="2" name="BNFT_CMPNT_SYS_ID"/>
		
     	<!-- added -->
		<DataObjectAttributeInput index="3" name="BNFT_ADMIN_SYS_ID"/>
		<DataObjectAttributeInput index="4" name="ADMIN_OPT_SYS_ID"/>
		<DataObjectAttributeInput index="5" name="PROD_STRCTR_PARNT_SYS_ID"/>

           <RSIndexToDOAttributeMap>
                <ResultIndex index="0" dataObjectAttribName ="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
				<ResultIndex index="1" dataObjectAttribName ="QSTNR_HRCHY_SYS_ID"/>
				<ResultIndex index="2" dataObjectAttribName ="ADQM_ADMN_QSTN_NBR"/>
                <ResultIndex index="3" dataObjectAttribName ="PRNT_QSTNR_HRCHY_SYS_ID"/>
				<ResultIndex index="4" dataObjectAttribName ="RFRNC_ID"/>
				<ResultIndex index="5" dataObjectAttribName ="OVRD_ANSWR_ID"/>
				<ResultIndex index="6" dataObjectAttribName ="ADQM_ADMN_QSTN_DESC"/>
				<ResultIndex index="7" dataObjectAttribName ="PSBL_ANSWR"/>
				<ResultIndex index="8" dataObjectAttribName ="CD_DESC_TXT"/>
				<ResultIndex index="9" dataObjectAttribName ="NOTE_EXIST"/>
				<ResultIndex index="10" dataObjectAttribName ="BNFT_DEFN_SYS_ID"/>
				<ResultIndex index="11" dataObjectAttribName ="VALID_DOMAIN"/>
           </RSIndexToDOAttributeMap>
     <SearchQueryName name="getQuestionnaire"/>
     </SQLTemplate>
	<SQLTemplate transType="select">
		<DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
		<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
		
           <RSIndexToDOAttributeMap>
				<ResultIndex index="0" dataObjectAttribName ="QSTNR_HRCHY_SYS_ID"/>
				<ResultIndex index="1" dataObjectAttribName ="ADQM_ADMN_QSTN_NBR"/>
				<ResultIndex index="2" dataObjectAttribName ="PRVDR_ARNGMNT"/>
           </RSIndexToDOAttributeMap>
     <SearchQueryName name="getAllQuestionsandPVA"/>
 	</SQLTemplate>
     <SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="OVRD_ANSWR_ID"/>
					<DataObjectAttributeInput index="1" name="QSTNR_HRCHY_SYS_ID"/>
					<DataObjectAttributeInput index="2" name="PROD_STRCTR_SYS_ID"/>

					<DataObjectAttributeInput index="3" name="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
					<DataObjectAttributeInput index="4" name="BNFT_CMPNT_SYS_ID"/>
					<DataObjectAttributeInput index="5" name="BNFT_DEFN_SYS_ID"/>

					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName ="QSTNR_HRCHY_SYS_ID"/>
						<ResultIndex index="1" dataObjectAttribName ="ADQM_ADMN_QSTN_NBR"/>
						<ResultIndex index="2" dataObjectAttribName ="PRNT_QSTNR_HRCHY_SYS_ID"/>
						<ResultIndex index="3" dataObjectAttribName ="RFRNC_ID"/>
						<ResultIndex index="4" dataObjectAttribName ="OVRD_ANSWR_ID"/>
						<ResultIndex index="5" dataObjectAttribName ="ADQM_ADMN_QSTN_DESC"/>
						<ResultIndex index="6" dataObjectAttribName ="PSBL_ANSWR"/>
						<ResultIndex index="7" dataObjectAttribName ="CD_DESC_TXT"/>
						<ResultIndex index="8" dataObjectAttribName ="NOTE_EXIST"/>
						<ResultIndex index="9" dataObjectAttribName ="VALID_DOMAIN"/>
						<ResultIndex index="10" dataObjectAttribName ="SQNC_NBR"/>
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getChildQuestionnaire"/>
	</SQLTemplate>
	<SQLTemplate transType="select">
		<DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
		<DataObjectAttributeInput index="2" name="LST_CHG_USR"/>
			<RSIndexToDOAttributeMap>
				<ResultIndex index="0" dataObjectAttribName ="QSTNR_HRCHY_SYS_ID"/>
			</RSIndexToDOAttributeMap>
			<SearchQueryName name="refreshQuestionaireProc"/>
	</SQLTemplate>
		<SQLTemplate transType="delete">
			<SQLQuery>
				DELETE FROM PROD_STRCTR_ANSWR_OVRD
				WHERE PROD_STRCTR_SYS_ID = ? AND ADMIN_LVL_OPT_ASSN_SYS_ID = ? AND BNFT_CMPNT_SYS_ID = ?  AND QSTNR_HRCHY_SYS_ID = ?  
			</SQLQuery>
				<DataObjectAttributeInput index="0" name="PROD_STRCTR_SYS_ID"/>
				<DataObjectAttributeInput index="1" name="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
				<DataObjectAttributeInput index="2" name="BNFT_CMPNT_SYS_ID"/>
				<DataObjectAttributeInput index="3" name="QSTNR_HRCHY_SYS_ID"/>
		    </SQLTemplate>
		<SQLTemplate transType="update">
			<SQLQuery>
				UPDATE PROD_STRCTR_ANSWR_OVRD SET OVRD_ANSWR_ID = ? 
				WHERE PROD_STRCTR_SYS_ID = ? AND ADMIN_LVL_OPT_ASSN_SYS_ID = ? AND BNFT_CMPNT_SYS_ID = ?  AND QSTNR_HRCHY_SYS_ID = ?  
			</SQLQuery>
				<DataObjectAttributeInput index="0" name="OVRD_ANSWR_ID"/>
				<DataObjectAttributeInput index="1" name="PROD_STRCTR_SYS_ID"/>
				<DataObjectAttributeInput index="2" name="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
				<DataObjectAttributeInput index="3" name="BNFT_CMPNT_SYS_ID"/>
				<DataObjectAttributeInput index="4" name="QSTNR_HRCHY_SYS_ID"/>
		    </SQLTemplate>
			<SQLTemplate transType="insert">
						<SQLQuery>
								 INSERT INTO PROD_STRCTR_ANSWR_OVRD ( ADMIN_LVL_OPT_ASSN_SYS_ID, QSTNR_HRCHY_SYS_ID, OVRD_ANSWR_ID, PROD_STRCTR_SYS_ID,BNFT_CMPNT_SYS_ID, 
								  LST_CHG_USR, LST_CHG_TMS, CREATD_USER_ID, CREATD_TM_STMP)
            						VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?)
						</SQLQuery>
						<DataObjectAttributeInput index="0" name="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
						<DataObjectAttributeInput index="1" name="QSTNR_HRCHY_SYS_ID"/>
						<DataObjectAttributeInput index="2" name="OVRD_ANSWR_ID"/>
						<DataObjectAttributeInput index="3" name="PROD_STRCTR_SYS_ID"/>
						<DataObjectAttributeInput index="4" name="BNFT_CMPNT_SYS_ID"/>
						<DataObjectAttributeInput index="5" name="LST_CHG_USR"/>
						<DataObjectAttributeInput index="6" name="LST_CHG_TMS"/>
						<DataObjectAttributeInput index="7" name="CREATD_USER_ID"/>
						<DataObjectAttributeInput index="8" name="CREATD_TM_STMP"/>
				</SQLTemplate>
       <DoAttributeToBOAttributeMap>
           <Pair DOAttb="ADMIN_LVL_OPT_ASSN_SYS_ID"    			toBOAttb="adminLevelOptionSysId"/>
			<Pair DOAttb="BNFT_CMPNT_SYS_ID"    			toBOAttb="benefitComponentId"/>
           <Pair DOAttb="QSTNR_HRCHY_SYS_ID"    							toBOAttb="questionnaireId"/>
           <Pair DOAttb="ADQM_ADMN_QSTN_NBR"   					toBOAttb="questionId"/>
           <Pair DOAttb="PRNT_QSTNR_HRCHY_SYS_ID"    						toBOAttb="parentQuestionnaireId"/>
		   <Pair DOAttb="RFRNC_ID"    							toBOAttb="referenceId"/>
		   <Pair DOAttb="OVRD_ANSWR_ID"    						toBOAttb="selectedAnswerId"/>
		    <Pair DOAttb="ADQM_ADMN_QSTN_DESC"   				toBOAttb="questionName"/>
			<Pair DOAttb="PSBL_ANSWR"    						toBOAttb="selectedAnswerDesc"/>
			<Pair DOAttb="CD_DESC_TXT"    						toBOAttb="referenceDesc"/>
			<Pair DOAttb="PROD_STRCTR_SYS_ID"    						toBOAttb="productStructureId"/>
			<Pair DOAttb="LST_CHG_USR"    						toBOAttb="lastUpdatedUser"/>
			<Pair DOAttb="LST_CHG_TMS"    						toBOAttb="lastUpdatedTimestamp"/>
			<Pair DOAttb="CREATD_USER_ID"    						toBOAttb="createdUser"/>
			<Pair DOAttb="CREATD_TM_STMP"    						toBOAttb="createdTimestamp"/>
			<Pair DOAttb="NOTE_EXIST"   							toBOAttb="notesExists"/>
			<Pair DOAttb="BNFT_DEFN_SYS_ID"   							toBOAttb="benefitDefinitionId"/>
			<Pair DOAttb="VALID_DOMAIN"   							toBOAttb="validDomainToAttach"/>
			<Pair DOAttb="PRVDR_ARNGMNT"   							toBOAttb="questionPVA"/>
			<Pair DOAttb="SQNC_NBR"   							toBOAttb="sequenceNumber"/>


       </DoAttributeToBOAttributeMap>
   
       <DoAttributeToSCAttributeMap>
		   <Pair DOAttb="ADMIN_LVL_OPT_ASSN_SYS_ID"    toSCAttb="adminLevelOptionSysId"/>
		   <Pair DOAttb="BNFT_CMPNT_SYS_ID"    toSCAttb="benefitComponentId"/>
		   <Pair DOAttb="PROD_STRCTR_SYS_ID"    toSCAttb="productStructureId"/>
			<Pair DOAttb="OVRD_ANSWR_ID"    toSCAttb="selectedAnswerid"/>
			<Pair DOAttb="QSTNR_HRCHY_SYS_ID"    toSCAttb="questionnaireId"/>
			<Pair DOAttb="LST_CHG_USR"    toSCAttb="lastUpdatedUser"/>


			<Pair DOAttb="BNFT_DEFN_SYS_ID"    toSCAttb="benefitDefinitionId"/>
			<!-- added -->
			<Pair DOAttb="BNFT_ADMIN_SYS_ID"    toSCAttb="benefitAdminId"/>
			<Pair DOAttb="ADMIN_OPT_SYS_ID"    toSCAttb="adminOptionId"/>
			<Pair DOAttb="PROD_STRCTR_PARNT_SYS_ID"    toSCAttb="parentId"/>
       </DoAttributeToSCAttributeMap>
		
   
   </DataObject>
  </DataSource>
 </BusinessObjectMetadata>

<BusinessObjectMetadata name="com.wellpoint.wpd.common.productstructure.bo.HideAdminOption">

		<BusinessAttribute name="adminLevelOptionAssnSystemId"		type="Int"		keyAttrib="true"/>	
		<BusinessAttribute name="benefitAdminSystemId"				type="Int"		keyAttrib="true"/>	
		<BusinessAttribute name="adminLevelSystemId"				type="Int"		keyAttrib="false"/>	
		<BusinessAttribute name="adminOptionSystemId"				type="Int"		keyAttrib="false"/>
		<BusinessAttribute name="adminOptionReferenceId"			type="String"	keyAttrib="false"/>
		<BusinessAttribute name="benefitLevelSysId"					type="Int"		keyAttrib="false"/>	
		<BusinessAttribute name="createdUser"						type="String"	keyAttrib="false"/>	
		<BusinessAttribute name="createdTimestamp"					type="Date"		keyAttrib="false"/>	
		<BusinessAttribute name="lastUpdatedUser"					type="String"	keyAttrib="false"/>	
		<BusinessAttribute name="lastUpdatedTimestamp"				type="Date"		keyAttrib="false"/>	
		<BusinessAttribute name="adminQuestionNumber"				type="Int"		keyAttrib="true"/>	
		<BusinessAttribute name="sequenceNumber"				    type="Int"		keyAttrib="false"/>		
		<BusinessAttribute name="possibleAnswerId"				    type="Int"		keyAttrib="false"/>		
		<BusinessAttribute name="answerDescription"				    type="String"   keyAttrib="false"/>			
		<BusinessAttribute name="adminLevelSystemIdForBenefitLevel"	type="String"	keyAttrib="false"/>	
		<BusinessAttribute name="adminLevelDesc"					type="String"	keyAttrib="false"/>	
		<BusinessAttribute name="adminOptionIdFromMaster"			type="Int"	    keyAttrib="false"/>	
		<BusinessAttribute name="adminOptionDesc"					type="String"	keyAttrib="false"/>	
		<BusinessAttribute name="benefitLevelSysIdFromMaster"		type="Int"		keyAttrib="false"/>	
		<BusinessAttribute name="benefitLevelDesc"					type="String"	keyAttrib="false"/>
		<BusinessAttribute name="entityId"							type="Int"		keyAttrib="false"/>	
		<BusinessAttribute name="entityType"						type="String"	keyAttrib="false"/>	
		<BusinessAttribute name="benefitCompSysId"					type="Int"		keyAttrib="false"/>
		<BusinessAttribute name="adminQuestionHideFlag"				type="String"		keyAttrib="false"/>
		<BusinessAttribute name="questionHideFlag"					type="String"	keyAttrib="false"/>
		<BusinessAttribute name="productSysId"					type="Int"		keyAttrib="false"/>

		<SearchCriteria name="searchCriteria1">
			<SearchCriteriaAttribute name="adminLevelOptionAssnSystemId" type="Int"/>
			<SearchCriteriaAttribute name="adminOptionSystemId"          type="Int"/>	
			<SearchCriteriaAttribute name="benefitAdminSystemId" 		 type="Int"/>
			<SearchCriteriaAttribute name="adminOptionQuestionNumber" 	 type="Int"/>
			<SearchCriteriaAttribute name="entityId" 	 				 type="Int"/>
			<SearchCriteriaAttribute name="entityType" 	 				 type="Int"/>
			<SearchCriteriaAttribute name="benefitComponentId" 	 		 type="Int"/>
			<SearchCriteriaAttribute name="productSysId" 	 		 type="Int"/>
		</SearchCriteria>

		<DataSource name="prmd" domain="medical" >
			<Connection preferred="jndi">
				<url>jdbc:oracle:thin:ewpd2/ewpd_2@10.10.43.217:1521:ISG</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>
		<SelectSQLQuery name="getAssociatedBenefitAdministrationsForPS">
                              select distinct a.admin_lvl_opt_assn_sys_id, a.bnft_admin_sys_id, b.admin_opt_rfrnc_id,
                              b.admin_opt_desc_txt, d.admin_lvl_nm, c.blvl_bnft_lvl_desc, c.blvl_bnft_lvl_id,
                              a.SQNC_NBR,a.ADMIN_OPT_SYS_ID,a.ADMIN_LVL_SYS_ID,e.ADMIN_OPTION_HIDE_FLAG
                              from bnft_admin_to_lvl_assn a , admin_opt_mstr b, blvl_bnft_lvl c, badl_admn_lvl d,
                              PROD_STRCTR_ADMN_OPT_CUSTM e
                              where a.bnft_admin_sys_id = {0} and 
                              b.admin_opt_sys_id = a.admin_opt_sys_id and
                              d.admin_lvl_sys_id = a.admin_lvl_sys_id and
                              a.BLVL_BNFT_LVL_ID = c.blvl_bnft_lvl_id(+) and
                              a.ADMIN_LVL_OPT_ASSN_SYS_ID = e.ADMIN_LVL_OPT_ASSN_SYS_ID
                              and e.PROD_STRCTR_SYS_ID = {1}
                              and e.BNFT_CMPNT_SYS_ID = {2}
                              order by a.SQNC_NBR
                </SelectSQLQuery>

			<DataObject name="PROD_STRCTR_ADMN_OPT_CUSTM">
		       <DataObjectAttribute name="PROD_STRCTR_SYS_ID"    	    type="Int"/>
		       <DataObjectAttribute name="ADMIN_LVL_OPT_ASSN_SYS_ID"  	type="Int"/>
		       <DataObjectAttribute name="BNFT_CMPNT_SYS_ID"           	type="Int"/>
		       <DataObjectAttribute name="LST_CHG_USR"    	       		type="String"/>
		       <DataObjectAttribute name="LST_CHG_TMS"    	       		type="Date"/>
		       <DataObjectAttribute name="CREATD_USER_ID"    	       	type="String"/>
		       <DataObjectAttribute name="CREATD_TM_STMP"    	       	type="Date"/>
		       <DataObjectAttribute name="BNFT_ADMIN_SYS_ID"    	    type="Int"/>
		       <DataObjectAttribute name="SQNC_NBR"    	    			type="Int"/>
		       <DataObjectAttribute name="ADMIN_OPT_SYS_ID"    	    	type="Int"/>
		       <DataObjectAttribute name="ADMIN_LVL_SYS_ID"    	    	type="Int"/>
		       <DataObjectAttribute name="BLVL_BNFT_LVL_ID"    	    	type="Int"/>
			   <DataObjectAttribute name="ADMIN_OPT_RFRNC_ID"    	    type="String"/>
			   <DataObjectAttribute name="ADMIN_OPT_DESC_TXT"    	    type="String"/>
			   <DataObjectAttribute name="ADMIN_LVL_NM"    	    		type="String"/>
			   <DataObjectAttribute name="BLVL_BNFT_LVL_DESC"    	    type="String"/>
			   <DataObjectAttribute name="ADMIN_OPTION_HIDE_FLAG"    	type="String"/>
		       <SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name ="BNFT_ADMIN_SYS_ID"/>
					<DataObjectAttributeInput index="1" name="PROD_STRCTR_SYS_ID"/>
					<DataObjectAttributeInput index="2" name="BNFT_CMPNT_SYS_ID"/>
			   <RSIndexToDOAttributeMap>
			            <ResultIndex index="0" dataObjectAttribName ="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
			            <ResultIndex index="1" dataObjectAttribName ="BNFT_ADMIN_SYS_ID"/>
						<ResultIndex index="2" dataObjectAttribName ="ADMIN_OPT_RFRNC_ID"/>						
						<ResultIndex index="3" dataObjectAttribName ="ADMIN_OPT_DESC_TXT"/>
						<ResultIndex index="4" dataObjectAttribName ="ADMIN_LVL_NM"/>
						<ResultIndex index="5" dataObjectAttribName ="BLVL_BNFT_LVL_DESC"/>
			            <ResultIndex index="6" dataObjectAttribName ="BLVL_BNFT_LVL_ID"/>
						<ResultIndex index="7" dataObjectAttribName ="SQNC_NBR"/>
						<ResultIndex index="8" dataObjectAttribName ="ADMIN_OPT_SYS_ID"/>
						<ResultIndex index="9" dataObjectAttribName ="ADMIN_LVL_SYS_ID"/>
						<ResultIndex index="10" dataObjectAttribName ="ADMIN_OPTION_HIDE_FLAG"/>
      		    </RSIndexToDOAttributeMap>
				<SearchQueryName name="getAssociatedBenefitAdministrationsForPS"/>
				</SQLTemplate>

				<SQLTemplate transType="update">
						<SQLQuery>
							UPDATE PROD_STRCTR_ADMN_OPT_CUSTM SET ADMIN_OPTION_HIDE_FLAG = ?,LST_CHG_USR=?,LST_CHG_TMS=?
                                                WHERE  PROD_STRCTR_SYS_ID = ? AND BNFT_CMPNT_SYS_ID = ? and 
                                                ADMIN_LVL_OPT_ASSN_SYS_ID = ?
						</SQLQuery>
						<DataObjectAttributeInput index="0" name="ADMIN_OPTION_HIDE_FLAG"/>
						<DataObjectAttributeInput index="1" name="LST_CHG_USR"/>
						<DataObjectAttributeInput index="2" name="LST_CHG_TMS"/>
						<DataObjectAttributeInput index="3" name="PROD_STRCTR_SYS_ID"/>
						<DataObjectAttributeInput index="4" name="BNFT_CMPNT_SYS_ID"/>
						<DataObjectAttributeInput index="5" name="ADMIN_LVL_OPT_ASSN_SYS_ID"/>	
				</SQLTemplate>

	       		<DoAttributeToBOAttributeMap>
    	        	<Pair DOAttb="PROD_STRCTR_SYS_ID"    		toBOAttb="entityId"/>
		  			<Pair DOAttb="BNFT_CMPNT_SYS_ID"    		toBOAttb="benefitCompSysId"/>		   
		  			<Pair DOAttb="BNFT_ADMIN_SYS_ID"    		toBOAttb="benefitAdminSystemId"/>	
					<Pair DOAttb="ADMIN_LVL_OPT_ASSN_SYS_ID"    toBOAttb="adminLevelOptionAssnSystemId"/>
			        <Pair DOAttb="ADMIN_LVL_SYS_ID"    			toBOAttb="adminLevelSystemId"/>
			        <Pair DOAttb="ADMIN_OPT_SYS_ID"    			toBOAttb="adminOptionSystemId"/>
			        <Pair DOAttb="LST_CHG_USR"    				toBOAttb="lastUpdatedUser"/>
			        <Pair DOAttb="LST_CHG_TMS"    				toBOAttb="lastUpdatedTimestamp"/>
			        <Pair DOAttb="CREATD_USER_ID"    			toBOAttb="createdUser"/>
			        <Pair DOAttb="CREATD_TM_STMP"    			toBOAttb="createdTimestamp"/>
					<Pair DOAttb="BLVL_BNFT_LVL_ID"    			toBOAttb="benefitLevelSysId"/>
					<Pair DOAttb="SQNC_NBR"    					toBOAttb="sequenceNumber"/>
					<Pair DOAttb="ADMIN_OPT_RFRNC_ID"    		toBOAttb="adminOptionReferenceId"/>
					<Pair DOAttb="ADMIN_OPT_DESC_TXT"    		toBOAttb="adminOptionDesc"/>
					<Pair DOAttb="ADMIN_LVL_NM"    				toBOAttb="adminLevelDesc"/>
					<Pair DOAttb="BLVL_BNFT_LVL_DESC"    		toBOAttb="benefitLevelDesc"/>
					<Pair DOAttb="ADMIN_OPTION_HIDE_FLAG"    	toBOAttb="adminQuestionHideFlag"/>
    	   		</DoAttributeToBOAttributeMap>     
       	   		<DoAttributeToSCAttributeMap>
	        		<Pair DOAttb="PROD_STRCTR_SYS_ID"    				toSCAttb="entityId"/>					
					<Pair DOAttb="BNFT_CMPNT_SYS_ID"   			toSCAttb="benefitComponentId"/>					
					<Pair DOAttb="BNFT_ADMIN_SYS_ID"    		toSCAttb="benefitAdminSystemId"/>
	   	   		</DoAttributeToSCAttributeMap>  
			</DataObject>

		
		</DataSource>
	</BusinessObjectMetadata>	


</Metadata> 
