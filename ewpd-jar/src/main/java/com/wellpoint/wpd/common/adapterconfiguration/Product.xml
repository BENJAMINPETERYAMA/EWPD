<Metadata>
	<BusinessObjectMetadata
		name="com.wellpoint.wpd.common.product.bo.ProductBO">
		<BusinessAttribute name="productKey" type="Int"
			keyAttrib="true" />
		<BusinessAttribute name="productName" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="version" type="Int" keyAttrib="false" />
		<BusinessAttribute name="productStructureKey" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="productDesc" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="effectiveDate" type="Date"
			keyAttrib="false" />
		<BusinessAttribute name="expiryDate" type="Date"
			keyAttrib="false" />
		<BusinessAttribute name="productFamilyId" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="status" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="createdUser" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="createdTimestamp" type="Date"
			keyAttrib="false" />
		<BusinessAttribute name="lastUpdatedUser" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="lastUpdatedTimestamp" type="Date"
			keyAttrib="false" />
		<BusinessAttribute name="lineOfBusinessList" type="List"
			keyAttrib="false" />
		<BusinessAttribute name="businessEntityList" type="List"
			keyAttrib="false" />
		<BusinessAttribute name="businessGroupList" type="List"
			keyAttrib="false" />
		<BusinessAttribute name="parentProductKey" type="Int"
			keyAttrib="false" />
		<BusinessAttribute name="productStructureName" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="productFamilyDesc" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="productType" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="mandateType" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="state" type="String" keyAttrib="false" />
		<BusinessAttribute name="stateId" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="stateDesc" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="mandateDesc" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="productStructureVersion" type="Int" keyAttrib="false" />
		<BusinessAttribute name="marketBusinessUnitList" type="List"
			keyAttrib="false" />



		<SearchCriteria name="test">
			<SearchCriteriaAttribute name="productKey" 						type="Int" />
			<SearchCriteriaAttribute name="productBenefitComponentKey" 		type="Int" />
			<SearchCriteriaAttribute name="productName" 					type="String" />
			<SearchCriteriaAttribute name="version" 						type="Int" />
			<SearchCriteriaAttribute name="productStructureId" 				type="Int" />
			<SearchCriteriaAttribute name="sourceProdId" 					type="Int" />
			<SearchCriteriaAttribute name="lastUpdatedUser" 				type="String" />
			<SearchCriteriaAttribute name="lastUpdatedTimestamp"			type="Date" />
			<SearchCriteriaAttribute name="lob" 							type="List" />
			<SearchCriteriaAttribute name="be" 								type="List" />
			<SearchCriteriaAttribute name="bg" 								type="List" />
			<SearchCriteriaAttribute name="mbu" 							type="List" />
			<SearchCriteriaAttribute name="parentId" 						type="Int" />
			<SearchCriteriaAttribute name="effectiveDate" 					type="String"/>
			<SearchCriteriaAttribute name="expiryDate" 						type="String"/> 
			<SearchCriteriaAttribute name="copyAction" 						type="String"/>
			<SearchCriteriaAttribute name="contractSysId" 					type="Int"/>
			<SearchCriteriaAttribute name="dateSegmentId" 					type="Int"/>
			<SearchCriteriaAttribute name="productType" 					type="String"/>
			<SearchCriteriaAttribute name="testContractState"    			type="String"/>
			<SearchCriteriaAttribute name="stateId"    						type="String"/>	 
			<SearchCriteriaAttribute name="noteId"    						type="String"/>	 
			<SearchCriteriaAttribute name="productStructureVersion" 		type="Int" />	

		</SearchCriteria>

		<DataSource name="prmd" domain="medical">
			<Connection preferred="jndi">
				<url>
					jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG
				</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>
			<SelectSQLQuery>
				SELECT A.PROD_SYS_ID, A.PROD_NM, A.PROD_VRSN_NBR,
				A.PROD_STRCTR_SYS_ID, A.PROD_EFCTV_DT, A.PROD_EXPIRY_DT,
				A.PROD_DESC_TXT, A.PROD_FMLY_NM, A.PROD_STTS_CD,
				A.CREATD_USER_ID, A.CREATD_TM_STMP, A.LST_CHG_USR,
				A.LST_CHG_TMS, B.PROD_STRCTR_NM,
				C.CD_DESC_TXT,A.PROD_PARNT_SYS_ID, A.PROD_TYPE,
				A.MNDT_TYPE, E.CD_DESC_TXT, A.PROD_ST_CD, D.CD_DESC_TXT,B.PROD_STRCTR_VRSN_NBR
				FROM PROD_MSTR A, PROD_STRCTR_MSTR B, ITEM C, ITEM D,
				ITEM E WHERE A.PROD_STRCTR_SYS_ID = B.PROD_STRCTR_SYS_ID(+)
				AND C.CTLG_ID = 1937 AND A.PROD_FMLY_NM = C.PRMRY_CD AND
				A.PROD_SYS_ID = ? AND (A.PROD_ST_CD = D.PRMRY_CD(+) AND
				D.CTLG_ID(+) = 1626) AND (A.MNDT_TYPE = E.PRMRY_CD(+)
				AND E.CTLG_ID(+) = 1939)
			</SelectSQLQuery>
			<SelectSQLQuery name="retrieveLatestVersion">
				SELECT A.PROD_SYS_ID, A.PROD_NM, A.PROD_VRSN_NBR,
				A.PROD_STRCTR_SYS_ID, A.PROD_EFCTV_DT, A.PROD_EXPIRY_DT,
				A.PROD_DESC_TXT, A.PROD_FMLY_NM, A.PROD_STTS_CD,
				A.CREATD_USER_ID, A.CREATD_TM_STMP, A.LST_CHG_USR,
				A.LST_CHG_TMS , A.PROD_PARNT_SYS_ID,A.PROD_TYPE ,A.MNDT_TYPE,A.PROD_ST_CD FROM PROD_MSTR A
				WHERE A.PROD_PARNT_SYS_ID in ( select B.ENTY_SYS_ID from
				ENTY_DOMN_INFO B, AVLBL_DOMN C where C.BUS_GRP_NM {3}
				AND C.BUS_ENTY_NM {2} AND C.LOB_NM {1} AND C.MRKT_BUS_UNT {4} AND B.DOMN_SYS_ID
				= C.DOMN_SYS_ID AND B.ENTY_TYPE = 'product' AND
				B.ENTY_NM = {0} ) AND A.PROD_VRSN_NBR IN ( SELECT
				MAX(AA.PROD_VRSN_NBR) FROM PROD_MSTR AA WHERE
				AA.PROD_PARNT_SYS_ID = A.PROD_PARNT_SYS_ID and
				AA.PROD_STTS_CD != 'MARKED_FOR_DELETION')
			</SelectSQLQuery>
			<SelectSQLQuery name="getProductStructureIdFromProductAndBenefitComponentKey">
				SELECT A.PROD_STRCTR_SYS_ID FROM PROD_MSTR A, PROD_BNFT_CMPNT_ASSN C 
				where A.PROD_SYS_ID = C.PROD_SYS_ID and A.PROD_SYS_ID = {0} and C.BNFT_CMPNT_SYS_ID = {1}
			</SelectSQLQuery>
			<SelectSQLQuery name="retrieveProductName">
			select PROD_SYS_ID,PROD_NM from PROD_MSTR where PROD_SYS_ID = {0}
			</SelectSQLQuery>
			<SelectSQLQuery name="referenceDataValidation">
			SELECT 	A.PROD_SYS_ID,A.PROD_FMLY_NM,A.PROD_ST_CD FROM PROD_MSTR A WHERE 
			A.PROD_SYS_ID = {0}
			</SelectSQLQuery>
			<SelectSQLQuery name="retrieveProductCode">
			select a.PROD_SYS_ID,b.PRMRY_CD from PROD_MSTR a,item b,catalog c where a.PROD_NM = {0} and 
			upper(c.CTLG_NAME) = upper('Product Family') and c.CTLG_ID = b.CTLG_ID and a.PROD_FMLY_NM =b.PRMRY_CD
			</SelectSQLQuery>			
			<SelectSQLQuery name="retrieveLatestVersionNumber">
				SELECT A.PROD_SYS_ID, A.PROD_NM, A.PROD_VRSN_NBR,
				A.PROD_STRCTR_SYS_ID, A.PROD_EFCTV_DT, A.PROD_EXPIRY_DT,
				A.PROD_DESC_TXT, A.PROD_FMLY_NM, A.PROD_STTS_CD,
				A.CREATD_USER_ID, A.CREATD_TM_STMP, A.LST_CHG_USR,
				A.LST_CHG_TMS , A.PROD_PARNT_SYS_ID FROM PROD_MSTR A,
				PROD_MSTR B WHERE B.PROD_SYS_ID = {0} AND
				A.PROD_PARNT_SYS_ID = B.PROD_PARNT_SYS_ID AND
				A.PROD_VRSN_NBR = (SELECT MAX(C.PROD_VRSN_NBR) FROM
				PROD_MSTR C WHERE C.PROD_PARNT_SYS_ID =
				B.PROD_PARNT_SYS_ID)
			</SelectSQLQuery>
			<SelectSQLQuery name="retrieveByProductName">
				SELECT PROD_SYS_ID, PROD_NM, PROD_VRSN_NBR,
				PROD_STRCTR_SYS_ID, PROD_EFCTV_DT, PROD_EXPIRY_DT,
				PROD_DESC_TXT, PROD_FMLY_NM, PROD_STTS_CD,
				CREATD_USER_ID, CREATD_TM_STMP, LST_CHG_USR, LST_CHG_TMS
				FROM PROD_MSTR WHERE PROD_NM LIKE {0}
			</SelectSQLQuery>		

			<SelectSQLQuery name="locateProducts" dynamic="true">
				<STATIC>
					<![CDATA[
				        SELECT DISTINCT B.ENTY_SYS_ID, B.ENTY_NM,B.ENTY_SYS_ID 
				          	from PROD_MSTR A,ENTY_DOMN_INFO B, AVLBL_DOMN C 
				       			 WHERE   1 = 1
							                and B.ENTY_TYPE = 'product'
							                AND B.DOMN_SYS_ID = C.DOMN_SYS_ID 
							                and  A.PROD_NM = B.ENTY_NM
											and A.PROD_TYPE != 'MANDATE'
											and to_char(B. ENTY_SYS_ID) not in
											(select ENTY_SYS_ID from NOTE_DOMN_ASSN  where ENTY_TYPE ='AVAILPRODUCT' and NOTE_ID= {4}
						AND NOTE_VRSN_NBR IN ( SELECT NOTE_VRSN_NBR FROM NMST_NOTE_MSTR WHERE NOTE_ID = {4} AND 
			    			NOTE_STTS_CD != 'MARKED_FOR_DELETION'))

				     ]]>
				</STATIC>
				<DYNAMIC>AND C.BUS_GRP_NM {1}</DYNAMIC>
				<DYNAMIC>

					AND C.BUS_ENTY_NM {2}
				</DYNAMIC>
				<DYNAMIC>
					AND C.LOB_NM {3}
				</DYNAMIC>
				<DYNAMIC>
					AND C.MRKT_BUS_UNT {5}
				</DYNAMIC>
				<DYNAMIC>
					AND A.PROD_NM in (select PROD_NM from PROD_MSTR
					where PROD_NM LIKE {0} escape '`' or PROD_NM LIKE
					UPPER ({0}) escape '`' or PROD_NM LIKE LOWER ({0})
					escape '`')
				</DYNAMIC>
				<STATIC>
					<![CDATA[
									
				              order by B.ENTY_NM asc
				            ]]>
				</STATIC>

			</SelectSQLQuery>

			<SelectSQLQuery name="productStructureValidation">
				select PROD_SYS_ID from PROD_MSTR where
				PROD_STRCTR_SYS_ID = {0}
			</SelectSQLQuery>
			<SelectSQLQuery name="copyAssociations">
				CALL Copy_Product_Components({0},{1},{2},{3},{4})
			</SelectSQLQuery>
			<SelectSQLQuery name="copyProduct">
				CALL PRD_COPY({0},{1},{2},{3})
			</SelectSQLQuery>
			<SelectSQLQuery name="checkOutProduct">
				CALL PRD_CHECKOUT({0},{1},{2},{3})
			</SelectSQLQuery>
			<SelectSQLQuery name="retrieveLatestProductVersion">
			    Select PROD_SYS_ID , PROD_VRSN_NBR FROM PROD_MSTR  
				  	<![CDATA[
						WHERE   PROD_EFCTV_DT <= (SELECT MIN(A.DT_SGMNT_EFCTV_DT) from CNTRCT_DT_SGMNT A, CNTRCT_DT_SGMNT_ASSN B  where B.CNTRCT_SYS_ID = {0} AND B.DT_SGMNT_SYS_ID = A.DT_SGMNT_SYS_ID)
					]]>
  		 			AND PROD_EXPIRY_DT >= to_date('12/31/9999','mm/dd/yyyy') 
		 			AND PROD_VRSN_NBR = (Select MAX(PROD_VRSN_NBR) FROM PROD_MSTR c where PROD_STTS_CD ='PUBLISHED' 
		 			AND PROD_PARNT_SYS_ID = (Select unique PROD_PARNT_SYS_ID FROM CNTRCT_DT_SGMNT a, PROD_MSTR b WHERE a.DT_SGMNT_SYS_ID = {1}  and a.PROD_SYS_ID = b.PROD_SYS_ID  ))
	    			AND PROD_PARNT_SYS_ID = (Select unique PROD_PARNT_SYS_ID FROM CNTRCT_DT_SGMNT a, PROD_MSTR b WHERE a.DT_SGMNT_SYS_ID = {2}  and a.PROD_SYS_ID = b.PROD_SYS_ID  )
					AND PROD_SYS_ID != 	(Select unique PROD_SYS_ID from CNTRCT_DT_SGMNT  where DT_SGMNT_SYS_ID = {3} )
			</SelectSQLQuery>
			<SelectSQLQuery name="retrieveProductLatestVersion">
			  	<![CDATA[
					   SELECT prod_sys_id, prod_vrsn_nbr
					  FROM prod_mstr
					 WHERE prod_efctv_dt  <= TO_DATE({1},'mm/dd/yyyy')
					   AND prod_expiry_dt >= TO_DATE ('12/31/9999', 'mm/dd/yyyy')
					   AND prod_vrsn_nbr =
					          (SELECT MAX (prod_vrsn_nbr)
					             FROM prod_mstr c
					            WHERE prod_stts_cd = 'PUBLISHED'
					              AND prod_parnt_sys_id IN (
					                     SELECT UNIQUE prod_parnt_sys_id
					                              FROM cntrct_dt_sgmnt a,
					                                   prod_mstr b,
					                                   cmst_cntrct_mstr contract,
                                                                           cntrct_dt_sgmnt_assn assn
					                             WHERE 
					                                a.prod_sys_id = b.prod_sys_id
					                               AND a.dt_sgmnt_test_prod_ind IN ('n', 'N')
                                                   AND a.DT_SGMNT_SYS_ID = assn.DT_SGMNT_SYS_ID 
                                                   AND contract.cntrct_sys_id = assn.cntrct_sys_id
					                               AND contract.cntrct_sys_id = {0}))
					   AND prod_parnt_sys_id IN (
					          SELECT UNIQUE prod_parnt_sys_id
					                   FROM cntrct_dt_sgmnt a,
					                        prod_mstr b,
					                        cmst_cntrct_mstr contract,
                                                                cntrct_dt_sgmnt_assn assn
					                  WHERE 
					                     a.prod_sys_id = b.prod_sys_id
					                    AND a.dt_sgmnt_test_prod_ind IN ('n', 'N')
                                        AND a.DT_SGMNT_SYS_ID = assn.DT_SGMNT_SYS_ID 
                                        AND contract.cntrct_sys_id = assn.cntrct_sys_id
					                    AND contract.cntrct_sys_id = {0})
					   AND prod_sys_id NOT IN (
					          SELECT UNIQUE prod_sys_id
					                   FROM cntrct_dt_sgmnt a,
					                  cmst_cntrct_mstr contract,
                                      cntrct_dt_sgmnt_assn assn
					                  WHERE a.dt_sgmnt_test_prod_ind IN ('n', 'N')
                                      AND a.DT_SGMNT_SYS_ID = assn.DT_SGMNT_SYS_ID 
                                      AND contract.cntrct_sys_id = assn.cntrct_sys_id
					                    AND contract.cntrct_sys_id = {0})
				       AND prod_sys_id !={2}
				]]>
			</SelectSQLQuery>
			<SelectSQLQuery name="retrieveCurrentProductForContract">
			    Select PROD_SYS_ID,PROD_STTS_CD FROM PROD_MSTR WHERE PROD_SYS_ID = (Select UNIQUE(PROD_SYS_ID) FROM CNTRCT_DT_SGMNT WHERE DT_SGMNT_SYS_ID = {0} AND DT_SGMNT_TEST_PROD_IND='N')
				  	
			</SelectSQLQuery>	
			<SelectSQLQuery name="checkinDuplicateValidation">
				SELECT C.PROD_SYS_ID FROM PROD_MSTR C WHERE
				C.PROD_SYS_ID IN ( SELECT B.PROD_SYS_ID FROM
				PROD_BNFT_CMPNT_ASSN B WHERE B.PROD_SYS_ID IN ( select
				A.PROD_SYS_ID from PROD_BNFT_CMPNT_ASSN A, (select
				A.BNFT_CMPNT_SYS_ID, A.SQNC_NBR from
				PROD_BNFT_CMPNT_ASSN A WHERE A.PROD_SYS_ID = {0}) AA
				WHERE A.BNFT_CMPNT_SYS_ID = AA.BNFT_CMPNT_SYS_ID AND
				A.SQNC_NBR = AA.SQNC_NBR HAVING
				COUNT(A.BNFT_CMPNT_SYS_ID) = (SELECT COUNT(ROWNUM) FROM
				PROD_BNFT_CMPNT_ASSN WHERE PROD_SYS_ID = {0}) GROUP BY
				A.PROD_SYS_ID ) HAVING COUNT(B.BNFT_CMPNT_SYS_ID) =
				(SELECT COUNT(ROWNUM) FROM PROD_BNFT_CMPNT_ASSN WHERE
				PROD_SYS_ID = {0}) GROUP BY B.PROD_SYS_ID ) AND
				C.PROD_STTS_CD != 'MARKED_FOR_DELETION' AND
				C.PROD_STTS_CD !='CHECKED_OUT' AND C.PROD_STTS_CD !=
				'BUILDING' AND C.PROD_PARNT_SYS_ID != (SELECT
				PROD_PARNT_SYS_ID FROM PROD_MSTR WHERE PROD_SYS_ID ={0})
				AND C.PROD_PARNT_SYS_ID IN ( select X.ENTY_SYS_ID from
				ENTY_DOMN_INFO X where X.ENTY_SYS_ID in ( select
				ENTY_SYS_ID from ENTY_DOMN_INFO Y where Y.DOMN_SYS_ID in
				( select DOMN_SYS_ID from ENTY_DOMN_INFO where
				ENTY_SYS_ID = (SELECT PROD_PARNT_SYS_ID FROM PROD_MSTR
				WHERE PROD_SYS_ID ={0}) AND ENTY_TYPE='product' ) AND
				ENTY_TYPE='product' HAVING COUNT(DOMN_SYS_ID) = (select
				COUNT(DOMN_SYS_ID) from ENTY_DOMN_INFO where ENTY_SYS_ID
				= (SELECT PROD_PARNT_SYS_ID FROM PROD_MSTR WHERE
				PROD_SYS_ID ={0}) AND ENTY_TYPE='product') group by
				ENTY_SYS_ID ) AND X.ENTY_TYPE='product' GROUP BY
				(X.ENTY_SYS_ID) HAVING COUNT(X.DOMN_SYS_ID) = (select
				COUNT(DOMN_SYS_ID) from ENTY_DOMN_INFO where ENTY_SYS_ID
				= (SELECT PROD_PARNT_SYS_ID FROM PROD_MSTR WHERE
				PROD_SYS_ID ={0}) AND ENTY_TYPE='product') )

			</SelectSQLQuery>
			<SelectSQLQuery name="getDuplicateProducts" dynamic="true">

	 			<STATIC>select A.PROD_SYS_ID from PROD_MSTR A, ENTY_DOMN_INFO B, AVLBL_DOMN C 
							where A.PROD_PARNT_SYS_ID != {0} 
								and A.PROD_PARNT_SYS_ID = B.ENTY_SYS_ID 
								and B.ENTY_TYPE='product' 
								and B.DOMN_SYS_ID = C.DOMN_SYS_ID</STATIC> 
				  <DYNAMIC>and A.PROD_NM = {1}</DYNAMIC> 
				  <DYNAMIC>AND (C.LOB_NM {2} or C.LOB_NM in ('ALL'))</DYNAMIC> 
				  <DYNAMIC>AND (C.BUS_ENTY_NM {3} or C.BUS_ENTY_NM in ('ALL'))</DYNAMIC> 
				  <DYNAMIC>AND (C.BUS_GRP_NM {4} or C.BUS_GRP_NM in ('ALL'))</DYNAMIC> 
				  <DYNAMIC>AND (C.MRKT_BUS_UNT {5} or C.MRKT_BUS_UNT in ('ALL'))</DYNAMIC> 
			</SelectSQLQuery>
		<SelectSQLQuery name="getValidProductsForContract" dynamic="true">
					<STATIC>
                    select      A.PROD_SYS_ID, A.PROD_NM, item.cd_desc_txt
                    from PROD_MSTR A, item, (select PROD_PARNT_SYS_ID, MAX(PROD_VRSN_NBR) PROD_VRSN_NBR FROM  PROD_MSTR X WHERE X.PROD_STTS_CD = 'PUBLISHED' 
					</STATIC>
					<DYNAMIC>
							or X.PROD_STTS_CD = {6}			
					</DYNAMIC>
					<STATIC>
					GROUP BY PROD_PARNT_SYS_ID) AA
					where 1=1 
							AND item.ctlg_id = '1937'
							AND item.prmry_cd = A.PROD_FMLY_NM
							AND A.PROD_PARNT_SYS_ID = AA.PROD_PARNT_SYS_ID
							AND A.PROD_VRSN_NBR = AA.PROD_VRSN_NBR
							AND (A.PROD_STTS_CD ='PUBLISHED'
					</STATIC>
					<DYNAMIC>
							or A.PROD_STTS_CD = {6}					
					</DYNAMIC>
					
					<STATIC>
							)
							AND A.PROD_TYPE = {5}
					</STATIC>
					<DYNAMIC>
							and A.PROD_ST_CD = {7}					
					</DYNAMIC>
					<DYNAMIC>
							and A.PROD_PARNT_SYS_ID in 
							(
								(select unique a.PROD_PARNT_SYS_ID 
								from  PROD_MSTR a, ENTY_DOMN_INFO b, AVLBL_DOMN c
								where a.PROD_PARNT_SYS_ID = b.ENTY_SYS_ID
								and b.DOMN_SYS_ID = c.DOMN_SYS_ID
								and b.ENTY_TYPE = 'product'
								and c.LOB_NM {0}
								GROUP BY a.PROD_PARNT_SYS_ID
								HAVING count(UNIQUE c.LOB_NM) = (select count(PRMRY_CD) from item where PRMRY_CD {0} AND CTLG_ID = 1925))
								union
								(select unique a.PROD_PARNT_SYS_ID from  PROD_MSTR a, ENTY_DOMN_INFO b, AVLBL_DOMN c
								where a.PROD_PARNT_SYS_ID = b.ENTY_SYS_ID
								and b.DOMN_SYS_ID = c.DOMN_SYS_ID
								and b.ENTY_TYPE = 'product'
								and c.LOB_NM LIKE 'ALL') 
							)
					</DYNAMIC>
					<DYNAMIC>
							and A.PROD_PARNT_SYS_ID in 
							(
								(select unique a.PROD_PARNT_SYS_ID
								from  PROD_MSTR a, ENTY_DOMN_INFO b, AVLBL_DOMN c
								where a.PROD_PARNT_SYS_ID = b.ENTY_SYS_ID
								and b.DOMN_SYS_ID = c.DOMN_SYS_ID
								and b.ENTY_TYPE = 'product'
								and c.BUS_ENTY_NM {1}
								GROUP BY a.PROD_PARNT_SYS_ID
								HAVING count(UNIQUE c.BUS_ENTY_NM) = (select count(PRMRY_CD) from item where PRMRY_CD {1} AND CTLG_ID = 1932))
								union
								(select unique a.PROD_PARNT_SYS_ID from  PROD_MSTR a, ENTY_DOMN_INFO b, AVLBL_DOMN c
								where a.PROD_PARNT_SYS_ID = b.ENTY_SYS_ID
								and b.DOMN_SYS_ID = c.DOMN_SYS_ID
								and b.ENTY_TYPE = 'product'
								and c.BUS_ENTY_NM LIKE 'ALL') 
							)
					</DYNAMIC>
					<DYNAMIC>
							and A.PROD_PARNT_SYS_ID in 
							(
								(select unique a.PROD_PARNT_SYS_ID 
								from  PROD_MSTR a, ENTY_DOMN_INFO b, AVLBL_DOMN c
								where a.PROD_PARNT_SYS_ID = b.ENTY_SYS_ID
								and b.DOMN_SYS_ID = c.DOMN_SYS_ID
								and b.ENTY_TYPE = 'product'
								and c.BUS_GRP_NM {2} 
								GROUP BY a.PROD_PARNT_SYS_ID
								HAVING count(UNIQUE c.BUS_GRP_NM) = (select count(PRMRY_CD) from item where PRMRY_CD {2} AND CTLG_ID = 1933))
								union
								(select unique PROD_PARNT_SYS_ID from  PROD_MSTR a, ENTY_DOMN_INFO b, AVLBL_DOMN c
								where a.PROD_PARNT_SYS_ID = b.ENTY_SYS_ID
								and b.DOMN_SYS_ID = c.DOMN_SYS_ID
								and b.ENTY_TYPE = 'product'
								and c.BUS_GRP_NM LIKE 'ALL')
							)
					</DYNAMIC>
					<DYNAMIC>
							and A.PROD_PARNT_SYS_ID in 
							(
								(select unique a.PROD_PARNT_SYS_ID 
								from  PROD_MSTR a, ENTY_DOMN_INFO b, AVLBL_DOMN c
								where a.PROD_PARNT_SYS_ID = b.ENTY_SYS_ID
								and b.DOMN_SYS_ID = c.DOMN_SYS_ID
								and b.ENTY_TYPE = 'product'
								and c.MRKT_BUS_UNT {9} 
								GROUP BY a.PROD_PARNT_SYS_ID
								HAVING count(UNIQUE c.MRKT_BUS_UNT) = (select count(PRMRY_CD) from item where PRMRY_CD {9} AND CTLG_ID = 3470))
								union
								(select unique PROD_PARNT_SYS_ID from  PROD_MSTR a, ENTY_DOMN_INFO b, AVLBL_DOMN c
								where a.PROD_PARNT_SYS_ID = b.ENTY_SYS_ID
								and b.DOMN_SYS_ID = c.DOMN_SYS_ID
								and b.ENTY_TYPE = 'product'
								and c.MRKT_BUS_UNT LIKE 'ALL')
							)
					</DYNAMIC>
					<DYNAMIC>                   
						AND A.prod_parnt_sys_id = {8}
                   	</DYNAMIC>
				  	<DYNAMIC>
						<![CDATA[
					AND A.PROD_EFCTV_DT <= TO_DATE({3},'mm/dd/yyyy')
						]]>
					</DYNAMIC>	
					<DYNAMIC>
						<![CDATA[
						AND A.PROD_EXPIRY_DT >= TO_DATE({4},'mm/dd/yyyy')
						]]>
					</DYNAMIC>	
					<STATIC>
								order by upper(PROD_NM)
					</STATIC>
			</SelectSQLQuery>
				<SelectSQLQuery name="deleteTierInfo">
				CALL PRD_DELETE_TIER({0},{1})
			</SelectSQLQuery>
			<SelectSQLQuery name ="getPva">
				select rowNum,PVA_ID  from PROD_FMLY_BUSS_ENTY_PVA_MAP
				where PROD_FMLY_ID
				IN (
			  	 Select distinct PROD_FMLY_NM  from PROD_MSTR where PROD_SYS_ID = 
			 	 ( select PROD_PARNT_SYS_ID  from PROD_MSTR where PROD_SYS_ID = {0}) )
				and BUSS_ENTY_ID
				IN (
	 			SELECT  b.BUS_ENTY_NM FROM ENTY_DOMN_INFO a, AVLBL_DOMN b,
									 (SELECT * FROM ITEM WHERE CTLG_ID = 1932) BE
				WHERE a.DOMN_SYS_ID = b.DOMN_SYS_ID and a.ENTY_TYPE = 'product' 
				and a.ENTY_SYS_ID IN(select PROD_PARNT_SYS_ID  from PROD_MSTR where PROD_SYS_ID = {0}) and b.BUS_ENTY_NM	=BE.PRMRY_CD)
			</SelectSQLQuery>
			<DataObject name="PROD_MSTR">
				<DataObjectAttribute name="PROD_SYS_ID" 			type="Int" />
				<DataObjectAttribute name="PROD_NM" 				type="String" />
				<DataObjectAttribute name="PROD_VRSN_NBR" 			type="Int" />
				<DataObjectAttribute name="PROD_STRCTR_SYS_ID"		type="String" />
				<DataObjectAttribute name="PROD_EFCTV_DT" 			type="Date" />
				<DataObjectAttribute name="PROD_EXPIRY_DT" 			type="Date" />
				<DataObjectAttribute name="PROD_DESC_TXT" 			type="String" />
				<DataObjectAttribute name="PROD_FMLY_NM" 			type="String" />
				<DataObjectAttribute name="PROD_STTS_CD" 			type="String" />
				<DataObjectAttribute name="CREATD_USER_ID"			type="String" />
				<DataObjectAttribute name="CREATD_TM_STMP" 			type="TimeStamp" />
				<DataObjectAttribute name="LST_CHG_USR" 			type="String" />
				<DataObjectAttribute name="LST_CHG_TMS" 			type="TimeStamp" />
				<DataObjectAttribute name="PROD_PARNT_SYS_ID"		type="Int" />
				<DataObjectAttribute name="PROD_STRCTR_NM"			type="String" />
				<DataObjectAttribute name="PROD_FAMILY_DESC"		type="String" />
				<DataObjectAttribute name="SOURCE_PROD_SYS_ID"		type="String" />
				<DataObjectAttribute name="LOB_ID" 					type="String" />
				<DataObjectAttribute name="BE_ID" 					type="String" />
				<DataObjectAttribute name="BG_ID" 					type="String" />
				<DataObjectAttribute name="MRKT_BUS_UNT" 			type="String" />
				<DataObjectAttribute name="PROD_TYPE" 				type="String" />
				<DataObjectAttribute name="MNDT_TYPE" 				type="String" />
				<DataObjectAttribute name="PROD_ST_CD" 				type="String" />
				<DataObjectAttribute name="ITEM_STATE_DESC"			type="String" />
				<DataObjectAttribute name="ITEM_MANDATE_DESC"		type="String" />
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 		type="Int"/>
				<DataObjectAttribute name="COPY_ACTION" 			type="String"/>
				<DataObjectAttribute name="CNTRCT_SYS_ID" 			type="Int"/>
				<DataObjectAttribute name="DATESEGMENT_ID" 			type="Int"/>
				<DataObjectAttribute name="TEST_CNTRCT_STATE"   	type="String"/>
				<DataObjectAttribute name="PROD_STRCTR_VRSN_NBR"   	type="Int"/>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="SOURCE_PROD_SYS_ID" />
					<DataObjectAttributeInput index="1"
						name="PROD_SYS_ID" />
					<DataObjectAttributeInput index="2"
						name="LST_CHG_USR" />
					<DataObjectAttributeInput index="4" name="COPY_ACTION"/>
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="PROD_SYS_ID" />
						<ResultIndex index="1"
							dataObjectAttribName="PROD_NM" />
						<ResultIndex index="2"
							dataObjectAttribName="PROD_VRSN_NBR" />
						<ResultIndex index="3"
							dataObjectAttribName="PROD_STRCTR_SYS_ID" />
						<ResultIndex index="4"
							dataObjectAttribName="PROD_EFCTV_DT" />
						<ResultIndex index="5"
							dataObjectAttribName="PROD_EXPIRY_DT" />
						<ResultIndex index="6"
							dataObjectAttribName="PROD_DESC_TXT" />
						<ResultIndex index="7"
							dataObjectAttribName="PROD_FMLY_NM" />
						<ResultIndex index="8"
							dataObjectAttribName="PROD_STTS_CD" />
						<ResultIndex index="9"
							dataObjectAttribName="CREATD_USER_ID" />
						<ResultIndex index="10"
							dataObjectAttribName="CREATD_TM_STMP" />
						<ResultIndex index="11"
							dataObjectAttribName="LST_CHG_USR" />
						<ResultIndex index="12"
							dataObjectAttribName="LST_CHG_TMS" />
						<ResultIndex index="13"
							dataObjectAttribName="PROD_STRCTR_NM" />
						<ResultIndex index="14"
							dataObjectAttribName="PROD_FAMILY_DESC" />
						<ResultIndex index="15"
							dataObjectAttribName="PROD_PARNT_SYS_ID" />
						


					</RSIndexToDOAttributeMap>
					<SearchQueryName name="copyAssociations" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="SOURCE_PROD_SYS_ID" />
					<DataObjectAttributeInput index="1"
						name="PROD_SYS_ID" />
					<DataObjectAttributeInput index="2"
						name="LST_CHG_USR" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="PROD_SYS_ID" />
						<ResultIndex index="1"
							dataObjectAttribName="PROD_NM" />
						<ResultIndex index="2"
							dataObjectAttribName="PROD_VRSN_NBR" />
						<ResultIndex index="3"
							dataObjectAttribName="PROD_STRCTR_SYS_ID" />
						<ResultIndex index="4"
							dataObjectAttribName="PROD_EFCTV_DT" />
						<ResultIndex index="5"
							dataObjectAttribName="PROD_EXPIRY_DT" />
						<ResultIndex index="6"
							dataObjectAttribName="PROD_DESC_TXT" />
						<ResultIndex index="7"
							dataObjectAttribName="PROD_FMLY_NM" />
						<ResultIndex index="8"
							dataObjectAttribName="PROD_STTS_CD" />
						<ResultIndex index="9"
							dataObjectAttribName="CREATD_USER_ID" />
						<ResultIndex index="10"
							dataObjectAttribName="CREATD_TM_STMP" />
						<ResultIndex index="11"
							dataObjectAttribName="LST_CHG_USR" />
						<ResultIndex index="12"
							dataObjectAttribName="LST_CHG_TMS" />
						<ResultIndex index="13"
							dataObjectAttribName="PROD_STRCTR_NM" />
						<ResultIndex index="14"
							dataObjectAttribName="PROD_FAMILY_DESC" />
						<ResultIndex index="15"
							dataObjectAttribName="PROD_PARNT_SYS_ID" />


					</RSIndexToDOAttributeMap>
					<SearchQueryName name="copyProduct" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="SOURCE_PROD_SYS_ID" />
					<DataObjectAttributeInput index="1"
						name="PROD_SYS_ID" />
					<DataObjectAttributeInput index="2"
						name="LST_CHG_USR" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="PROD_SYS_ID" />
						<ResultIndex index="1"
							dataObjectAttribName="PROD_NM" />
						<ResultIndex index="2"
							dataObjectAttribName="PROD_VRSN_NBR" />
						<ResultIndex index="3"
							dataObjectAttribName="PROD_STRCTR_SYS_ID" />
						<ResultIndex index="4"
							dataObjectAttribName="PROD_EFCTV_DT" />
						<ResultIndex index="5"
							dataObjectAttribName="PROD_EXPIRY_DT" />
						<ResultIndex index="6"
							dataObjectAttribName="PROD_DESC_TXT" />
						<ResultIndex index="7"
							dataObjectAttribName="PROD_FMLY_NM" />
						<ResultIndex index="8"
							dataObjectAttribName="PROD_STTS_CD" />
						<ResultIndex index="9"
							dataObjectAttribName="CREATD_USER_ID" />
						<ResultIndex index="10"
							dataObjectAttribName="CREATD_TM_STMP" />
						<ResultIndex index="11"
							dataObjectAttribName="LST_CHG_USR" />
						<ResultIndex index="12"
							dataObjectAttribName="LST_CHG_TMS" />
						<ResultIndex index="13"
							dataObjectAttribName="PROD_STRCTR_NM" />
						<ResultIndex index="14"
							dataObjectAttribName="PROD_FAMILY_DESC" />
						<ResultIndex index="15"
							dataObjectAttribName="PROD_PARNT_SYS_ID" />


					</RSIndexToDOAttributeMap>
					<SearchQueryName name="checkOutProduct" />
				</SQLTemplate>
				<SQLTemplate transType="insert">
					<SQLQuery>

						INSERT INTO PROD_MSTR ( PROD_SYS_ID, PROD_NM,
						PROD_VRSN_NBR, PROD_STRCTR_SYS_ID,
						PROD_DESC_TXT, PROD_EFCTV_DT, PROD_EXPIRY_DT,
						PROD_FMLY_NM, PROD_STTS_CD, CREATD_USER_ID,
						LST_CHG_USR, CREATD_TM_STMP, LST_CHG_TMS,
						PROD_PARNT_SYS_ID,PROD_TYPE,MNDT_TYPE,PROD_ST_CD)
						VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,
						?,?,?,?)
					</SQLQuery>
					<DataObjectAttributeInput index="0"
						name="PROD_SYS_ID" />
					<DataObjectAttributeInput index="1" name="PROD_NM" />
					<DataObjectAttributeInput index="2"
						name="PROD_VRSN_NBR" />
					<DataObjectAttributeInput index="3"
						name="PROD_STRCTR_SYS_ID" />
					<DataObjectAttributeInput index="4"
						name="PROD_DESC_TXT" />
					<DataObjectAttributeInput index="5"
						name="PROD_EFCTV_DT" />
					<DataObjectAttributeInput index="6"
						name="PROD_EXPIRY_DT" />
					<DataObjectAttributeInput index="7"
						name="PROD_FMLY_NM" />
					<DataObjectAttributeInput index="8"
						name="PROD_STTS_CD" />
					<DataObjectAttributeInput index="9"
						name="CREATD_USER_ID" />
					<DataObjectAttributeInput index="10"
						name="LST_CHG_USR" />
					<DataObjectAttributeInput index="11"
						name="CREATD_TM_STMP" />
					<DataObjectAttributeInput index="12"
						name="LST_CHG_TMS" />
					<DataObjectAttributeInput index="13"
						name="PROD_PARNT_SYS_ID" />
					<DataObjectAttributeInput index="14"
						name="PROD_TYPE" />
					<DataObjectAttributeInput index="15"
						name="MNDT_TYPE" />
					<DataObjectAttributeInput index="16" name="PROD_ST_CD" />
				</SQLTemplate>
				<SQLTemplate transType="update">
					<SQLQuery>
						UPDATE PROD_MSTR SET PROD_STRCTR_SYS_ID = ?,
						PROD_VRSN_NBR = ?, PROD_DESC_TXT = ?,
						PROD_EFCTV_DT = ?, PROD_EXPIRY_DT = ?,
						PROD_FMLY_NM = ?, PROD_STTS_CD = ?, LST_CHG_USR
						= ?, LST_CHG_TMS = ?, PROD_NM = ?,PROD_TYPE=
						?,MNDT_TYPE= ?,PROD_ST_CD= ? WHERE PROD_SYS_ID = ?
					</SQLQuery>
					<DataObjectAttributeInput index="13"
						name="PROD_SYS_ID" />
					<DataObjectAttributeInput index="0"
						name="PROD_STRCTR_SYS_ID" />
					<DataObjectAttributeInput index="1"
						name="PROD_VRSN_NBR" />
					<DataObjectAttributeInput index="2"
						name="PROD_DESC_TXT" />
					<DataObjectAttributeInput index="3"
						name="PROD_EFCTV_DT" />
					<DataObjectAttributeInput index="4"
						name="PROD_EXPIRY_DT" />
					<DataObjectAttributeInput index="5"
						name="PROD_FMLY_NM" />
					<DataObjectAttributeInput index="6"
						name="PROD_STTS_CD" />
					<DataObjectAttributeInput index="7"
						name="LST_CHG_USR" />
					<DataObjectAttributeInput index="8"
						name="LST_CHG_TMS" />
					<DataObjectAttributeInput index="9" name="PROD_NM" />
					<DataObjectAttributeInput index="10"
						name="PROD_TYPE" />
					<DataObjectAttributeInput index="11"
						name="MNDT_TYPE" />
					<DataObjectAttributeInput index="12" name="PROD_ST_CD" />
				</SQLTemplate>

				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="PROD_SYS_ID" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="PROD_SYS_ID" />
						<ResultIndex index="1"
							dataObjectAttribName="PROD_NM" />
						<ResultIndex index="2"
							dataObjectAttribName="PROD_VRSN_NBR" />
						<ResultIndex index="3"
							dataObjectAttribName="PROD_STRCTR_SYS_ID" />
						<ResultIndex index="4"
							dataObjectAttribName="PROD_EFCTV_DT" />
						<ResultIndex index="5"
							dataObjectAttribName="PROD_EXPIRY_DT" />
						<ResultIndex index="6"
							dataObjectAttribName="PROD_DESC_TXT" />
						<ResultIndex index="7"
							dataObjectAttribName="PROD_FMLY_NM" />
						<ResultIndex index="8"
							dataObjectAttribName="PROD_STTS_CD" />
						<ResultIndex index="9"
							dataObjectAttribName="CREATD_USER_ID" />
						<ResultIndex index="10"
							dataObjectAttribName="CREATD_TM_STMP" />
						<ResultIndex index="11"
							dataObjectAttribName="LST_CHG_USR" />
						<ResultIndex index="12"
							dataObjectAttribName="LST_CHG_TMS" />
						<ResultIndex index="13"
							dataObjectAttribName="PROD_STRCTR_NM" />
						<ResultIndex index="14"
							dataObjectAttribName="PROD_FAMILY_DESC" />
						<ResultIndex index="15"
							dataObjectAttribName="PROD_PARNT_SYS_ID" />
						<ResultIndex index="16"
							dataObjectAttribName="PROD_TYPE" />
						<ResultIndex index="17"
							dataObjectAttribName="MNDT_TYPE" />
						<ResultIndex index="18"
							dataObjectAttribName="ITEM_MANDATE_DESC" />
						<ResultIndex index="19"
							dataObjectAttribName="PROD_ST_CD" />
						<ResultIndex index="20"
							dataObjectAttribName="ITEM_STATE_DESC" />
						<ResultIndex index="21"
							dataObjectAttribName="PROD_STRCTR_VRSN_NBR" />
					</RSIndexToDOAttributeMap>
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="PROD_SYS_ID" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="PROD_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="checkinDuplicateValidation" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_NM" />
					<RSIndexToDOAttributeMap>
			            <ResultIndex index="0" dataObjectAttribName ="PROD_SYS_ID"/>
			        </RSIndexToDOAttributeMap>
					<SearchQueryName name="retrieveProductCode" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_SYS_ID" />
					<RSIndexToDOAttributeMap>
			            <ResultIndex index="0" dataObjectAttribName ="PROD_SYS_ID"/>
						<ResultIndex index="1" dataObjectAttribName ="PROD_NM"/>
			        </RSIndexToDOAttributeMap>
					<SearchQueryName name="retrieveProductName" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_SYS_ID" />
					<RSIndexToDOAttributeMap>
			            <ResultIndex index="0" dataObjectAttribName ="PROD_SYS_ID"/>
						<ResultIndex index="1" dataObjectAttribName ="PROD_FMLY_NM"/>
						<ResultIndex index="2" dataObjectAttribName ="PROD_ST_CD"/>
			        </RSIndexToDOAttributeMap>
					<SearchQueryName name="referenceDataValidation" />
				</SQLTemplate>
				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM PROD_MSTR WHERE PROD_SYS_ID = ?
					</SQLQuery>
					<DataObjectAttributeInput index="0"
						name="PROD_SYS_ID" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_NM" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="PROD_SYS_ID" />
						<ResultIndex index="1"
							dataObjectAttribName="PROD_NM" />
						<ResultIndex index="2"
							dataObjectAttribName="PROD_VRSN_NBR" />
						<ResultIndex index="3"
							dataObjectAttribName="PROD_STRCTR_SYS_ID" />
						<ResultIndex index="4"
							dataObjectAttribName="PROD_EFCTV_DT" />
						<ResultIndex index="5"
							dataObjectAttribName="PROD_EXPIRY_DT" />
						<ResultIndex index="6"
							dataObjectAttribName="PROD_DESC_TXT" />
						<ResultIndex index="7"
							dataObjectAttribName="PROD_FMLY_NM" />
						<ResultIndex index="8"
							dataObjectAttribName="PROD_STTS_CD" />
						<ResultIndex index="9"
							dataObjectAttribName="CREATD_USER_ID" />
						<ResultIndex index="10"
							dataObjectAttribName="CREATD_TM_STMP" />
						<ResultIndex index="11"
							dataObjectAttribName="LST_CHG_USR" />
						<ResultIndex index="12"
							dataObjectAttribName="LST_CHG_TMS" />
						<ResultIndex index="13"
							dataObjectAttribName="PROD_PARNT_SYS_ID" />
						<ResultIndex index="14"   dataObjectAttribName="PROD_TYPE" />
						<ResultIndex index="15"   dataObjectAttribName="MNDT_TYPE" />
						<ResultIndex index="16"	  dataObjectAttribName="PROD_ST_CD" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="retrieveLatestVersion" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
					<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName ="PROD_SYS_ID"/>
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getProductStructureIdFromProductAndBenefitComponentKey"/>
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="LOB_ID"/>
					<DataObjectAttributeInput index="1" name="BE_ID"/>
					<DataObjectAttributeInput index="2" name="BG_ID"/>
					<DataObjectAttributeInput index="3" name="PROD_EFCTV_DT"/>
					<DataObjectAttributeInput index="4" name="PROD_EXPIRY_DT"/>
					<DataObjectAttributeInput index="5" name="PROD_TYPE"/>
					<DataObjectAttributeInput index="6" name="TEST_CNTRCT_STATE"/>
					<DataObjectAttributeInput index="7" name="PROD_ST_CD"/>
					<DataObjectAttributeInput index="8" name="PROD_PARNT_SYS_ID"/>
					<DataObjectAttributeInput index="9" name="MRKT_BUS_UNT"/>
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName ="PROD_SYS_ID"/>
						<ResultIndex index="1" dataObjectAttribName ="PROD_NM"/>
						<ResultIndex index="2" dataObjectAttribName ="PROD_FAMILY_DESC"/>
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getValidProductsForContract"/>
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="CNTRCT_SYS_ID"/>
					<DataObjectAttributeInput index="1" name="DATESEGMENT_ID"/>
					<DataObjectAttributeInput index="2" name="DATESEGMENT_ID"/>
					<DataObjectAttributeInput index="3" name="DATESEGMENT_ID"/>
					
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName ="PROD_SYS_ID"/>
						<ResultIndex index="1" dataObjectAttribName ="PROD_VRSN_NBR"/>
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="retrieveLatestProductVersion"/>
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="CNTRCT_SYS_ID"/>
					<DataObjectAttributeInput index="1" name="PROD_EFCTV_DT"/>
					<DataObjectAttributeInput index="2" name="PROD_SYS_ID"/>
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName ="PROD_SYS_ID"/>
						<ResultIndex index="1" dataObjectAttribName ="PROD_VRSN_NBR"/>
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="retrieveProductLatestVersion"/>
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="DATESEGMENT_ID"/>
					
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName ="PROD_SYS_ID"/>
						<ResultIndex index="1" dataObjectAttribName ="PROD_STTS_CD"/>
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="retrieveCurrentProductForContract"/>
				</SQLTemplate>
				

				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_NM" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="PROD_SYS_ID" />
						<ResultIndex index="1"
							dataObjectAttribName="PROD_NM" />
						<ResultIndex index="2"
							dataObjectAttribName="PROD_PARNT_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="locateProducts" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_PARNT_SYS_ID" />
					<DataObjectAttributeInput index="1"
						name="PROD_NM" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="PROD_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getDuplicateProducts" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="PROD_SYS_ID" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="PROD_SYS_ID" />
						<ResultIndex index="1"
							dataObjectAttribName="PROD_NM" />
						<ResultIndex index="2"
							dataObjectAttribName="PROD_VRSN_NBR" />
						<ResultIndex index="3"
							dataObjectAttribName="PROD_STRCTR_SYS_ID" />
						<ResultIndex index="4"
							dataObjectAttribName="PROD_EFCTV_DT" />
						<ResultIndex index="5"
							dataObjectAttribName="PROD_EXPIRY_DT" />
						<ResultIndex index="6"
							dataObjectAttribName="PROD_DESC_TXT" />
						<ResultIndex index="7"
							dataObjectAttribName="PROD_FMLY_NM" />
						<ResultIndex index="8"
							dataObjectAttribName="PROD_STTS_CD" />
						<ResultIndex index="9"
							dataObjectAttribName="CREATD_USER_ID" />
						<ResultIndex index="10"
							dataObjectAttribName="CREATD_TM_STMP" />
						<ResultIndex index="11"
							dataObjectAttribName="LST_CHG_USR" />
						<ResultIndex index="12"
							dataObjectAttribName="LST_CHG_TMS" />
						<ResultIndex index="13"
							dataObjectAttribName="PROD_PARNT_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="retrieveLatestVersionNumber" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_NM" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="PROD_SYS_ID" />
						<ResultIndex index="1"
							dataObjectAttribName="PROD_NM" />
						<ResultIndex index="2"
							dataObjectAttribName="PROD_VRSN_NBR" />
						<ResultIndex index="3"
							dataObjectAttribName="PROD_STRCTR_SYS_ID" />
						<ResultIndex index="4"
							dataObjectAttribName="PROD_EFCTV_DT" />
						<ResultIndex index="5"
							dataObjectAttribName="PROD_EXPIRY_DT" />
						<ResultIndex index="6"
							dataObjectAttribName="PROD_DESC_TXT" />
						<ResultIndex index="7"
							dataObjectAttribName="PROD_FMLY_NM" />
						<ResultIndex index="8"
							dataObjectAttribName="PROD_STTS_CD" />
						<ResultIndex index="9"
							dataObjectAttribName="CREATD_USER_ID" />
						<ResultIndex index="10"
							dataObjectAttribName="CREATD_TM_STMP" />
						<ResultIndex index="11"
							dataObjectAttribName="LST_CHG_USR" />
						<ResultIndex index="12"
							dataObjectAttribName="LST_CHG_TMS" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="retrieveByProductName" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="PROD_STRCTR_SYS_ID" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="PROD_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="productStructureValidation" />
				</SQLTemplate>
				<SQLTemplate transType="select">
						<DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
						<RSIndexToDOAttributeMap>
							<ResultIndex index="0" dataObjectAttribName ="PROD_SYS_ID"/>
					   </RSIndexToDOAttributeMap>
					<SearchQueryName name="deleteTierInfo"/>
				</SQLTemplate>

				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" toBOAttb="productKey" />
					<Pair DOAttb="PROD_NM" toBOAttb="productName" />
					<Pair DOAttb="PROD_VRSN_NBR" toBOAttb="version" />
					<Pair DOAttb="PROD_STRCTR_SYS_ID"
						toBOAttb="productStructureKey" />
					<Pair DOAttb="PROD_DESC_TXT" toBOAttb="productDesc" />
					<Pair DOAttb="PROD_EFCTV_DT"
						toBOAttb="effectiveDate" />
					<Pair DOAttb="PROD_EXPIRY_DT" toBOAttb="expiryDate" />
					<Pair DOAttb="PROD_FMLY_NM"
						toBOAttb="productFamilyId" />
					<Pair DOAttb="PROD_STTS_CD" toBOAttb="status" />
					<Pair DOAttb="CREATD_USER_ID"
						toBOAttb="createdUser" />
					<Pair DOAttb="CREATD_TM_STMP"
						toBOAttb="createdTimestamp" />
					<Pair DOAttb="LST_CHG_USR"
						toBOAttb="lastUpdatedUser" />
					<Pair DOAttb="LST_CHG_TMS"
						toBOAttb="lastUpdatedTimestamp" />
					<Pair DOAttb="PROD_PARNT_SYS_ID"
						toBOAttb="parentProductKey" />
					<Pair DOAttb="PROD_STRCTR_NM"
						toBOAttb="productStructureName" />
					<Pair DOAttb="PROD_FAMILY_DESC"
						toBOAttb="productFamilyDesc" />
					<Pair DOAttb="PROD_TYPE" toBOAttb="productType" />
					<Pair DOAttb="MNDT_TYPE" toBOAttb="mandateType" />
					<Pair DOAttb="PROD_ST_CD" toBOAttb="stateId" />
					<Pair DOAttb="ITEM_STATE_DESC" toBOAttb="stateDesc" />
					<Pair DOAttb="ITEM_MANDATE_DESC"
						toBOAttb="mandateDesc" />
					<Pair DOAttb="LOB_ID"             toBOAttb= "lineOfBusinessList"/>
						<Pair DOAttb="BE_ID" 		   toBOAttb="businessEntityList"/>
						<Pair DOAttb="BG_ID"			toBOAttb="businessGroupList"/>
					<Pair DOAttb="PROD_STRCTR_VRSN_NBR"			toBOAttb="productStructureVersion"/>
					<Pair DOAttb="MRKT_BUS_UNT"			toBOAttb="marketBusinessUnitList"/>
				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" toSCAttb="productKey" />
					<Pair DOAttb="BNFT_CMPNT_SYS_ID" toSCAttb="productBenefitComponentKey" />
					<Pair DOAttb="PROD_NM" toSCAttb="productName" />
					<Pair DOAttb="PROD_VRSN_NBR" toSCAttb="version" />
					<Pair DOAttb="PROD_STRCTR_SYS_ID"
						toSCAttb="productStructureId" />
					<Pair DOAttb="SOURCE_PROD_SYS_ID"
						toSCAttb="sourceProdId" />
					<Pair DOAttb="LST_CHG_USR"
						toSCAttb="lastUpdatedUser" />
					<Pair DOAttb="CREATD_TM_STMP"
						toSCAttb="lastUpdatedTimestamp" />
					<Pair DOAttb="PROD_PARNT_SYS_ID"
						toSCAttb="parentId" />
					<Pair DOAttb="PROD_EFCTV_DT" 		toSCAttb="effectiveDate"/>
					<Pair DOAttb="PROD_EXPIRY_DT"			toSCAttb="expiryDate"/>
					<Pair DOAttb="LOB_ID"             toSCAttb= "lob"/>
					<Pair DOAttb="BE_ID" 		   toSCAttb="be"/>
					<Pair DOAttb="BG_ID"			toSCAttb="bg"/>
					<Pair DOAttb="COPY_ACTION" 	toSCAttb="copyAction"/>
					<Pair DOAttb="CNTRCT_SYS_ID" 	toSCAttb="contractSysId"/>
					<Pair DOAttb="DATESEGMENT_ID" 	toSCAttb="dateSegmentId"/>
					<Pair DOAttb="PROD_TYPE"    toSCAttb="productType"></Pair>
					<Pair DOAttb="TEST_CNTRCT_STATE" toSCAttb="testContractState"/>   
					<Pair DOAttb="PROD_ST_CD" toSCAttb="stateId" />
					<Pair DOAttb="MRKT_BUS_UNT"			toSCAttb="mbu"/>
				</DoAttributeToSCAttributeMap>
			</DataObject>
			<DataObject name="PROD_BNFT_CSTMZD">
				<DataObjectAttribute name="PROD_SYS_ID" 		type="Int" />
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 	type="Int" />
				<DataObjectAttribute name="CREATD_USER_ID"		type="String" />
				<DataObjectAttribute name="CREATD_TMS" 			type="TimeStamp" />
				<DataObjectAttribute name="LST_CHG_USR" 		type="String" />
				<DataObjectAttribute name="LST_CHG_TMS" 		type="TimeStamp" />
				<SQLTemplate transType="delete">
					<SQLQuery>
						delete from PROD_BNFT_CSTMZD where 
						PROD_SYS_ID = ? 
					</SQLQuery>
					<DataObjectAttributeInput index="0"	name="PROD_SYS_ID" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" 		toBOAttb="productKey" />
				</DoAttributeToBOAttributeMap>
			</DataObject>
			<DataObject name="ENTY_DOMN_INFO">
				<DataObjectAttribute name="DOMN_SYS_ID" type="Int" />
				<DataObjectAttribute name="ENTY_NM" type="String" />
				<DataObjectAttribute name="ENTY_TYPE" type="String" />
				<DataObjectAttribute name="ENTY_SYS_ID" type="Int" />
				<DataObjectAttribute name="CREATD_USER_ID"
					type="String" />
				<DataObjectAttribute name="CREATD_TM_STMP" type="TimeStamp" />
				<DataObjectAttribute name="LST_CHG_USR" type="String" />
				<DataObjectAttribute name="LST_CHG_TMS" type="TimeStamp" />
				<DataObjectAttribute name="LOB_ID" type="String" />
				<DataObjectAttribute name="BE_ID" type="String" />
				<DataObjectAttribute name="BG_ID" type="String" />
				<DataObjectAttribute name="MRKT_BUS_UNT" type="String" />
				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM ENTY_DOMN_INFO WHERE ENTY_TYPE =
						'product' AND ENTY_SYS_ID = ?
					</SQLQuery>
					<DataObjectAttributeInput index="0"
						name="ENTY_SYS_ID" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="1" name="LOB_ID" />
					<DataObjectAttributeInput index="2" name="BE_ID" />
					<DataObjectAttributeInput index="3" name="BG_ID" />
					<DataObjectAttributeInput index="4" name="MRKT_BUS_UNT" />
					<SearchQueryName name="retrieveLatestVersion" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="2" name="LOB_ID" />
					<DataObjectAttributeInput index="3" name="BE_ID" />
					<DataObjectAttributeInput index="4" name="BG_ID" />
					<DataObjectAttributeInput index="5" name="MRKT_BUS_UNT" />
					<SearchQueryName name="getDuplicateProducts" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="ENTY_SYS_ID" toBOAttb="productKey" />
					<Pair DOAttb="CREATD_USER_ID"
						toBOAttb="createdUser" />
					<Pair DOAttb="CREATD_TM_STMP"
						toBOAttb="createdTimestamp" />
					<Pair DOAttb="LST_CHG_USR"
						toBOAttb="lastUpdatedUser" />
					<Pair DOAttb="LST_CHG_TMS"
						toBOAttb="lastUpdatedTimestamp" />
					<Pair DOAttb="ENTY_NM" toBOAttb="productName" />

				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
					<Pair DOAttb="LOB_ID" toSCAttb="lob" />
					<Pair DOAttb="BE_ID" toSCAttb="be" />
					<Pair DOAttb="BG_ID" toSCAttb="bg" />
					<Pair DOAttb="MRKT_BUS_UNT" toSCAttb="mbu" />
				</DoAttributeToSCAttributeMap>
			</DataObject>

			<DataObject name="AVLBL_DOMN">
				<DataObjectAttribute name="DOMN_SYS_ID" type="Int" />
				<DataObjectAttribute name="BUS_GRP_NM" type="String" />
				<DataObjectAttribute name="BUS_ENTY_NM" type="String" />
				<DataObjectAttribute name="LOB_NM" type="String" />
				<DataObjectAttribute name="MRKT_BUS_UNT" type="String" />
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="1"
						name="BUS_GRP_NM" />
					<DataObjectAttributeInput index="2"
						name="BUS_ENTY_NM" />
					<DataObjectAttributeInput index="3" name="LOB_NM" />
					<DataObjectAttributeInput index="5" name="MRKT_BUS_UNT"/>
					<SearchQueryName name="locateProducts" />
				</SQLTemplate>


				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="BUS_GRP_NM" toBOAttb="productName" />
					<Pair DOAttb="BUS_ENTY_NM" toBOAttb="productName" />
					<Pair DOAttb="LOB_NM" toBOAttb="productName" />
					<Pair DOAttb="MRKT_BUS_UNT" toBOAttb="productName" />
				</DoAttributeToBOAttributeMap>

				<DoAttributeToSCAttributeMap>
					<Pair DOAttb="LOB_NM" toSCAttb="lob" />
					<Pair DOAttb="BUS_ENTY_NM" toSCAttb="be" />
					<Pair DOAttb="BUS_GRP_NM" toSCAttb="bg" />
					<Pair DOAttb="MRKT_BUS_UNT" toSCAttb="mbu" />
				</DoAttributeToSCAttributeMap>
			</DataObject>

			<DataObject name="PROD_BNFT_CMPNT_ASSN">
				<DataObjectAttribute name="PROD_SYS_ID" type="Int" />
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID"
					type="Int" />
				<DataObjectAttribute name="SQNC_NBR" type="Int" />
				<DataObjectAttribute name="CREATD_USER_ID"
					type="String" />
				<DataObjectAttribute name="LST_CHG_USR" type="String" />
				<DataObjectAttribute name="CREATD_TM_STMP" type="TimeStamp" />
				<DataObjectAttribute name="LST_CHG_TMS" type="TimeStamp" />
				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM PROD_BNFT_CMPNT_ASSN WHERE
						PROD_SYS_ID=?
					</SQLQuery>
					<DataObjectAttributeInput index="0"
						name="PROD_SYS_ID" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" toBOAttb="productKey" />
					<Pair DOAttb="CREATD_USER_ID"
						toBOAttb="createdUser" />
					<Pair DOAttb="LST_CHG_USR"
						toBOAttb="lastUpdatedUser" />
					<Pair DOAttb="CREATD_TM_STMP"
						toBOAttb="createdTimestamp" />
					<Pair DOAttb="LST_CHG_TMS"
						toBOAttb="lastUpdatedTimestamp" />
				</DoAttributeToBOAttributeMap>
			</DataObject>

			<DataObject name="PROD_ADMN_OPT_CUSTM">
				<DataObjectAttribute name="PROD_SYS_ID" 		type="Int" />
				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM 
							PROD_ADMN_OPT_CUSTM 
						WHERE 
							PROD_SYS_ID = ?
					</SQLQuery>
						<DataObjectAttributeInput index="0" name="PROD_SYS_ID" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" 			toBOAttb="productKey" />
				</DoAttributeToBOAttributeMap>
			</DataObject> 

			<DataObject name="PROD_ANSWR_OVRD">
				<DataObjectAttribute name="PROD_SYS_ID" 		type="Int" />
				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM 
							PROD_ANSWR_OVRD 
						WHERE 
							PROD_SYS_ID = ?
					</SQLQuery>
						<DataObjectAttributeInput index="0" name="PROD_SYS_ID" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" 			toBOAttb="productKey" />
				</DoAttributeToBOAttributeMap>
			</DataObject> 

			<DataObject name="NOTE_DOMAIN_OVRD_VAL">
			    <DataObjectAttribute name="PRMRY_ENTY_ID"    type="Int"/>
			    <DataObjectAttribute name="PRMRY_ENTY_TYPE"    type="String"/>
			    <DataObjectAttribute name="SCNDRY_ENTY_ID"    type="Int"/>
			    <DataObjectAttribute name="SCNDRY_ENTY_TYPE"    type="String"/>
			    <DataObjectAttribute name="NOTE_ID"    type="String"/>
			    <DataObjectAttribute name="BNFT_CMPNT_SYS_ID"    type="Int"/>

				 <SQLTemplate transType="delete">
					<SQLQuery>
	  				   DELETE FROM NOTE_DOMAIN_OVRD_VAL WHERE PRMRY_ENTY_ID = ? AND PRMRY_ENTY_TYPE ='ATTACHPRODUCT' 
					</SQLQuery>
					<DataObjectAttributeInput index="0" name="PRMRY_ENTY_ID"/>
		  		</SQLTemplate>
				<DoAttributeToBOAttributeMap>
						<Pair DOAttb="PRMRY_ENTY_ID"	toBOAttb="productKey"/>
				</DoAttributeToBOAttributeMap>
			</DataObject>
			
 			<DataObject name="NOTE_DOMN_ASSN">
				<DataObjectAttribute name="NOTE_ID" 		type="String"	/>
				<DataObjectAttribute name="ENTY_SYS_ID" 		type="Int"	/>
				<DataObjectAttribute name="ENTY_TYPE" 		type="String" />
				<DataObjectAttribute name="LST_CHG_USR"    			type="String"/>
			    <DataObjectAttribute name="LST_CHG_TMS"    			type="TimeStamp"/>
			    <DataObjectAttribute name="CREATD_USER_ID"    		type="String"/>
			    <DataObjectAttribute name="CREATD_TM_STMP"    		type="TimeStamp"/>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="4" name="NOTE_ID" />
					<SearchQueryName name="locateProducts" />
				</SQLTemplate>

				 <SQLTemplate transType="delete">
					<SQLQuery>
	  				   DELETE FROM NOTE_DOMN_ASSN WHERE ENTY_SYS_ID = to_char(?) AND ENTY_TYPE IN('ATTACHPRODUCT','AVAILPRODUCT')
					</SQLQuery>
					<DataObjectAttributeInput index="0" name="ENTY_SYS_ID"/>
		  		</SQLTemplate>
				<DoAttributeToBOAttributeMap>
						<Pair DOAttb="ENTY_SYS_ID"	toBOAttb="productKey"/>
				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
					<Pair DOAttb="NOTE_ID" toSCAttb="noteId" />
				</DoAttributeToSCAttributeMap>
			</DataObject>

			<DataObject name="ENTY_ADMN_OPT_ASSN">
				<DataObjectAttribute name="ENTY_SYS_ID" 		type="Int" />

				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM 
							enty_admn_opt_assn 
						WHERE 
							enty_sys_id = ?
						AND enty_type = 'PRODUCT'
					</SQLQuery>
						<DataObjectAttributeInput index="0" name="ENTY_SYS_ID" />
				</SQLTemplate>

				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="ENTY_SYS_ID" 			toBOAttb="productKey" />
				</DoAttributeToBOAttributeMap>
			</DataObject> 

			<DataObject name="PROD_ADMIN_QSTN_ANSWR_OVRD">
				<DataObjectAttribute name="PROD_SYS_ID" 		type="Int" />
				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM 
							PROD_ADMIN_QSTN_ANSWR_OVRD 
						WHERE 
							PROD_SYS_ID = ?
					</SQLQuery>
						<DataObjectAttributeInput index="0" name="PROD_SYS_ID" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" 			toBOAttb="productKey" />
				</DoAttributeToBOAttributeMap>
			</DataObject> 


			<DataObject name="PROD_RULE_ASSN">
				<DataObjectAttribute name="ENTY_SYS_ID" 		type="Int" />

				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM 
							prod_rule_assn 
						WHERE 
							prod_sys_id = ?
					</SQLQuery>
						<DataObjectAttributeInput index="0" name="ENTY_SYS_ID" />
				</SQLTemplate>

				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="ENTY_SYS_ID" 			toBOAttb="productKey" />
				</DoAttributeToBOAttributeMap>
			</DataObject> 
<!--  Admin method Override table  -->
			<DataObject name="PROD_BNFT_AFFCTD_SPS">
	            <DataObjectAttribute name="PROD_SYS_ID"    type="Int"/>
	            <SQLTemplate transType="delete">
	                <SQLQuery>
	                    DELETE FROM PROD_BNFT_AFFCTD_SPS WHERE ENTY_SYS_ID = ?
	                </SQLQuery>
	                <DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
	            </SQLTemplate>
	            <DoAttributeToBOAttributeMap>
	                <Pair DOAttb="PROD_SYS_ID"    toBOAttb="productKey"/>
	            </DoAttributeToBOAttributeMap>
	        </DataObject>
			<DataObject name="ENTY_BNFT_SPS_VALDN_PRCSS">
	            <DataObjectAttribute name="PROD_SYS_ID"    type="Int"/>
	            <SQLTemplate transType="delete">
	                <SQLQuery>
	                    DELETE FROM ENTY_BNFT_SPS_VALDN_PRCSS WHERE ENTY_TYPE in('PRODUCT','TIERPRODUCT') AND ENTY_SYS_ID = ?
	                </SQLQuery>
	                <DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
	            </SQLTemplate>
	            <DoAttributeToBOAttributeMap>
	                <Pair DOAttb="PROD_SYS_ID"    toBOAttb="productKey"/>
	            </DoAttributeToBOAttributeMap>
	        </DataObject>
<!--  Admin method Override table  -->
			<DataObject name="ITEM">
			    <DataObjectAttribute name="PRMRY_CD"    				type="String"/>
			    <DataObjectAttribute name="CD_DESC_TXT"    type="String"/>
			 <SQLTemplate transType="select">
			        <RSIndexToDOAttributeMap>
			            <ResultIndex index="1" dataObjectAttribName ="CD_DESC_TXT"/>
			        </RSIndexToDOAttributeMap>
					<SearchQueryName name="retrieveProductCode"/>
 				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="CD_DESC_TXT" 			toBOAttb="productFamilyDesc" />
				</DoAttributeToBOAttributeMap>
			</DataObject>
<!--  Product Benefit Rule Override table  -->
			<DataObject name="PROD_BNFT_RULE_OVRD">
				<DataObjectAttribute name="PROD_SYS_ID" 		type="Int" />
				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM PROD_BNFT_RULE_OVRD 
						WHERE PROD_SYS_ID = ? 
					</SQLQuery>
					<DataObjectAttributeInput index="0" name="PROD_SYS_ID" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" 			toBOAttb="productKey" />
				</DoAttributeToBOAttributeMap>
			</DataObject> 
			<DataObject name="PROD_FMLY_BUSS_ENTY_PVA_MAP">
				<DataObjectAttribute name ="PROD_SYS_ID" 		type="Int" />
				<DataObjectAttribute name ="PVA_ID" 		 type="String" />
				 <SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
			        <RSIndexToDOAttributeMap>
			            <ResultIndex index="0" dataObjectAttribName ="PROD_SYS_ID"/>
 						<ResultIndex index="1" dataObjectAttribName ="PVA_ID"/>
			        </RSIndexToDOAttributeMap>
					<SearchQueryName name="getPva"/>
 				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" 			toBOAttb="productKey" />
					<Pair DOAttb="PVA_ID" 			toBOAttb="productFamilyDesc" />
				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" toSCAttb="productKey" />
				</DoAttributeToSCAttributeMap>
			</DataObject> 
		</DataSource>
	</BusinessObjectMetadata>

	<BusinessObjectMetadata
		name="com.wellpoint.wpd.common.product.bo.ProductComponentBO">
		<BusinessAttribute name="productKey" type="Int"
			keyAttrib="true" />
		<BusinessAttribute name="sequence" type="Int" keyAttrib="false" />
		<BusinessAttribute name="componentKey" type="Int"
			keyAttrib="true" />
		<BusinessAttribute name="componentId" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="componentVersion" type="Int"
			keyAttrib="false" />
		<BusinessAttribute name="componentDesc" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="createdUser" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="lastUpdatedUser" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="createdTimestamp" type="Date"
			keyAttrib="false" />
		<BusinessAttribute name="lastUpdatedTimestamp" type="Date"
			keyAttrib="false" />
		<BusinessAttribute name="productStructureKey" type="Int"
			keyAttrib="false" />
		<BusinessAttribute name="message_out" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="componentIds" type="List"
			keyAttrib="false" />

		<SearchCriteria name="abc">
			<SearchCriteriaAttribute name="productKey" type="Int" />
			<SearchCriteriaAttribute name="componentKey" type="Int" />
			<SearchCriteriaAttribute name="benefitKey" type="Int" />
			<SearchCriteriaAttribute name="entityType" type="String" />
			<SearchCriteriaAttribute name="createdUser" type="String" />
			<SearchCriteriaAttribute name="componentIds" type="List"/>
		</SearchCriteria>
		<DataSource name="prmd" domain="medical">
			<Connection preferred="jndi">
				<url>
					jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG
				</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>
			<SelectSQLQuery>
				SELECT PROD_SYS_ID, BNFT_CMPNT_SYS_ID, SQNC_NBR,
				CREATD_USER_ID, CREATD_TM_STMP, LST_CHG_TMS, LST_CHG_USR
				FROM PROD_BNFT_CMPNT_ASSN WHERE PROD_SYS_ID = ? AND
				BNFT_CMPNT_SYS_ID = ?

			</SelectSQLQuery>
			<SelectSQLQuery name="getBCWithZeroVisibleBenefits">
				 SELECT A.BNFT_CMPNT_SYS_ID ,
  					B.BNFT_CMPNT_NM           
  					--COUNT(A.BNFT_CMPNT_SYS_ID) AS BENEFIT_COUNT
   					FROM PROD_BNFT_CSTMZD A,
  					BCM_BNFT_CMPNT_MSTR B
  					WHERE A.BNFT_CMPNT_SYS_ID NOT IN
  					(SELECT UNIQUE(BNFT_CMPNT_SYS_ID)
     					FROM PROD_BNFT_CSTMZD
    					WHERE PROD_SYS_ID    = {0}
  						AND BNFT_CMPNT_SYS_ID {1}
  						AND BNFT_HIDE_FLAG     ='F'
  					)
					AND A.PROD_SYS_ID       = {0}
					AND A.BNFT_CMPNT_SYS_ID = B.BNFT_CMPNT_SYS_ID
					GROUP BY A.BNFT_CMPNT_SYS_ID,
  						B.BNFT_CMPNT_NM
			</SelectSQLQuery>
			<SelectSQLQuery name="getNextSequence">
				SELECT PROD_SYS_ID, MAX(SQNC_NBR)+1 FROM
				PROD_BNFT_CMPNT_ASSN WHERE PROD_SYS_ID = {0} GROUP BY
				PROD_SYS_ID
			</SelectSQLQuery>
			<SelectSQLQuery name="getBenefitComponents">
				select BNFT_CMPNT_NM,
				b.BNFT_CMPNT_SYS_ID,p.SQNC_NBR,PROD_SYS_ID from
				BCM_BNFT_CMPNT_MSTR b,PROD_BNFT_CMPNT_ASSN p where
				p.BNFT_CMPNT_SYS_ID = b.BNFT_CMPNT_SYS_ID and
				PROD_SYS_ID = {0} order by p.SQNC_NBR
			</SelectSQLQuery>
			<SelectSQLQuery name="getMandatoryBenefits">
				SELECT BNFT_CMPNT_NM,
				B.BNFT_CMPNT_SYS_ID,P.SQNC_NBR,PROD_SYS_ID FROM
				BCM_BNFT_CMPNT_MSTR B,PROD_BNFT_CMPNT_ASSN P WHERE
				P.BNFT_CMPNT_SYS_ID = B.BNFT_CMPNT_SYS_ID AND
				PROD_SYS_ID = {0} 
				AND B.BNFT_CMPNT_NM = 'GENERAL BENEFITS'
			</SelectSQLQuery>
			<SelectSQLQuery name="deleteTierDetails">
				CALL HIDE_BNFT_ROMOVE_TIER({0},{1},{2},{3},{4})
			</SelectSQLQuery>
			<SelectSQLQuery name="getMandatoryGenProvision">
				SELECT BNFT_CMPNT_NM,
				B.BNFT_CMPNT_SYS_ID,P.SQNC_NBR,PROD_SYS_ID FROM
				BCM_BNFT_CMPNT_MSTR B,PROD_BNFT_CMPNT_ASSN P WHERE
				P.BNFT_CMPNT_SYS_ID = B.BNFT_CMPNT_SYS_ID AND
				PROD_SYS_ID = {0} 
				AND B.BNFT_CMPNT_NM ='GENERAL PROVISIONS'
			</SelectSQLQuery>
			<SelectSQLQuery name="getDuplicateAdminRef">
				CALL VALIDATION_PRODUCT({0},{1})
			</SelectSQLQuery>
			<SelectSQLQuery name="attachBnftCmpntToPrdctPS">
				CALL PRD_AttachComponent({0},{1},{2},{3})
			</SelectSQLQuery>
			<SelectSQLQuery name="deleteComponentTierInfo">
				CALL PRD_COMPONET_DELETE_TIER({0},{1},{2},{3})
			</SelectSQLQuery>
			<DataObject name="PROD_BNFT_CMPNT_ASSN">
				<DataObjectAttribute name="PROD_SYS_ID" type="Int" />
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID"
					type="Int" />
				<DataObjectAttribute name="BNFT_SYS_ID"
					type="Int" />	
				<DataObjectAttribute name="SQNC_NBR" type="Int" />
				<DataObjectAttribute name="CREATD_USER_ID"
					type="String" />
				<DataObjectAttribute name="LST_CHG_USR" type="String" />
				<DataObjectAttribute name="CREATD_TM_STMP" type="TimeStamp" />
				<DataObjectAttribute name="LST_CHG_TMS" type="TimeStamp" />
				<DataObjectAttribute name="MESSAGE_OUT" type="String" />
				<DataObjectAttribute name="ENTITY_TYPE" type="String" />
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID_LIST" type="Int"/>
				<SQLTemplate transType="update">
					<SQLQuery>
						UPDATE PROD_BNFT_CMPNT_ASSN SET SQNC_NBR = ?,
						LST_CHG_USR = ?, LST_CHG_TMS = ? WHERE
						PROD_SYS_ID = ? AND BNFT_CMPNT_SYS_ID=?
					</SQLQuery>
					<DataObjectAttributeInput index="0" name="SQNC_NBR" />
					<DataObjectAttributeInput index="1"
						name="LST_CHG_USR" />
					<DataObjectAttributeInput index="2"
						name="LST_CHG_TMS" />
					<DataObjectAttributeInput index="3"
						name="PROD_SYS_ID" />
					<DataObjectAttributeInput index="4"
						name="BNFT_CMPNT_SYS_ID" />
				</SQLTemplate>
				<SQLTemplate transType="insert">
					<SQLQuery>
						INSERT INTO PROD_BNFT_CMPNT_ASSN ( PROD_SYS_ID,
						SQNC_NBR, BNFT_CMPNT_SYS_ID,
						CREATD_USER_ID,LST_CHG_USR,CREATD_TM_STMP,LST_CHG_TMS)
						VALUES ( ?, ?, ?, ?, ?, sysdate, sysdate)
					</SQLQuery>
					<DataObjectAttributeInput index="0"
						name="PROD_SYS_ID" />
					<DataObjectAttributeInput index="1" name="SQNC_NBR" />
					<DataObjectAttributeInput index="2"
						name="BNFT_CMPNT_SYS_ID" />
					<DataObjectAttributeInput index="3"
						name="CREATD_USER_ID" />
					<DataObjectAttributeInput index="4"
						name="LST_CHG_USR" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="PROD_SYS_ID" />
					<DataObjectAttributeInput index="1"
						name="BNFT_CMPNT_SYS_ID_LIST"/>
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="BNFT_CMPNT_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getBCWithZeroVisibleBenefits" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="PROD_SYS_ID" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="2"
							dataObjectAttribName="SQNC_NBR" />
						<ResultIndex index="3"
							dataObjectAttribName="PROD_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getBenefitComponents" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="PROD_SYS_ID" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="2"
							dataObjectAttribName="SQNC_NBR" />
						<ResultIndex index="3"
							dataObjectAttribName="PROD_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getMandatoryBenefits"/>
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="PROD_SYS_ID" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="2"
							dataObjectAttribName="SQNC_NBR" />
						<ResultIndex index="3"
							dataObjectAttribName="PROD_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getMandatoryGenProvision"/>
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="PROD_SYS_ID" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="SQNC_NBR" />
						<ResultIndex index="1"
							dataObjectAttribName="PROD_SYS_ID" />
						<ResultIndex index="2"
							dataObjectAttribName="MESSAGE_OUT" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getDuplicateAdminRef" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="PROD_SYS_ID" />
					<DataObjectAttributeInput index="1"
						name="BNFT_CMPNT_SYS_ID" />
					<DataObjectAttributeInput index="2"
						name="BNFT_SYS_ID" />
					<DataObjectAttributeInput index="3"
						name="ENTITY_TYPE" />	
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="PROD_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="deleteTierDetails" />
				</SQLTemplate>
				<SQLTemplate transType="select">
						<DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
						<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
						<DataObjectAttributeInput index="2" name="CREATD_USER_ID"/>
						<RSIndexToDOAttributeMap>
							<ResultIndex index="0" dataObjectAttribName ="PROD_SYS_ID"/>
							<ResultIndex index="1" dataObjectAttribName ="BNFT_CMPNT_SYS_ID"/>
					   </RSIndexToDOAttributeMap>
					<SearchQueryName name="attachBnftCmpntToPrdctPS"/>
				</SQLTemplate>
				<SQLTemplate transType="select">
						<DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
						<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
						<DataObjectAttributeInput index="2" name="ENTITY_TYPE"/>
						<RSIndexToDOAttributeMap>
							<ResultIndex index="0" dataObjectAttribName ="PROD_SYS_ID"/>
							<ResultIndex index="1" dataObjectAttribName ="BNFT_CMPNT_SYS_ID"/>
					   </RSIndexToDOAttributeMap>
					<SearchQueryName name="deleteComponentTierInfo"/>
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="PROD_SYS_ID" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="PROD_SYS_ID" />
						<ResultIndex index="1"
							dataObjectAttribName="SQNC_NBR" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getNextSequence" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="PROD_SYS_ID" />
					<DataObjectAttributeInput index="1"
						name="BNFT_CMPNT_SYS_ID" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="PROD_SYS_ID" />
						<ResultIndex index="1"
							dataObjectAttribName="BNFT_CMPNT_SYS_ID" />
						<ResultIndex index="2"
							dataObjectAttribName="SQNC_NBR" />
						<ResultIndex index="3"
							dataObjectAttribName="CREATD_USER_ID" />
						<ResultIndex index="4"
							dataObjectAttribName="CREATD_TM_STMP" />
						<ResultIndex index="5"
							dataObjectAttribName="LST_CHG_TMS" />
						<ResultIndex index="6"
							dataObjectAttribName="LST_CHG_USR" />
					</RSIndexToDOAttributeMap>
				</SQLTemplate>
				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM PROD_BNFT_CMPNT_ASSN WHERE
						BNFT_CMPNT_SYS_ID = ? and PROD_SYS_ID=?
					</SQLQuery>
					<DataObjectAttributeInput index="0"
						name="BNFT_CMPNT_SYS_ID" />
					<DataObjectAttributeInput index="1"
						name="PROD_SYS_ID" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" toBOAttb="productKey" />
					<Pair DOAttb="SQNC_NBR" toBOAttb="sequence" />
					<Pair DOAttb="BNFT_CMPNT_SYS_ID"
						toBOAttb="componentKey" />
					<Pair DOAttb="CREATD_USER_ID"
						toBOAttb="createdUser" />
					<Pair DOAttb="LST_CHG_USR"
						toBOAttb="lastUpdatedUser" />
					<Pair DOAttb="CREATD_TM_STMP"
						toBOAttb="createdTimestamp" />
					<Pair DOAttb="LST_CHG_TMS"
						toBOAttb="lastUpdatedTimestamp" />
					<Pair DOAttb="MESSAGE_OUT"
						toBOAttb="message_out" />

				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" toSCAttb="productKey" />
					<Pair DOAttb="BNFT_CMPNT_SYS_ID" toSCAttb="componentKey" />
					<Pair DOAttb="CREATD_USER_ID" toSCAttb="createdUser" />
					<Pair DOAttb="BNFT_SYS_ID" toSCAttb="benefitKey" />
					<Pair DOAttb="ENTITY_TYPE" toSCAttb="entityType" />
					<Pair DOAttb="BNFT_CMPNT_SYS_ID_LIST" toSCAttb="componentIds" />
				</DoAttributeToSCAttributeMap>
			</DataObject>
			<DataObject name="BCM_BNFT_CMPNT_MSTR">
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID"
					type="Int" />
				<DataObjectAttribute name="BNFT_CMPNT_NM" type="String" />
				<SQLTemplate transType="select">
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="BNFT_CMPNT_NM" />
						<ResultIndex index="1"
							dataObjectAttribName="BNFT_CMPNT_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getBenefitComponents" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<RSIndexToDOAttributeMap>
						<ResultIndex index="1"
							dataObjectAttribName="BNFT_CMPNT_NM" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getBCWithZeroVisibleBenefits" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="BNFT_CMPNT_NM" />
						<ResultIndex index="1"
							dataObjectAttribName="BNFT_CMPNT_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getMandatoryBenefits" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="BNFT_CMPNT_NM" />
						<ResultIndex index="1"
							dataObjectAttribName="BNFT_CMPNT_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getMandatoryGenProvision" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="BNFT_CMPNT_SYS_ID"
						toBOAttb="componentKey" />
					<Pair DOAttb="BNFT_CMPNT_NM"
						toBOAttb="componentDesc" />
				</DoAttributeToBOAttributeMap>
			</DataObject>

			<DataObject name="PROD_ADMN_OPT_CUSTM">
				<DataObjectAttribute name="PROD_SYS_ID" 		type="Int" />
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 	type="Int" />
				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM 
							PROD_ADMN_OPT_CUSTM 
						WHERE 
							PROD_SYS_ID = ? and BNFT_CMPNT_SYS_ID = ?
					</SQLQuery>
						<DataObjectAttributeInput index="0" name="PROD_SYS_ID" />
						<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" 			toBOAttb="productKey" />
					<Pair DOAttb="BNFT_CMPNT_SYS_ID" 	toBOAttb="componentKey" />
				</DoAttributeToBOAttributeMap>
			</DataObject> 

			<DataObject name="PROD_ANSWR_OVRD">
				<DataObjectAttribute name="PROD_SYS_ID" 		type="Int" />
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 	type="Int" />
				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM 
							PROD_ANSWR_OVRD 
						WHERE 
							PROD_SYS_ID = ? and BNFT_CMPNT_SYS_ID = ?
					</SQLQuery>
						<DataObjectAttributeInput index="0" name="PROD_SYS_ID" />
						<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" 			toBOAttb="productKey" />
					<Pair DOAttb="BNFT_CMPNT_SYS_ID" 	toBOAttb="componentKey" />
				</DoAttributeToBOAttributeMap>
			</DataObject> 

		<DataObject name="PROD_BNFT_CSTMZD">
				<DataObjectAttribute name="PROD_SYS_ID" 		type="Int" />
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 	type="Int" />
				<DataObjectAttribute name="CREATD_USER_ID"		type="String" />
				<DataObjectAttribute name="CREATD_TMS" 			type="TimeStamp" />
				<DataObjectAttribute name="LST_CHG_USR" 		type="String" />
				<DataObjectAttribute name="LST_CHG_TMS" 		type="TimeStamp" />
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID_LIST" 		type="Int" />
				
				<SQLTemplate transType="insert">
					<SQLQuery>

						INSERT ALL INTO PROD_BNFT_CSTMZD (
							PROD_SYS_ID,BNFT_CMPNT_SYS_ID,BNFT_SYS_ID,
							BLVL_BNFT_LVL_ID,BNFT_DEFN_SYS_ID,
							BLN_BNFT_LINE_ID,BVAL_BNFT_VAL,
							BNFT_HIDE_FLAG,BNFT_LVL_HIDE_FLAG,BNFT_LINE_HIDE_FLAG,
							LST_CHG_TMS,LST_CHG_USR,CREATD_TMS,CREATD_USER_ID,
							PROD_STRCTR_SYS_ID)
							VALUES(PROD_SYS_ID,BNFT_CMPNT_SYS_ID,BNFT_SYS_ID,
							BLVL_BNFT_LVL_ID,BNFT_DEFN_SYS_ID,BLN_BNFT_LINE_ID,BVAL_BNFT_VAL,
							'F','F','F',?,?,?,?,PROD_STRCTR_SYS_ID)
							SELECT unique G.*,i.PROD_SYS_ID FROM
							PROD_STRCTR_BNFT_CSTMZD G, PROD_MSTR i WHERE
							G.PROD_STRCTR_SYS_ID = i.PROD_STRCTR_SYS_ID
							and i.PROD_SYS_ID = ? AND G.BNFT_CMPNT_SYS_ID = ?
					</SQLQuery>
					<DataObjectAttributeInput index="0"		name="LST_CHG_TMS" />
					<DataObjectAttributeInput index="1"		name="LST_CHG_USR" />
					<DataObjectAttributeInput index="2"		name="CREATD_TMS" />
					<DataObjectAttributeInput index="3"		name="CREATD_USER_ID" />
					<DataObjectAttributeInput index="4"		name="PROD_SYS_ID" />
					<DataObjectAttributeInput index="5"		name="BNFT_CMPNT_SYS_ID" />
				</SQLTemplate>
				<SQLTemplate transType="delete">
					<SQLQuery>
						delete from PROD_BNFT_CSTMZD where 
						PROD_SYS_ID = ? and
						BNFT_CMPNT_SYS_ID = ?
					</SQLQuery>
					<DataObjectAttributeInput index="0"	name="PROD_SYS_ID" />
					<DataObjectAttributeInput index="1"	name="BNFT_CMPNT_SYS_ID" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" 		toBOAttb="productKey" />
					<Pair DOAttb="BNFT_CMPNT_SYS_ID" toBOAttb="componentKey" />
					<Pair DOAttb="CREATD_USER_ID"	toBOAttb="createdUser" />
					<Pair DOAttb="CREATD_TMS"		toBOAttb="createdTimestamp" />
					<Pair DOAttb="LST_CHG_USR"		toBOAttb="lastUpdatedUser" />
					<Pair DOAttb="LST_CHG_TMS"		toBOAttb="lastUpdatedTimestamp" />
					
				</DoAttributeToBOAttributeMap>
			</DataObject>
<!--  Admin method Override table  -->
	        <DataObject name="ADMN_MTHD_OVRD">
	            <DataObjectAttribute name="PROD_SYS_ID"    type="Int"/>
	            <DataObjectAttribute name="BEN_COMP_SYS_ID"    type="Int"/>
	            <DataObjectAttribute name="LST_CHG_USR"    type="String"/>
	            <DataObjectAttribute name="LST_CHG_TMS"    type="TimeStamp"/>
	            <DataObjectAttribute name="CREATD_USER_ID"    type="String"/>
	            <DataObjectAttribute name="CREATD_TM_STMP"    type="TimeStamp"/>
	            <SQLTemplate transType="insert">
	                <SQLQuery>
	                    INSERT ALL INTO ADMN_MTHD_OVRD (ENTY_TYPE, ENTY_SYS_ID, BNFT_CMPNT_SYS_ID,BNFT_ADMTN_ID,SPR_PRCSS_STP_SYS_ID,ADMN_MTHD_SYS_ID, LST_CHG_USR, LST_CHG_TMS, CREATD_USER_ID, CREATD_TM_STMP)
	                    VALUES('product',PROD_SYS_ID,BNFT_CMPNT_SYS_ID,BNFT_ADMTN_ID,SPR_PRCSS_STP_SYS_ID,ADMN_MTHD_SYS_ID,?,?,?,?)
						SELECT 	unique G.*,i.PROD_SYS_ID 
								FROM	ADMN_MTHD_OVRD G, PROD_MSTR i 
								WHERE	G.ENTY_TYPE = 'ProdStructure' AND G.ENTY_SYS_ID = i.PROD_STRCTR_SYS_ID
								and i.PROD_SYS_ID = ? AND g.BNFT_CMPNT_SYS_ID =	?
	                </SQLQuery>
	                <DataObjectAttributeInput index="0" name="LST_CHG_USR"/>
	                <DataObjectAttributeInput index="1" name="LST_CHG_TMS"/>
	                <DataObjectAttributeInput index="2" name="CREATD_USER_ID"/>
	                <DataObjectAttributeInput index="3" name="CREATD_TM_STMP"/>
	                <DataObjectAttributeInput index="4" name="PROD_SYS_ID"/>
	                <DataObjectAttributeInput index="5" name="BEN_COMP_SYS_ID"/>
	            </SQLTemplate>
	            <SQLTemplate transType="delete">
	                <SQLQuery>
	                    DELETE FROM ADMN_MTHD_OVRD
	                    WHERE ENTY_TYPE = 'product' and ENTY_SYS_ID = ? AND BNFT_CMPNT_SYS_ID = ?
	                </SQLQuery>
	                <DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
	                <DataObjectAttributeInput index="1" name="BEN_COMP_SYS_ID"/>
	            </SQLTemplate>
	            <DoAttributeToBOAttributeMap>
	                <Pair DOAttb="PROD_SYS_ID"    toBOAttb="productKey"/>
	                <Pair DOAttb="BEN_COMP_SYS_ID"    toBOAttb="componentKey"/>
	                <Pair DOAttb="LST_CHG_USR"    toBOAttb="lastUpdatedUser"/>
	                <Pair DOAttb="LST_CHG_TMS"    toBOAttb="lastUpdatedTimestamp"/>
	                <Pair DOAttb="CREATD_USER_ID"    toBOAttb="createdUser"/>
	                <Pair DOAttb="CREATD_TM_STMP"    toBOAttb="createdTimestamp"/>
	            </DoAttributeToBOAttributeMap>
	        </DataObject>
<!--  Admin method Override table  -->
	<!-- start note override table added for multiple delete  -->
			<DataObject  name="NOTE_DOMAIN_OVRD_VAL">
				<DataObjectAttribute name="PRMRY_ENTY_ID" type="Int"/>
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" type="Int"/>
 				<SQLTemplate transType="delete">
	            <SQLQuery>
	                   DELETE FROM NOTE_DOMAIN_OVRD_VAL  WHERE PRMRY_ENTY_ID = ? and PRMRY_ENTY_TYPE ='ATTACHPRODUCT' and BNFT_CMPNT_SYS_ID = ?
	            </SQLQuery>
		  				<DataObjectAttributeInput index="0" name="PRMRY_ENTY_ID"/>
	     		 		<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
	  			</SQLTemplate>
				<DoAttributeToBOAttributeMap>
	                <Pair DOAttb="PRMRY_ENTY_ID"    toBOAttb="productKey"/>
	                <Pair DOAttb="BNFT_CMPNT_SYS_ID"    toBOAttb="componentKey"/>
	            </DoAttributeToBOAttributeMap>
			</DataObject>
	<!-- end note override table added for multiple delete  -->
			<DataObject name="PROD_TIER_DEFN_OVRD">
				<DataObjectAttribute name="PROD_SYS_ID" 		type="Int" />
				<DataObjectAttribute name="BNFT_COMP_SYS_ID" 	type="Int" />
				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM 
							PROD_TIER_DEFN_OVRD 
						WHERE 
							PROD_SYS_ID = ? and BNFT_COMP_SYS_ID = ?
					</SQLQuery>
						<DataObjectAttributeInput index="0" name="PROD_SYS_ID" />
						<DataObjectAttributeInput index="1" name="BNFT_COMP_SYS_ID" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" 			toBOAttb="productKey" />
					<Pair DOAttb="BNFT_COMP_SYS_ID" 	toBOAttb="componentKey" />
				</DoAttributeToBOAttributeMap>
			</DataObject> 
			<DataObject name="PROD_TIER_MSTR">
				<DataObjectAttribute name="PROD_SYS_ID" 		type="Int" />
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 	type="Int" />
				<DataObjectAttribute name="PROD_STRCTR_SYS_ID" 	type="Int" />
				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM 
							PROD_TIER_MSTR 
						WHERE 
							PROD_SYS_ID = ? and BNFT_CMPNT_SYS_ID = ? and PROD_STRCTR_SYS_ID = ?
					</SQLQuery>
						<DataObjectAttributeInput index="0" name="PROD_SYS_ID" />
						<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID" />
						<DataObjectAttributeInput index="2" name="PROD_STRCTR_SYS_ID" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" 			toBOAttb="productKey" />
					<Pair DOAttb="BNFT_CMPNT_SYS_ID" 	toBOAttb="componentKey" />
					<Pair DOAttb="PROD_STRCTR_SYS_ID" 	toBOAttb="productStructureKey" />
				</DoAttributeToBOAttributeMap>
			</DataObject> 
			<DataObject name="PROD_BNFT_RULE_OVRD">
				<DataObjectAttribute name="PROD_SYS_ID" 		type="Int" />
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 	type="Int" />
				<DataObjectAttribute name="PROD_STRCTR_SYS_ID" 	type="Int" />
				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM PROD_BNFT_RULE_OVRD 
						WHERE PROD_SYS_ID = ? and BNFT_CMPNT_SYS_ID = ? 
					</SQLQuery>
						<DataObjectAttributeInput index="0" name="PROD_SYS_ID" />
						<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" 			toBOAttb="productKey" />
					<Pair DOAttb="BNFT_CMPNT_SYS_ID" 	toBOAttb="componentKey" />
				</DoAttributeToBOAttributeMap>
			</DataObject> 
		</DataSource>
	</BusinessObjectMetadata>

	<BusinessObjectMetadata
		name="com.wellpoint.wpd.common.product.bo.ProductSearchResult">
		<BusinessAttribute name="productName" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="version" type="Int" keyAttrib="false" />
		<BusinessAttribute name="effectiveDate" type="Date"
			keyAttrib="false" />
		<BusinessAttribute name="expiryDate" type="Date"
			keyAttrib="false" />
		<BusinessAttribute name="status" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="lineOfBusinessList" type="List"
			keyAttrib="false" />
		<BusinessAttribute name="businessEntityList" type="List"
			keyAttrib="false" />
		<BusinessAttribute name="businessGroupList" type="List"
			keyAttrib="false" />
		<BusinessAttribute name="productFamilyList" type="List"
			keyAttrib="false" />
		<BusinessAttribute name="productStructureList" type="List"
			keyAttrib="false" />
		<BusinessAttribute name="productKey" type="Int"
			keyAttrib="true" />
		<BusinessAttribute name="parentKey" type="Int"
			keyAttrib="false" />
		<BusinessAttribute name="productType" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="productDescription" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="marketBusinessUnitList" type="List"
			keyAttrib="false" />
		<SearchCriteria name="productsearch">
			<SearchCriteriaAttribute name="prodname" type="String" />
			<SearchCriteriaAttribute name="prodeffectivedate"
				type="Date" />
			<SearchCriteriaAttribute name="prodexpirydate" type="Date" />
			<SearchCriteriaAttribute name="prodfamname" type="List" />
			<SearchCriteriaAttribute name="prodstructname" type="List" />
			<SearchCriteriaAttribute name="prodentlist" type="List" />
			<SearchCriteriaAttribute name="prodgrouplist" type="List" />
			<SearchCriteriaAttribute name="prodloblist" type="List" />
			<SearchCriteriaAttribute name="productSysId" type="Int" />
			<SearchCriteriaAttribute name="prodMarketBusinessUnitlist" type="List" />
		</SearchCriteria>
		<DataSource name="prmd" domain="medical">
			<Connection preferred="jndi">
				<url>
					jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG
				</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>
			<SelectSQLQuery name="getProducts" dynamic="true">
				<STATIC>
					<![CDATA[
					SELECT 	A.PROD_NM,A.PROD_VRSN_NBR,A.PROD_EFCTV_DT,A.PROD_EXPIRY_DT,A.PROD_STTS_CD, A.PROD_SYS_ID, A.PROD_PARNT_SYS_ID,A.PROD_TYPE,A.PROD_DESC_TXT
						FROM  	PROD_MSTR A , ( 
							SELECT 	max(PROD_VRSN_NBR) VRSN, PROD_PARNT_SYS_ID
							FROM  	PROD_MSTR , PROD_STRCTR_MSTR Y
							WHERE	
									PROD_MSTR.PROD_PARNT_SYS_ID IN 
								    (SELECT ED.ENTY_SYS_ID FROM ENTY_DOMN_INFO ED WHERE ED.ENTY_TYPE = 'product' AND ED.DOMN_SYS_ID IN 
			        				((SELECT D.DOMN_SYS_ID FROM AVLBL_DOMN D WHERE D.LOB_NM {0}
			                			AND  D.BUS_GRP_NM  {1}
			                			AND D.BUS_ENTY_NM  {2}
			                			AND D.MRKT_BUS_UNT  {8}
			            				)))
						]]>
				</STATIC>
				<DYNAMIC>
					AND UPPER(PROD_MSTR.PROD_NM) like upper({3}) escape
					'`'
				</DYNAMIC>
				<DYNAMIC>AND PROD_MSTR.PROD_FMLY_NM {4}</DYNAMIC>
				<DYNAMIC>AND Y.PROD_STRCTR_NM {5}</DYNAMIC>
				<DYNAMIC>
					AND PROD_MSTR.PROD_EFCTV_DT =
					TO_DATE({6},'mm/dd/yyyy')
				</DYNAMIC>
				<DYNAMIC>
					AND PROD_MSTR.PROD_EFCTV_DT =
					TO_DATE({6},'mm/dd/yyyy')
				</DYNAMIC>
				<DYNAMIC>
					AND PROD_MSTR.PROD_EXPIRY_DT =
					TO_DATE({7},'mm/dd/yyyy')
				</DYNAMIC>
				<STATIC>
					<![CDATA[
					AND PROD_MSTR.PROD_STRCTR_SYS_ID = Y.PROD_STRCTR_SYS_ID(+)
					group by PROD_PARNT_SYS_ID ) AA WHERE
					A.PROD_PARNT_SYS_ID = AA.PROD_PARNT_SYS_ID AND
					A.PROD_VRSN_NBR = AA.VRSN AND ROWNUM <= 51 ORDER BY A.PROD_NM asc, A.PROD_EFCTV_DT
					desc, A.PROD_EXPIRY_DT desc 
				   ]]>
				</STATIC>
			</SelectSQLQuery>
			<SelectSQLQuery name="getAllVersions">
				SELECT
				B.PROD_NM,B.PROD_VRSN_NBR,B.PROD_EFCTV_DT,B.PROD_EXPIRY_DT,B.PROD_STTS_CD,
				B.PROD_SYS_ID, B.PROD_PARNT_SYS_ID,B.PROD_DESC_TXT FROM PROD_MSTR A,
				PROD_MSTR B WHERE A.PROD_SYS_ID = {0} AND
				A.PROD_PARNT_SYS_ID = B.PROD_PARNT_SYS_ID 
			    ORDER BY B.PROD_VRSN_NBR DESC
			</SelectSQLQuery>
			<DataObject name="PROD_MSTR">
				<DataObjectAttribute name="PROD_NM" type="String" />
				<DataObjectAttribute name="PROD_VRSN_NBR" type="Int" />
				<DataObjectAttribute name="PROD_EFCTV_DT" type="Date" />
				<DataObjectAttribute name="PROD_EXPIRY_DT" type="Date" />
				<DataObjectAttribute name="PROD_STTS_CD" type="String" />
				<DataObjectAttribute name="PROD_FMLY_NM" type="String" />
				<DataObjectAttribute name="PROD_STRCTR_SYS_ID"
					type="Int" />
				<DataObjectAttribute name="PROD_PARNT_SYS_ID"
					type="Int" />
				<DataObjectAttribute name="PROD_SYS_ID" type="Int" />
				<DataObjectAttribute name="PROD_STRCTR_NM"
					type="String" />
				<DataObjectAttribute name="PROD_TYPE" 	type="String" />
				<DataObjectAttribute name="PROD_DESC_TXT" 	type="String" />

				<!--  Extra fields  -->
				<DataObjectAttribute name="ENTY_SYS_ID" type="Int" />
				<DataObjectAttribute name="ENTY_TYPE" type="String" />
				<DataObjectAttribute name="DOMN_SYS_ID" type="Int" />
				<DataObjectAttribute name="LOB_NM" type="String" />
				<DataObjectAttribute name="BUS_GRP_NM" type="String" />
				<DataObjectAttribute name="US_ENTY_NM" type="String" />
				<DataObjectAttribute name="MRKT_BUS_UNT" type="String" />
				<!--  End of Extra fields  -->
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="LOB_NM" />
					<DataObjectAttributeInput index="1"
						name="BUS_GRP_NM" />
					<DataObjectAttributeInput index="2"
						name="US_ENTY_NM" />
					<DataObjectAttributeInput index="3" name="PROD_NM" />
					<DataObjectAttributeInput index="4"
						name="PROD_FMLY_NM" />
					<DataObjectAttributeInput index="5"
						name="PROD_STRCTR_SYS_ID" />
					<DataObjectAttributeInput index="6"
						name="PROD_EFCTV_DT" />
					<DataObjectAttributeInput index="7"
						name="PROD_EXPIRY_DT" />
					<DataObjectAttributeInput index="8"
						name="MRKT_BUS_UNT" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="PROD_NM" />
						<ResultIndex index="1"
							dataObjectAttribName="PROD_VRSN_NBR" />
						<ResultIndex index="2"
							dataObjectAttribName="PROD_EFCTV_DT" />
						<ResultIndex index="3"
							dataObjectAttribName="PROD_EXPIRY_DT" />
						<ResultIndex index="4"
							dataObjectAttribName="PROD_STTS_CD" />
						<ResultIndex index="5"
							dataObjectAttribName="PROD_SYS_ID" />
						<ResultIndex index="6"
							dataObjectAttribName="PROD_PARNT_SYS_ID" />
						<ResultIndex index="7" 		dataObjectAttribName="PROD_TYPE" />
						<ResultIndex index="8" 		dataObjectAttribName="PROD_DESC_TXT" />

					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getProducts" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="PROD_SYS_ID" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="PROD_NM" />
						<ResultIndex index="1"
							dataObjectAttribName="PROD_VRSN_NBR" />
						<ResultIndex index="2"
							dataObjectAttribName="PROD_EFCTV_DT" />
						<ResultIndex index="3"
							dataObjectAttribName="PROD_EXPIRY_DT" />
						<ResultIndex index="4"
							dataObjectAttribName="PROD_STTS_CD" />
						<ResultIndex index="5"
							dataObjectAttribName="PROD_SYS_ID" />
						<ResultIndex index="6"
							dataObjectAttribName="PROD_PARNT_SYS_ID" />
						<ResultIndex index="7"
							dataObjectAttribName="PROD_DESC_TXT" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getAllVersions" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="PROD_NM" toBOAttb="productName" />
					<Pair DOAttb="PROD_VRSN_NBR" toBOAttb="version" />
					<Pair DOAttb="PROD_EFCTV_DT"
						toBOAttb="effectiveDate" />
					<Pair DOAttb="PROD_EXPIRY_DT" toBOAttb="expiryDate" />
					<Pair DOAttb="PROD_STTS_CD" toBOAttb="status" />
					<Pair DOAttb="PROD_FMLY_NM"
						toBOAttb="productFamilyList" />
					<Pair DOAttb="PROD_STRCTR_SYS_ID"
						toBOAttb="productStructureList" />
					<Pair DOAttb="PROD_SYS_ID" toBOAttb="productKey" />
					<Pair DOAttb="PROD_PARNT_SYS_ID"
						toBOAttb="parentKey" />
					<Pair DOAttb="LOB_NM" toBOAttb="lineOfBusinessList" />
					<Pair DOAttb="US_ENTY_NM"
						toBOAttb="businessEntityList" />
					<Pair DOAttb="BUS_GRP_NM"
						toBOAttb="businessGroupList" />
					<Pair DOAttb="PROD_TYPE"      	toBOAttb="productType" />
					<Pair DOAttb="PROD_DESC_TXT"      	toBOAttb="productDescription" />
					<Pair DOAttb="MRKT_BUS_UNT" toBOAttb="marketBusinessUnitList" />

				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
					<Pair DOAttb="PROD_NM" toSCAttb="prodname" />
					<Pair DOAttb="PROD_EFCTV_DT"
						toSCAttb="prodeffectivedate" />
					<Pair DOAttb="PROD_EXPIRY_DT"
						toSCAttb="prodexpirydate" />
					<Pair DOAttb="PROD_FMLY_NM" toSCAttb="prodfamname" />
					<Pair DOAttb="PROD_STRCTR_SYS_ID"
						toSCAttb="prodstructname" />
					<Pair DOAttb="US_ENTY_NM" toSCAttb="prodentlist" />
					<Pair DOAttb="BUS_GRP_NM" toSCAttb="prodgrouplist" />
					<Pair DOAttb="LOB_NM" toSCAttb="prodloblist" />
					<Pair DOAttb="PROD_SYS_ID" toSCAttb="productSysId" />
					<Pair DOAttb="MRKT_BUS_UNT" toSCAttb="prodMarketBusinessUnitlist" />
				</DoAttributeToSCAttributeMap>
			</DataObject>
		</DataSource>
	</BusinessObjectMetadata>

	<BusinessObjectMetadata
		name="com.wellpoint.wpd.common.product.tree.bo.ProductTreeBenefitComponents">
		<BusinessAttribute name="productId" type="Int"
			keyAttrib="false" />
		<BusinessAttribute name="benefitComponentId" type="Int"
			keyAttrib="true" />
		<BusinessAttribute name="benefitComponentDesc" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="benefitComponentStatus" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="benefitComponentVersion" type="Int"
			keyAttrib="false" />
		<BusinessAttribute name="benefitComponentHideFlag" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="dateSegmentId" type="Int"
			keyAttrib="false" />
		<BusinessAttribute name="benefitHideFlag" type="String"
			keyAttrib="false" />

		<BusinessAttribute name="lastUpdatedUserId" type="String"
			keyAttrib="false" />

		<BusinessAttribute name="lastUpdatedTimeStamp" type="Date"
			keyAttrib="false" />
		<SearchCriteria>
			<SearchCriteriaAttribute name="productId" type="Int" />
			<SearchCriteriaAttribute name="dateSegmentId" type="Int" />
		</SearchCriteria>
		<DataSource name="prmd" domain="medical">
			<Connection preferred="jndi">
				<url>
					jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG
				</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>
			<SelectSQLQuery>
				select ADMN_OPT_SYS_ID,ENTY_SYS_ID from ENTY_ADMN_OPT_ASSN 
			</SelectSQLQuery>
			<SelectSQLQuery name="searchBenefitComponents">
				select b.BNFT_CMPNT_SYS_ID, b.BNFT_CMPNT_NM,b.BNFT_CMPNT_STTS_CD,b.BNFT_CMPNT_VRSN_NBR from
				PROD_BNFT_CMPNT_ASSN a, BCM_BNFT_CMPNT_MSTR b where
				a.BNFT_CMPNT_SYS_ID = b.BNFT_CMPNT_SYS_ID and
				a.PROD_SYS_ID ={0} order by a.SQNC_NBR
			</SelectSQLQuery>
			<SelectSQLQuery name="searchContractBenefitComponents">
						select A.BNFT_CMPNT_SYS_ID,A.BNFT_CMPNT_NM,A.BNFT_CMPNT_STTS_CD,A.BNFT_CMPNT_VRSN_NBR from 
						(select b.BNFT_CMPNT_SYS_ID, b.BNFT_CMPNT_NM,b.BNFT_CMPNT_STTS_CD,b.BNFT_CMPNT_VRSN_NBR,c.SQNC_NBR seqNum from
                        CNTRCT_BNFT_ASSN a,BCM_BNFT_CMPNT_MSTR b,PROD_BNFT_CMPNT_ASSN c, CNTRCT_DT_SGMNT d where a.BNFT_CMPNT_SYS_ID = b.BNFT_CMPNT_SYS_ID
                        and a.DT_SGMNT_SYS_ID = {1} and a.DT_SGMNT_SYS_ID = d.DT_SGMNT_SYS_ID and d.PROD_SYS_ID = {0} and a.BNFT_CMPNT_HIDE_FLAG = 'F' 
                        and c.PROD_SYS_ID =  d.PROD_SYS_ID and c.BNFT_CMPNT_SYS_ID = a.BNFT_CMPNT_SYS_ID 
                        group by b.BNFT_CMPNT_SYS_ID, b.BNFT_CMPNT_NM,b.BNFT_CMPNT_STTS_CD,b.BNFT_CMPNT_VRSN_NBR,c.SQNC_NBR)A
						order by A.seqNum asc
			</SelectSQLQuery>
			<SelectSQLQuery name="searchBenefitComponentsForMigration">
				select b.BNFT_CMPNT_SYS_ID, b.BNFT_CMPNT_NM,b.BNFT_CMPNT_STTS_CD,b.BNFT_CMPNT_VRSN_NBR from
                	PROD_BNFT_CMPNT_ASSN a, BCM_BNFT_CMPNT_MSTR b where
                	a.BNFT_CMPNT_SYS_ID = b.BNFT_CMPNT_SYS_ID and
                	a.PROD_SYS_ID ={0} order by a.SQNC_NBR
			</SelectSQLQuery>

			<SelectSQLQuery name="searchBenefitComponentsHideUnhide">
				 SELECT A.BNFT_CMPNT_SYS_ID,
  					A.BNFT_CMPNT_NM          ,
					  A.BNFT_CMPNT_STTS_CD     ,
					  A.BNFT_CMPNT_VRSN_NBR    ,
					  A.BNFT_CMPNT_HIDE_FLAG
					   FROM
					  (SELECT a.BNFT_CMPNT_SYS_ID,
					    a.BNFT_CMPNT_NM          ,
					    a.BNFT_CMPNT_STTS_CD     ,
					    a.BNFT_CMPNT_VRSN_NBR    ,
					    d.BNFT_CMPNT_HIDE_FLAG   ,
					    b.SQNC_NBR seqNum
					     FROM BCM_BNFT_CMPNT_MSTR a ,
					    PROD_BNFT_CMPNT_ASSN b      ,
					    CNTRCT_DT_SGMNT c           ,
					    CNTRCT_BNFT_ASSN d
					    WHERE d.BNFT_CMPNT_SYS_ID = a.BNFT_CMPNT_SYS_ID
					  AND d.DT_SGMNT_SYS_ID       = {1}
					  AND c.PROD_SYS_ID           = {0}
					  AND b.PROD_SYS_ID           = c.PROD_SYS_ID
					  AND b.BNFT_CMPNT_SYS_ID     = d.BNFT_CMPNT_SYS_ID
					  AND c.dt_sgmnt_sys_id       = d.dt_sgmnt_sys_id
					GROUP BY a.BNFT_CMPNT_SYS_ID,
					    a.BNFT_CMPNT_NM          ,
					    a.BNFT_CMPNT_STTS_CD     ,
					    a.BNFT_CMPNT_VRSN_NBR    ,
					    d.BNFT_CMPNT_HIDE_FLAG   ,
					    b.SQNC_NBR
					  )A
					ORDER BY A.seqNum ASC
			</SelectSQLQuery>
			
			<DataObject name="BCM_BNFT_CMPNT_MSTR">
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID"
					type="Int" />
				<DataObjectAttribute name="BNFT_CMPNT_NM" type="String" />
				<DataObjectAttribute name="BNFT_CMPNT_STTS_CD" type="String" />
				<DataObjectAttribute name="BNFT_CMPNT_VRSN_NBR" type="Int" />
				<DataObjectAttribute name="BNFT_CMPNT_HIDE_FLAG" type="String" />
				
				<SQLTemplate transType="select">
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="BNFT_CMPNT_SYS_ID" />
						<ResultIndex index="1"
							dataObjectAttribName="BNFT_CMPNT_NM" />
						<ResultIndex index="2"
							dataObjectAttribName="BNFT_CMPNT_STTS_CD" />
						<ResultIndex index="3"
							dataObjectAttribName="BNFT_CMPNT_VRSN_NBR" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchBenefitComponents" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="BNFT_CMPNT_SYS_ID" />
						<ResultIndex index="1"
							dataObjectAttribName="BNFT_CMPNT_NM" />
						<ResultIndex index="2"
							dataObjectAttribName="BNFT_CMPNT_STTS_CD" />
						<ResultIndex index="3"
							dataObjectAttribName="BNFT_CMPNT_VRSN_NBR" />
									
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchContractBenefitComponents" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="BNFT_CMPNT_SYS_ID" />
						<ResultIndex index="1"
							dataObjectAttribName="BNFT_CMPNT_NM" />
						<ResultIndex index="2"
							dataObjectAttribName="BNFT_CMPNT_STTS_CD" />
						<ResultIndex index="3"
							dataObjectAttribName="BNFT_CMPNT_VRSN_NBR" />						
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchBenefitComponentsForMigration" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="BNFT_CMPNT_SYS_ID" />
						<ResultIndex index="1"
							dataObjectAttribName="BNFT_CMPNT_NM" />
						<ResultIndex index="2"
							dataObjectAttribName="BNFT_CMPNT_STTS_CD" />
						<ResultIndex index="3"
							dataObjectAttribName="BNFT_CMPNT_VRSN_NBR" />
						<ResultIndex index="4"
							dataObjectAttribName="BNFT_CMPNT_HIDE_FLAG" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchBenefitComponentsHideUnhide" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="BNFT_CMPNT_SYS_ID"
						toBOAttb="benefitComponentId" />
					<Pair DOAttb="BNFT_CMPNT_NM"
						toBOAttb="benefitComponentDesc" />
					<Pair DOAttb="BNFT_CMPNT_STTS_CD"
						toBOAttb="benefitComponentStatus" />
					<Pair DOAttb="BNFT_CMPNT_VRSN_NBR"
						toBOAttb="benefitComponentVersion" />
					<Pair DOAttb="BNFT_CMPNT_HIDE_FLAG"
						toBOAttb="benefitComponentHideFlag" />
				
				</DoAttributeToBOAttributeMap>
			</DataObject>
			<DataObject name="CNTRCT_BNFT_CSTMZD">
				<DataObjectAttribute name="PROD_SYS_ID" type="Int" />
				<DataObjectAttribute name="DT_SGMNT_SYS_ID" type="Int" />
				
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="PROD_SYS_ID" />
					<DataObjectAttributeInput index="1"
						name="DT_SGMNT_SYS_ID" />
					<SearchQueryName name="searchContractBenefitComponents" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="PROD_SYS_ID" />					
					<SearchQueryName name="searchBenefitComponentsForMigration" />
				</SQLTemplate>
				<DoAttributeToSCAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" toSCAttb="productId" />
					<Pair DOAttb="DT_SGMNT_SYS_ID" toSCAttb="dateSegmentId" />
				</DoAttributeToSCAttributeMap>
			</DataObject>
			<DataObject name="PROD_BNFT_CSTMZD">
				<DataObjectAttribute name="PROD_SYS_ID" type="Int" />				
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="PROD_SYS_ID" />					
					<SearchQueryName name="searchBenefitComponentsForMigration" />
				</SQLTemplate>
				<DoAttributeToSCAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" toSCAttb="productId" />					
				</DoAttributeToSCAttributeMap>
			</DataObject>

			<DataObject name="PROD_BNFT_CMPNT_ASSN">
				<DataObjectAttribute name="PROD_SYS_ID" type="Int" />
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID"
					type="Int" />
				<DataObjectAttribute name="DT_SGMNT_SYS_ID" type="Int" />
				
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="PROD_SYS_ID" />
					<SearchQueryName name="searchBenefitComponents" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="PROD_SYS_ID" />
					<DataObjectAttributeInput index="1"
						name="DT_SGMNT_SYS_ID" />
					<SearchQueryName name="searchContractBenefitComponents" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="PROD_SYS_ID" />
					<DataObjectAttributeInput index="1"
						name="DT_SGMNT_SYS_ID" />
					<SearchQueryName name="searchBenefitComponentsHideUnhide" />
				</SQLTemplate>
				<DoAttributeToSCAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" toSCAttb="productId" />
					<Pair DOAttb="DT_SGMNT_SYS_ID" toSCAttb="dateSegmentId" />
				</DoAttributeToSCAttributeMap>
			</DataObject>

		</DataSource>
	</BusinessObjectMetadata>


	<BusinessObjectMetadata
		name="com.wellpoint.wpd.common.product.tree.bo.ProductTreeBenefitAdministration">
		<BusinessAttribute name="benefitDefinitionId" type="Int"
			keyAttrib="false" />
		<BusinessAttribute name="benefitAdministrationId" type="Int"
			keyAttrib="true" />
		<BusinessAttribute name="effectiveDate" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="expiryDate" type="String"
			keyAttrib="false" />


		<SearchCriteria>
			<SearchCriteriaAttribute name="benefitId" type="Int" />
			<SearchCriteriaAttribute name="benefitComponentId"
				type="Int" />
		</SearchCriteria>
		<DataSource name="prmd" domain="medical">
			<Connection preferred="jndi">
				<url>
					jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG
				</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>
			<SelectSQLQuery name="searchBenefitAdministrationDates">
				<![CDATA[
				select b.BNFT_ADMIN_SYS_ID, to_char(b.BNFT_ADMIN_EFCTV_DT,'mm/dd/yyyy'), to_char(b.BNFT_ADMIN_EXPIRY_DT,'mm/dd/yyyy') from BDM_BNFT_DEFN_MSTR a, BNFT_ADMNSTRN_ASSN b, BNFT_CMPNT_HRCHY_ASSN c, BCM_BNFT_CMPNT_MSTR d 
				where a.BNFT_DEFN_SYS_ID = b.BNFT_DEFN_SYS_ID
					and a.BNFT_SYS_ID = {0}
					and c.BNFT_SYS_ID = a.BNFT_SYS_ID
					and c.BNFT_CMPNT_SYS_ID = {1}
					and d.BNFT_CMPNT_SYS_ID = c.BNFT_CMPNT_SYS_ID
					and d.BNFT_CMPNT_EFCTV_DT >= a.BNFT_DEFN_EFCTV_DT
					and d.BNFT_CMPNT_EXPIRY_DT <= a.BNFT_DEFN_EXPIRY_DT
			]]>
			</SelectSQLQuery>
			<DataObject name="BDM_BNFT_DEFN_MSTR">
				<DataObjectAttribute name="BNFT_SYS_ID" type="Int" />
				<DataObjectAttribute name="BNFT_DEFN_SYS_ID" type="Int" />
				<DataObjectAttribute name="BNFT_COMP_SYS_ID" type="Int" />
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="BNFT_SYS_ID" />
					<DataObjectAttributeInput index="1"
						name="BNFT_COMP_SYS_ID" />
					<SearchQueryName
						name="searchBenefitAdministrationDates" />
				</SQLTemplate>

				<DoAttributeToSCAttributeMap>
					<Pair DOAttb="BNFT_SYS_ID" toSCAttb="benefitId" />
					<Pair DOAttb="BNFT_COMP_SYS_ID"
						toSCAttb="benefitComponentId" />
				</DoAttributeToSCAttributeMap>
			</DataObject>

			<DataObject name="BNFT_ADMNSTRN_ASSN">
				<DataObjectAttribute name="BNFT_ADMIN_SYS_ID"
					type="Int" />
				<DataObjectAttribute name="BNFT_DEFN_SYS_ID" type="Int" />
				<DataObjectAttribute name="BNFT_ADMIN_EFCTV_DT"
					type="String" />
				<DataObjectAttribute name="BNFT_ADMIN_EXPIRY_DT"
					type="String" />
				<SQLTemplate transType="select">
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="BNFT_ADMIN_SYS_ID" />
						<ResultIndex index="1"
							dataObjectAttribName="BNFT_ADMIN_EFCTV_DT" />
						<ResultIndex index="2"
							dataObjectAttribName="BNFT_ADMIN_EXPIRY_DT" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName
						name="searchBenefitAdministrationDates" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="BNFT_ADMIN_SYS_ID"
						toBOAttb="benefitAdministrationId" />
					<Pair DOAttb="BNFT_ADMIN_EFCTV_DT"
						toBOAttb="effectiveDate" />
					<Pair DOAttb="BNFT_ADMIN_EXPIRY_DT"
						toBOAttb="expiryDate" />
				</DoAttributeToBOAttributeMap>
			</DataObject>
		</DataSource>
	</BusinessObjectMetadata>



	<BusinessObjectMetadata
		name="com.wellpoint.wpd.common.product.tree.bo.ProductTreeAdminOptions">
		<BusinessAttribute name="benefitAdministrationId" type="Int"
			keyAttrib="false" />
		<BusinessAttribute name="adminOptionId" type="Int"
			keyAttrib="true" />
		<BusinessAttribute name="adminLevelType" type="Int"
			keyAttrib="false" />
		<BusinessAttribute name="adminOptionDesc" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="adminLevelOptionAssnId" type="Int"
			keyAttrib="false" />
		
  		<BusinessAttribute name="benefitComponentId"     			type="Int"  	keyAttrib="false"/>


		<SearchCriteria name="searchCriteria">
			<SearchCriteriaAttribute name="benefitAdministrationId"
				type="Int" />
			<SearchCriteriaAttribute name="adminLevelType" type="Int" />
			<SearchCriteriaAttribute name="productSysId" 	 		type="Int"/>
			<SearchCriteriaAttribute name="benefitComponentId"  type="Int"/>
			<SearchCriteriaAttribute name="dateSegmentSysId" 	 		type="Int"/>
		</SearchCriteria>
		<DataSource name="prmd" domain="medical">
			<Connection preferred="jndi">
				<url>
					jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG
				</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>
			<SelectSQLQuery name="searchAdminOptions">
				select b.ADMIN_OPT_SYS_ID,b.ADMIN_OPT_DESC_TXT,a.ADMIN_LVL_OPT_ASSN_SYS_ID from
				BNFT_ADMIN_TO_LVL_ASSN a,ADMIN_OPT_MSTR b where
				a.ADMIN_OPT_SYS_ID=b.ADMIN_OPT_SYS_ID and
				a.BNFT_ADMIN_SYS_ID = {0} and a.ADMIN_LVL_SYS_ID = {1} and 
                a.ADMIN_LVL_OPT_ASSN_SYS_ID in(
                select ADMIN_LVL_OPT_ASSN_SYS_ID from PROD_ADMN_OPT_CUSTM where  PROD_SYS_ID = {2} and BNFT_CMPNT_SYS_ID = {3} and ADMIN_OPTION_HIDE_FLAG='F')ORDER BY a.SQNC_NBR  
			</SelectSQLQuery>
			<DataObject name="BNFT_ADMIN_TO_LVL_ASSN">
				<DataObjectAttribute name="BNFT_ADMIN_SYS_ID"
					type="Int" />
				<DataObjectAttribute name="ADMIN_LVL_SYS_ID" type="Int" />
				<DataObjectAttribute name="ADMIN_OPT_SYS_ID" type="Int" />
				<DataObjectAttribute name="ADMIN_LVL_OPT_ASSN_SYS_ID" type="Int" />
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="BNFT_ADMIN_SYS_ID" />
					<DataObjectAttributeInput index="1"
						name="ADMIN_LVL_SYS_ID" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="2"
							dataObjectAttribName="ADMIN_LVL_OPT_ASSN_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchAdminOptions" />
				</SQLTemplate>

				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="ADMIN_LVL_OPT_ASSN_SYS_ID"
						toBOAttb="adminLevelOptionAssnId" />					
				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
					<Pair DOAttb="BNFT_ADMIN_SYS_ID"
						toSCAttb="benefitAdministrationId" />
					<Pair DOAttb="ADMIN_LVL_SYS_ID"
						toSCAttb="adminLevelType" />
				</DoAttributeToSCAttributeMap>
				
			</DataObject>
			<DataObject name="PROD_ADMN_OPT_CUSTM">
		       <DataObjectAttribute name="PROD_SYS_ID"    	       		type="Int"/>
		       <DataObjectAttribute name="ADMIN_LVL_OPT_ASSN_SYS_ID"  	type="Int"/>
		       <DataObjectAttribute name="BNFT_CMPNT_SYS_ID"           	type="Int"/>
		       <DataObjectAttribute name="LST_CHG_USR"    	       		type="String"/>
		       <DataObjectAttribute name="LST_CHG_TMS"    	       		type="Date"/>
		       <DataObjectAttribute name="CREATD_USER_ID"    	       	type="String"/>
		       <DataObjectAttribute name="CREATD_TM_STMP"    	       	type="Date"/>
			   <DataObjectAttribute name="DT_SGMNT_SYS_ID"    	       		type="Int"/>
		       	<SQLTemplate transType="select">
					<DataObjectAttributeInput index="2" name="PROD_SYS_ID"/>
					<DataObjectAttributeInput index="3" name="BNFT_CMPNT_SYS_ID"/>
				<SearchQueryName name="searchAdminOptions"/>
				</SQLTemplate>

	       		<DoAttributeToBOAttributeMap>
		  			<Pair DOAttb="BNFT_CMPNT_SYS_ID"    		toBOAttb="benefitComponentId"/>	
    	   		</DoAttributeToBOAttributeMap>     
       	   		<DoAttributeToSCAttributeMap>
					<Pair DOAttb="DT_SGMNT_SYS_ID"    		toSCAttb="dateSegmentSysId"/>		
	        		<Pair DOAttb="PROD_SYS_ID"    		toSCAttb="productSysId"/>					
					<Pair DOAttb="BNFT_CMPNT_SYS_ID"    toSCAttb="benefitComponentId"/>		
	   	   		</DoAttributeToSCAttributeMap>        
   		  	</DataObject>

			<DataObject name="ADMIN_OPT_MSTR">
				<DataObjectAttribute name="ADMIN_OPT_SYS_ID" type="Int" />
				<DataObjectAttribute name="ADMIN_OPT_DESC_TXT"
					type="String" />
				
				<SQLTemplate transType="select">
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="ADMIN_OPT_SYS_ID" />
						<ResultIndex index="1"
							dataObjectAttribName="ADMIN_OPT_DESC_TXT" />
						
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchAdminOptions" />
				</SQLTemplate>		
		
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="ADMIN_OPT_SYS_ID"
						toBOAttb="adminOptionId" />
					<Pair DOAttb="ADMIN_OPT_DESC_TXT"
						toBOAttb="adminOptionDesc" />		
				</DoAttributeToBOAttributeMap>
			</DataObject>
		</DataSource>
	</BusinessObjectMetadata>


	<BusinessObjectMetadata
		name="com.wellpoint.wpd.common.product.tree.bo.ProductTreeStandardBenefits">
		<BusinessAttribute name="benefitComponentId" type="Int"
			keyAttrib="false" />
		<BusinessAttribute name="benefitCmpntDesc" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="productId" type="Int"
			keyAttrib="false" />
		<BusinessAttribute name="standardBenefitId" type="Int"
			keyAttrib="true" />
		<BusinessAttribute name="standardBenefitDesc" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="standardBenefitStatus" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="standardBenefitVersion" type="Int"
			keyAttrib="false" />
		<BusinessAttribute name="standardBenefitParentSysId" type="Int"
			keyAttrib="false" />
		<BusinessAttribute name="isHidden" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="migratedContractSysId" type="Int"
			keyAttrib="false" />
		<BusinessAttribute name="count" type="Int"
			keyAttrib="false" />
		<BusinessAttribute name="benefitHideFlag" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="benefitLineFlag" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="benefitLevelFlag" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="adminOptionFlag" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="questionsFlag" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="lastUpdatedTime" type="Date"
			keyAttrib="false" />
		<BusinessAttribute name="lastUpdatedUser" type="String"
			keyAttrib="false" />
		<BusinessAttribute name="dateSegmentId" type="Int"
			keyAttrib="false" />

	
	    <BusinessAttribute name="sequenceNumber" type="Int" keyAttrib="false" />
		<BusinessAttribute name="productType" type="String" keyAttrib="false" />
				
		<SearchCriteria>
			<SearchCriteriaAttribute name="benefitComponentId"
				type="Int" />
			<SearchCriteriaAttribute name="productId"
				type="Int" />
			<SearchCriteriaAttribute name="dateSegmentId"
				type="Int" />
			<SearchCriteriaAttribute name="migratedContractSysId"
				type="Int" />
			<SearchCriteriaAttribute name="benefitHideFlag"
				type="String" />
			<SearchCriteriaAttribute name="mgrtdDatesegmentId"
				type="Int" />
			<SearchCriteriaAttribute name="userId"
				type="String" />	
			<SearchCriteriaAttribute name="benefitId"
				type="Int" />			
		</SearchCriteria>
		<DataSource name="prmd" domain="medical">
			<Connection preferred="jndi">
				<url>
					jdbc:oracle:thin:ewpd2/ewpd_2@10.10.43.217:1521:ISG
				</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>
			<SelectSQLQuery name="searchStandardBenefits">
				select  a.BNFT_ID_NM,b.BNFT_SYS_ID,	a.BNFT_STTS_CD,	a.BNFT_VRSN_NBR,a.BNFT_PARNT_SYS_ID ,b.SQNC_NBR
				from	BMST_BNFT_MSTR a,BNFT_CMPNT_HRCHY_ASSN b, 
				(Select distinct PROD_SYS_ID,BNFT_CMPNT_SYS_ID,BNFT_SYS_ID 
				from PROD_BNFT_CSTMZD where BNFT_CMPNT_SYS_ID ={0} and PROD_SYS_ID = {1} and BNFT_HIDE_FLAG ='F') C
				where c.BNFT_CMPNT_SYS_ID= b.BNFT_CMPNT_SYS_ID  and c.BNFT_SYS_ID = a.BNFT_SYS_ID and a.BNFT_SYS_ID = b.BNFT_SYS_ID 
				order by b.SQNC_NBR
         	</SelectSQLQuery>
			<SelectSQLQuery name="getAllBenefits">
				  SELECT A.BNFT_ID_NM ,
				  A.BNFT_SYS_ID      ,
				  A.BNFT_STTS_CD     ,
				  A.BNFT_VRSN_NBR    ,
				  A.BNFT_PARNT_SYS_ID,
				  A.BNFT_HIDE_FLAG
				   FROM
				  (SELECT c.BNFT_ID_NM ,
				    c.BNFT_SYS_ID      ,
				    c.BNFT_STTS_CD     ,
				    c.BNFT_VRSN_NBR    ,
				    c.BNFT_PARNT_SYS_ID,
				    a.BNFT_HIDE_FLAG   ,
				    b.SQNC_NBR seqNum
				     FROM CNTRCT_BNFT_ASSN a,
				    bnft_cmpnt_hrchy_assn b ,
				    bmst_bnft_mstr c
				    WHERE a.dt_sgmnt_sys_id = {1}
				  AND a.bnft_cmpnt_sys_id   ={0}
				  AND b.bnft_cmpnt_sys_id   = a.bnft_cmpnt_sys_id
				  AND b.bnft_sys_id         = a.bnft_sys_id
				  AND b.bnft_sys_id         = c.bnft_sys_id
				 GROUP BY c.BNFT_ID_NM ,
				    c.BNFT_SYS_ID      ,
				    c.BNFT_STTS_CD     ,
				    c.BNFT_VRSN_NBR    ,
				    c.BNFT_PARNT_SYS_ID,
				    a.BNFT_HIDE_FLAG   ,
				    b.SQNC_NBR
				  )A
				ORDER BY A.seqNum ASC
			</SelectSQLQuery>
			<SelectSQLQuery name="searchContractStandardBenefits">
				 SELECT A.BNFT_ID_NM ,
				  A.BNFT_SYS_ID      ,
				  A.BNFT_STTS_CD     ,
				  A.BNFT_VRSN_NBR    ,
				  A.BNFT_PARNT_SYS_ID
				   FROM
				  (SELECT c.BNFT_ID_NM ,
				    c.BNFT_SYS_ID      ,
				    c.BNFT_STTS_CD     ,
				    c.BNFT_VRSN_NBR    ,
				    c.BNFT_PARNT_SYS_ID,
				    b.SQNC_NBR seqNum
				     FROM CNTRCT_BNFT_ASSN a,
				    bnft_cmpnt_hrchy_assn b ,
				    bmst_bnft_mstr c
				    WHERE a.dt_sgmnt_sys_id = {1}
				  AND a.bnft_cmpnt_sys_id   ={0}
				  AND a.BNFT_HIDE_FLAG      = 'F'
				  AND b.bnft_cmpnt_sys_id   = a.bnft_cmpnt_sys_id
				  AND b.bnft_sys_id         = a.bnft_sys_id
				  AND b.bnft_sys_id         = c.bnft_sys_id
				 GROUP BY c.BNFT_ID_NM ,
				    c.BNFT_SYS_ID      ,
				    c.BNFT_STTS_CD     ,
				    c.BNFT_VRSN_NBR    ,
				    c.BNFT_PARNT_SYS_ID,
				    b.SQNC_NBR
				  )A
				ORDER BY A.seqNum ASC
			</SelectSQLQuery>
			<SelectSQLQuery name="getAllBenefitsVisible">
				 SELECT A.BNFT_ID_NM ,
				  A.BNFT_SYS_ID      ,
				  A.BNFT_STTS_CD     ,
				  A.BNFT_VRSN_NBR    ,
				  A.BNFT_PARNT_SYS_ID,
				  A.BNFT_HIDE_FLAG
				   FROM
				  (SELECT c.BNFT_ID_NM ,
				    c.BNFT_SYS_ID      ,
				    c.BNFT_STTS_CD     ,
				    c.BNFT_VRSN_NBR    ,
				    c.BNFT_PARNT_SYS_ID,
				    a.BNFT_HIDE_FLAG   ,
				    b.SQNC_NBR seqNum
				     FROM CNTRCT_BNFT_ASSN a,
				    bnft_cmpnt_hrchy_assn b   ,
				    bmst_bnft_mstr c
				    WHERE a.dt_sgmnt_sys_id = {1}
				  AND a.bnft_cmpnt_sys_id   = {0}
				  AND a.BNFT_HIDE_FLAG      = 'F'
				  AND b.bnft_cmpnt_sys_id   = a.bnft_cmpnt_sys_id
				  AND b.bnft_sys_id         = a.bnft_sys_id
				  AND b.bnft_sys_id         = c.bnft_sys_id
				 GROUP BY c.BNFT_ID_NM ,
				    c.BNFT_SYS_ID      ,
				    c.BNFT_STTS_CD     ,
				    c.BNFT_VRSN_NBR    ,
				    c.BNFT_PARNT_SYS_ID,
				    a.BNFT_HIDE_FLAG   ,
				    b.SQNC_NBR
				  )A
				ORDER BY A.seqNum ASC            	
			</SelectSQLQuery>
			<SelectSQLQuery name="searchVisibleStandardBenefits">

				select DISTINCT a.BNFT_ID_NM, a.BNFT_SYS_ID,a.BNFT_STTS_CD,a.BNFT_VRSN_NBR,a.BNFT_PARNT_SYS_ID,c.BNFT_HIDE_FLAG,d.BNFT_CMPNT_NM,e.SQNC_NBR	
        		from BMST_BNFT_MSTR a, PROD_BNFT_CSTMZD c,BCM_BNFT_CMPNT_MSTR d,BNFT_CMPNT_HRCHY_ASSN e
        		where a.BNFT_SYS_ID = e.BNFT_SYS_ID 
				and a.BNFT_SYS_ID = c.BNFT_SYS_ID 
				and c.BNFT_CMPNT_SYS_ID = d.BNFT_CMPNT_SYS_ID
				and c.BNFT_CMPNT_SYS_ID = e.BNFT_CMPNT_SYS_ID
        		and c.BNFT_CMPNT_SYS_ID = {0}
        		and c.BNFT_HIDE_FLAG = 'F'
                and c.PROD_SYS_ID = {1} order by  e.SQNC_NBR 

			</SelectSQLQuery>

			<SelectSQLQuery name="searchAllStandardBenefits">

				Select   AA.* from  
				 ( select    distinct a.BNFT_ID_NM, a.BNFT_SYS_ID,a.BNFT_STTS_CD,a.BNFT_VRSN_NBR,a.BNFT_PARNT_SYS_ID,c.BNFT_HIDE_FLAG,d.BNFT_CMPNT_NM                
				  from BMST_BNFT_MSTR a, PROD_BNFT_CSTMZD c,BCM_BNFT_CMPNT_MSTR d
				  where  a.BNFT_SYS_ID = c.BNFT_SYS_ID
				  and c.BNFT_CMPNT_SYS_ID = d.BNFT_CMPNT_SYS_ID   and c.BNFT_CMPNT_SYS_ID = {0} and c.PROD_SYS_ID = {1} )AA,
				    (select distinct A.BNFT_SYS_ID,C.SQNC_NBR from PROD_BNFT_CSTMZD A,BLN_BNFT_LINE B, BNFT_CMPNT_HRCHY_ASSN C
				    where A.PROD_SYS_ID = {1} and A.BNFT_CMPNT_SYS_ID = {0}  and A.BNFT_CMPNT_SYS_ID= C.BNFT_CMPNT_SYS_ID
				    and A.BNFT_SYS_ID =C.BNFT_SYS_ID and A.BLN_BNFT_LINE_ID = B.BLN_BNFT_LINE_ID 
				    and B.BLN_BNFT_LINE_PVA  IN (select PVA_ID from PROD_FMLY_BUSS_ENTY_PVA_MAP where PROD_FMLY_ID IN (Select distinct PROD_FMLY_NM  from PROD_MSTR where PROD_SYS_ID IN(select PROD_PARNT_SYS_ID  from PROD_MSTR where PROD_SYS_ID = {1} )) 
				    and BUSS_ENTY_ID IN (SELECT  b.BUS_ENTY_NM FROM ENTY_DOMN_INFO a, AVLBL_DOMN b,(SELECT * FROM ITEM WHERE CTLG_ID = 1932) BE  WHERE a.DOMN_SYS_ID = b.DOMN_SYS_ID and a.ENTY_TYPE = 'product' and a.ENTY_SYS_ID IN(select PROD_PARNT_SYS_ID  from PROD_MSTR where PROD_SYS_ID = {1} ) and b.BUS_ENTY_NM =BE.PRMRY_CD)) 
				    ORDER BY C.SQNC_NBR)BB 
				 where AA.BNFT_SYS_ID =BB.BNFT_SYS_ID ORDER BY BB.SQNC_NBR

			</SelectSQLQuery>
			<SelectSQLQuery name="searchBenefitsForMigrationTree">
				select X.BNFT_ID_NM,Y.BNFT_SYS_ID,X.BNFT_STTS_CD,X.BNFT_VRSN_NBR,X.BNFT_PARNT_SYS_ID ,
				     (select count(1) from 
				             PROD_BNFT_CSTMZD a ,
				             (select distinct A.BNFT_LINE_SYS_ID from MGRTD_PSTRCTR_MAPG_DTL A
				                                      where  A.BNFT_CMPNT_SYS_IDENFITIER = {1} 
				                                      and A.PROD_STRCTR_MAPG_SYS_ID = (select H.MGRTD_PSTRCTR_MAPG_SYS_ID from MGRTD_CNTRCT_DT_SGMNT_MSTR H where H.MGRTD_DT_SGMNT_SYS_ID = {0})  
				                                      union 
				                                      select  distinct A.BNFT_LINE_SYS_ID from TEMP_CNTRCT_MAPG A
				                                      where  A.BNFT_CMPNT_SYS_ID = {1} 
				                                      and A.MGRTD_DT_SGMNT_SYS_ID = {0}
				              ) b 
				        where 
				              a.PROD_SYS_ID = (select H.EWPD_PROD_SYS_ID from MGRTD_CNTRCT_DT_SGMNT_MSTR H where H.MGRTD_DT_SGMNT_SYS_ID = {0} )
				              and a.BNFT_CMPNT_SYS_ID = {1}
				              and a.BNFT_LINE_HIDE_FLAG = 'F'
				              and a.BNFT_SYS_ID = X.BNFT_SYS_ID
				              and a.BLN_BNFT_LINE_ID =b.BNFT_LINE_SYS_ID(+)
				              and b.BNFT_LINE_SYS_ID is null
				) Unmapped_Line_count
				from BMST_BNFT_MSTR X, BNFT_CMPNT_HRCHY_ASSN Y
				where X.BNFT_SYS_ID =Y.BNFT_SYS_ID 
				and BNFT_CMPNT_SYS_ID ={1}   
				and X.BNFT_SYS_ID in (select distinct BNFT_SYS_ID from PROD_BNFT_CSTMZD where PROD_SYS_ID = (select H.EWPD_PROD_SYS_ID from MGRTD_CNTRCT_DT_SGMNT_MSTR H where H.MGRTD_DT_SGMNT_SYS_ID = {0} ) and BNFT_CMPNT_SYS_ID = {1} and BNFT_HIDE_FLAG = 'F')
				order by Y.SQNC_NBR  
			</SelectSQLQuery>
			<SelectSQLQuery name="searchBenefitsForMigrationTreeWithBaseContract">
				 SELECT X.BNFT_ID_NM  ,
				  Y.BNFT_SYS_ID       ,
				  X.BNFT_STTS_CD      ,
				  X.BNFT_VRSN_NBR     ,
				  X.BNFT_PARNT_SYS_ID ,
				  (SELECT COUNT(1)
				     FROM PROD_BNFT_CSTMZD a ,
				    (SELECT DISTINCT A.BNFT_LINE_SYS_ID
				       FROM MGRTD_PSTRCTR_MAPG_DTL A
				      WHERE A.BNFT_CMPNT_SYS_IDENFITIER = {1}
				    AND A.PROD_STRCTR_MAPG_SYS_ID       =
				      (SELECT H.MGRTD_PSTRCTR_MAPG_SYS_ID
				         FROM MGRTD_CNTRCT_DT_SGMNT_MSTR H
				        WHERE H.MGRTD_DT_SGMNT_SYS_ID = {0}
				      )
				      
				      UNION
				    
				    SELECT DISTINCT A.BNFT_LINE_SYS_ID
				       FROM TEMP_CNTRCT_MAPG A
				      WHERE A.BNFT_CMPNT_SYS_ID = {1}
				    AND A.MGRTD_DT_SGMNT_SYS_ID = {0}
				    ) b
				    WHERE a.PROD_SYS_ID =
				    (SELECT H.EWPD_PROD_SYS_ID
				       FROM MGRTD_CNTRCT_DT_SGMNT_MSTR H
				      WHERE H.MGRTD_DT_SGMNT_SYS_ID = {0}
				    )
				  AND a.BNFT_CMPNT_SYS_ID   = {1}
				  AND a.BNFT_LINE_HIDE_FLAG = 'F'
				  AND a.BNFT_SYS_ID         = X.BNFT_SYS_ID
				  AND a.BLN_BNFT_LINE_ID    =b.BNFT_LINE_SYS_ID(+)
				  AND b.BNFT_LINE_SYS_ID   IS NULL
				  ) Unmapped_Line_count
				   FROM BMST_BNFT_MSTR X,
				  BNFT_CMPNT_HRCHY_ASSN Y
				  WHERE X.BNFT_SYS_ID =Y.BNFT_SYS_ID
				AND BNFT_CMPNT_SYS_ID ={1}
				AND X.BNFT_SYS_ID    IN
				  (SELECT DISTINCT bnft_sys_id
				     FROM CNTRCT_BNFT_ASSN
				    WHERE DT_SGMNT_SYS_ID = {2}
				  AND BNFT_CMPNT_SYS_ID   = {1}
				  AND bnft_hide_flag      = 'F'
				  )
				ORDER BY Y.SQNC_NBR
			</SelectSQLQuery>

			<SelectSQLQuery name="removeBenefitCustomization">
				CALL PRD_REM_BEN_CUSTZN({0},{1},{2},{3},{4})
			</SelectSQLQuery>

			<DataObject name="BNFT_CMPNT_HRCHY_ASSN ">
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" type="Int" />
				<DataObjectAttribute name="BNFT_SYS_ID" type="Int" />
				<DataObjectAttribute name="PROD_SYS_ID" type="Int" />
				<DataObjectAttribute name="SQNC_NBR" type="Int" />

				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="BNFT_CMPNT_SYS_ID" />
					<DataObjectAttributeInput index="1"
						name="PROD_SYS_ID" />

					<RSIndexToDOAttributeMap>
						<ResultIndex index="1"
							dataObjectAttribName="BNFT_SYS_ID" />
					<ResultIndex index="5"
							dataObjectAttribName="SQNC_NBR" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchStandardBenefits" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<RSIndexToDOAttributeMap>
					<ResultIndex index="7"
							dataObjectAttribName="SQNC_NBR" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchVisibleStandardBenefits" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="BNFT_SYS_ID"
						toBOAttb="standardBenefitId" />
					<Pair DOAttb="SQNC_NBR"
						toBOAttb="sequenceNumber" />
				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
					<Pair DOAttb="BNFT_CMPNT_SYS_ID"
						toSCAttb="benefitComponentId" />
					<Pair DOAttb="PROD_SYS_ID"
						toSCAttb="productId" />
					
				</DoAttributeToSCAttributeMap>
			</DataObject>

			<!-- data object for contract tree standard benefits -->
			<DataObject name="CNTRCT_BNFT_CSTMZD ">
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID"
					type="Int" />
				<DataObjectAttribute name="DT_SGMNT_SYS_ID" type="Int" />
				<DataObjectAttribute name="BNFT_SYS_ID" type="Int" />
				<DataObjectAttribute name="BNFT_HIDE_FLAG" type="String" />
				<DataObjectAttribute name="CREATD_TMS" type="Date" />
				<DataObjectAttribute name="CREATD_USER_ID" type="String" />

				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="BNFT_CMPNT_SYS_ID" />
					<DataObjectAttributeInput index="1"
						name="DT_SGMNT_SYS_ID" />

					<RSIndexToDOAttributeMap>
						<ResultIndex index="1"
							dataObjectAttribName="BNFT_SYS_ID" />
						<ResultIndex index="5"
							dataObjectAttribName="BNFT_HIDE_FLAG" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getAllBenefits" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="BNFT_CMPNT_SYS_ID" />
					<DataObjectAttributeInput index="1"
						name="DT_SGMNT_SYS_ID" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="1"
							dataObjectAttribName="BNFT_SYS_ID" />
						<ResultIndex index="5"
							dataObjectAttribName="BNFT_HIDE_FLAG" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getAllBenefitsVisible" />
				</SQLTemplate>
				
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="BNFT_CMPNT_SYS_ID" />
					<DataObjectAttributeInput index="1"
						name="DT_SGMNT_SYS_ID" />

					<RSIndexToDOAttributeMap>
						<ResultIndex index="1"
							dataObjectAttribName="BNFT_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchContractStandardBenefits" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="BNFT_SYS_ID"
						toBOAttb="standardBenefitId" />
						<Pair DOAttb="BNFT_HIDE_FLAG"
						toBOAttb="isHidden" />
						<Pair DOAttb="DT_SGMNT_SYS_ID"
						toBOAttb="dateSegmentId" />
						<Pair DOAttb="BNFT_CMPNT_SYS_ID"
						toBOAttb="benefitComponentId" />
						<Pair DOAttb="CREATD_TMS"
						toBOAttb="lastUpdatedTime" />
						<Pair DOAttb="CREATD_USER_ID"
						toBOAttb="lastUpdatedUser" />
				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
					<Pair DOAttb="BNFT_CMPNT_SYS_ID"
						toSCAttb="benefitComponentId" />
					<Pair DOAttb="DT_SGMNT_SYS_ID"
						toSCAttb="dateSegmentId" />
				</DoAttributeToSCAttributeMap>
			</DataObject>
			
			<DataObject name="BMST_BNFT_MSTR ">
				<DataObjectAttribute name="BNFT_ID_NM" type="String" />
				<DataObjectAttribute name="BNFT_SYS_ID" type="Int" />
				<DataObjectAttribute name="BNFT_STTS_CD" type="String" />
				<DataObjectAttribute name="BNFT_VRSN_NBR" type="Int" />
				<DataObjectAttribute name="BNFT_PARNT_SYS_ID" type="Int" />
				<DataObjectAttribute name="MGRTD_CNTRCT_SYS_ID" type="Int" />
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" type="Int" />
				<DataObjectAttribute name="MYCOUNT" type="Int" />
				<DataObjectAttribute name="DT_SGMNT_SYS_ID" type="Int" />
				<DataObjectAttribute name="MIG_DT_SGMNT_SYS_ID" type="Int" />
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="MIG_DT_SGMNT_SYS_ID" />
						<DataObjectAttributeInput index="1"
						name="BNFT_CMPNT_SYS_ID" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="BNFT_ID_NM" />
						<ResultIndex index="1"
							dataObjectAttribName="BNFT_SYS_ID" />
						<ResultIndex index="2"
							dataObjectAttribName="BNFT_STTS_CD" />
						<ResultIndex index="3"
							dataObjectAttribName="BNFT_VRSN_NBR" />
						<ResultIndex index="4"
							dataObjectAttribName="BNFT_PARNT_SYS_ID" />
						<ResultIndex index="5"
							dataObjectAttribName="MYCOUNT" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchBenefitsForMigrationTree" />
				</SQLTemplate>
			<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="MIG_DT_SGMNT_SYS_ID" />
						<DataObjectAttributeInput index="1"
						name="BNFT_CMPNT_SYS_ID" />						
						<DataObjectAttributeInput index="2"
						name="DT_SGMNT_SYS_ID" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="BNFT_ID_NM" />
						<ResultIndex index="1"
							dataObjectAttribName="BNFT_SYS_ID" />
						<ResultIndex index="2"
							dataObjectAttribName="BNFT_STTS_CD" />
						<ResultIndex index="3"
							dataObjectAttribName="BNFT_VRSN_NBR" />
						<ResultIndex index="4"
							dataObjectAttribName="BNFT_PARNT_SYS_ID" />
						<ResultIndex index="5"
							dataObjectAttribName="MYCOUNT" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchBenefitsForMigrationTreeWithBaseContract" />
				</SQLTemplate>
				<SQLTemplate transType="select">

					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="BNFT_ID_NM" />
						<ResultIndex index="3"
							dataObjectAttribName="BNFT_VRSN_NBR" />
						<ResultIndex index="2"
							dataObjectAttribName="BNFT_STTS_CD" />
						<ResultIndex index="4"
							dataObjectAttribName="BNFT_PARNT_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchStandardBenefits" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="BNFT_ID_NM" />
						<ResultIndex index="1"
							dataObjectAttribName="BNFT_SYS_ID" />
						<ResultIndex index="3"
							dataObjectAttribName="BNFT_VRSN_NBR" />
						<ResultIndex index="2"
							dataObjectAttribName="BNFT_STTS_CD" />
						<ResultIndex index="4"
							dataObjectAttribName="BNFT_PARNT_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchAllStandardBenefits" />
				</SQLTemplate>
				<SQLTemplate transType="select">
				
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="BNFT_ID_NM" />
						<ResultIndex index="3"
							dataObjectAttribName="BNFT_VRSN_NBR" />
						<ResultIndex index="2"
							dataObjectAttribName="BNFT_STTS_CD" />
						<ResultIndex index="4"
							dataObjectAttribName="BNFT_PARNT_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getAllBenefitsVisible" />
			</SQLTemplate>
			<SQLTemplate transType="select">
				
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="BNFT_ID_NM" />
						<ResultIndex index="3"
							dataObjectAttribName="BNFT_VRSN_NBR" />
						<ResultIndex index="2"
							dataObjectAttribName="BNFT_STTS_CD" />
						<ResultIndex index="4"
							dataObjectAttribName="BNFT_PARNT_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getAllBenefits" />
			</SQLTemplate>
			
				<SQLTemplate transType="select">

					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="BNFT_ID_NM" />
						<ResultIndex index="1"
							dataObjectAttribName="BNFT_SYS_ID" />
						<ResultIndex index="3"
							dataObjectAttribName="BNFT_VRSN_NBR" />
						<ResultIndex index="2"
							dataObjectAttribName="BNFT_STTS_CD" />
						<ResultIndex index="4"
							dataObjectAttribName="BNFT_PARNT_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchVisibleStandardBenefits" />
				</SQLTemplate>	
				<SQLTemplate transType="select">

					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="BNFT_ID_NM" />
						<ResultIndex index="1"
							dataObjectAttribName="BNFT_SYS_ID" />
						<ResultIndex index="3"
							dataObjectAttribName="BNFT_VRSN_NBR" />
						<ResultIndex index="2"
							dataObjectAttribName="BNFT_STTS_CD" />
						<ResultIndex index="4"
							dataObjectAttribName="BNFT_PARNT_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchContractStandardBenefits" />
				</SQLTemplate>	
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="BNFT_ID_NM"
						toBOAttb="standardBenefitDesc" />
					<Pair DOAttb="BNFT_SYS_ID"
						toBOAttb="standardBenefitId" />
					<Pair DOAttb="BNFT_STTS_CD"
						toBOAttb="standardBenefitStatus" />
					<Pair DOAttb="BNFT_VRSN_NBR"
						toBOAttb="standardBenefitVersion" />
					<Pair DOAttb="BNFT_PARNT_SYS_ID"
						toBOAttb="standardBenefitParentSysId" />
					<Pair DOAttb="BNFT_CMPNT_SYS_ID"
						toBOAttb="benefitComponentId" />
					<Pair DOAttb="MGRTD_CNTRCT_SYS_ID"
						toBOAttb="migratedContractSysId" />
					<Pair DOAttb="MYCOUNT"
						toBOAttb="count" />
				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
					<Pair DOAttb="BNFT_CMPNT_SYS_ID"
						toSCAttb="benefitComponentId" />
					<Pair DOAttb="MGRTD_CNTRCT_SYS_ID"
						toSCAttb="migratedContractSysId" />
					<Pair DOAttb="DT_SGMNT_SYS_ID"
						toSCAttb="dateSegmentId" />
					<Pair DOAttb="MIG_DT_SGMNT_SYS_ID"
						toSCAttb="mgrtdDatesegmentId" />
				</DoAttributeToSCAttributeMap>
			</DataObject>

			<DataObject name="PROD_BNFT_CSTMZD">
				<DataObjectAttribute name="BNFT_SYS_ID" type="Int" />
				<DataObjectAttribute name="BNFT_HIDE_FLAG" type="String" />
				<DataObjectAttribute name="BNFT_LVL_HIDE_FLAG" type="String" />
				<DataObjectAttribute name="BNFT_LINE_HIDE_FLAG" type="String" />
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" type="Int" />
				<DataObjectAttribute name="PROD_SYS_ID" type="Int" />
				<DataObjectAttribute name="USER_ID" type="String" />
								
				<SQLTemplate transType="update">
					<SQLQuery>
						UPDATE PROD_BNFT_CSTMZD SET BNFT_HIDE_FLAG = ?,BNFT_LVL_HIDE_FLAG = ?,BNFT_LINE_HIDE_FLAG = ?
						WHERE	BNFT_SYS_ID = ? 
						and BNFT_CMPNT_SYS_ID = ?
						and PROD_SYS_ID = ?
					</SQLQuery>
					<DataObjectAttributeInput index="0" name="BNFT_HIDE_FLAG" />
					<DataObjectAttributeInput index="1" name="BNFT_LVL_HIDE_FLAG" />
					<DataObjectAttributeInput index="2" name="BNFT_LINE_HIDE_FLAG" />
					<DataObjectAttributeInput index="3"	name="BNFT_SYS_ID" />
					<DataObjectAttributeInput index="4"	name="BNFT_CMPNT_SYS_ID" />
					<DataObjectAttributeInput index="5"	name="PROD_SYS_ID" />
				</SQLTemplate>

				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_SYS_ID" />
					<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID" />
					<DataObjectAttributeInput index="2" name="BNFT_SYS_ID" />
					<DataObjectAttributeInput index="3" name="USER_ID" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName="BNFT_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="removeBenefitCustomization" />
				</SQLTemplate>

				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="BNFT_CMPNT_SYS_ID" />
					<DataObjectAttributeInput index="1"
						name="PROD_SYS_ID" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="5"
							dataObjectAttribName="BNFT_HIDE_FLAG" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchVisibleStandardBenefits" />
				</SQLTemplate>
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"
						name="BNFT_CMPNT_SYS_ID" />
					<DataObjectAttributeInput index="1"
						name="PROD_SYS_ID" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="5"
							dataObjectAttribName="BNFT_HIDE_FLAG" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchAllStandardBenefits" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="BNFT_HIDE_FLAG"
						toBOAttb="benefitHideFlag" />
					<Pair DOAttb="BNFT_LVL_HIDE_FLAG" 
						toBOAttb="benefitLevelFlag" />
					<Pair DOAttb="BNFT_LINE_HIDE_FLAG" 
						toBOAttb="benefitLineFlag" />
					<Pair DOAttb="BNFT_SYS_ID"
						toBOAttb="standardBenefitId" />
					<Pair DOAttb="BNFT_CMPNT_SYS_ID"
						toBOAttb="benefitComponentId" />
					<Pair DOAttb="PROD_SYS_ID"
						toBOAttb="productId" />
					
				</DoAttributeToBOAttributeMap>

				<DoAttributeToSCAttributeMap>
					<Pair DOAttb="BNFT_CMPNT_SYS_ID" toSCAttb="benefitComponentId" />
					<Pair DOAttb="PROD_SYS_ID" toSCAttb="productId" />
					<Pair DOAttb="BNFT_SYS_ID" toSCAttb="benefitId" />
					<Pair DOAttb="USER_ID" toSCAttb="userId" />
				</DoAttributeToSCAttributeMap>
			</DataObject>

			<DataObject name="PROD_BNFT_TIER_CSTMZD">
				<DataObjectAttribute name="BNFT_SYS_ID" type="Int" />
				<DataObjectAttribute name="BNFT_HIDE_FLAG" type="String" />
				<DataObjectAttribute name="BNFT_LVL_HIDE_FLAG" type="String" />
				<DataObjectAttribute name="BNFT_LINE_HIDE_FLAG" type="String" />
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" type="Int" />
				<DataObjectAttribute name="PROD_SYS_ID" type="Int" />
					
				<SQLTemplate transType="update">
					<SQLQuery>
						UPDATE PROD_BNFT_TIER_CUSTMZD SET BNFT_HIDE_FLAG = ?
						WHERE	BNFT_SYS_ID = ? 
						and BNFT_CMPNT_SYS_ID = ?
						and PROD_SYS_ID = ?
					</SQLQuery>
					<DataObjectAttributeInput index="0" name="BNFT_HIDE_FLAG" />
					<DataObjectAttributeInput index="1"	name="BNFT_SYS_ID" />
					<DataObjectAttributeInput index="2"	name="BNFT_CMPNT_SYS_ID" />
					<DataObjectAttributeInput index="3"	name="PROD_SYS_ID" />
				</SQLTemplate>

				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="BNFT_HIDE_FLAG"
						toBOAttb="benefitHideFlag" />
					<Pair DOAttb="BNFT_LVL_HIDE_FLAG" 
						toBOAttb="benefitLevelFlag" />
					<Pair DOAttb="BNFT_LINE_HIDE_FLAG" 
						toBOAttb="benefitLineFlag" />
					<Pair DOAttb="BNFT_SYS_ID"
						toBOAttb="standardBenefitId" />
					<Pair DOAttb="BNFT_CMPNT_SYS_ID"
						toBOAttb="benefitComponentId" />
					<Pair DOAttb="PROD_SYS_ID"
						toBOAttb="productId" />
				</DoAttributeToBOAttributeMap>
			</DataObject>
			<DataObject name="PROD_ADMN_OPT_CUSTM">
				<DataObjectAttribute name="QSTN_HIDE_FLAG" type="String" />
				<DataObjectAttribute name="ADMIN_OPTION_HIDE_FLAG" type="String" />
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" type="Int" />
				<DataObjectAttribute name="ENTY_SYS_ID" type="Int" />
				<DataObjectAttribute name="ENTY_TYPE" type="String" />
				<DataObjectAttribute name="BNFT_SYS_ID" type="Int" />
				<SQLTemplate transType="update">
					<SQLQuery>
						UPDATE PROD_ADMN_OPT_CUSTM SET ADMIN_OPTION_HIDE_FLAG =?
						WHERE  PROD_SYS_ID = ? AND BNFT_CMPNT_SYS_ID = ? and 
						ADMIN_LVL_OPT_ASSN_SYS_ID  IN (
						SELECT ADMIN_LVL_OPT_ASSN_SYS_ID FROM BNFT_ADMIN_TO_LVL_ASSN
						WHERE BNFT_DEFN_SYS_ID IN (
						SELECT BNFT_DEFN_SYS_ID FROM BDM_BNFT_DEFN_MSTR WHERE BNFT_SYS_ID =?))

					</SQLQuery>
					<DataObjectAttributeInput index="0"	name="ADMIN_OPTION_HIDE_FLAG" />
					<DataObjectAttributeInput index="1"	name="ENTY_SYS_ID" />
					<DataObjectAttributeInput index="2"	name="BNFT_CMPNT_SYS_ID" />
					<DataObjectAttributeInput index="3"	name="BNFT_SYS_ID" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="QSTN_HIDE_FLAG" toBOAttb="questionsFlag" />
					<Pair DOAttb="ADMIN_OPTION_HIDE_FLAG" toBOAttb="adminOptionFlag" />
					<Pair DOAttb="BNFT_CMPNT_SYS_ID" toBOAttb="benefitComponentId" />
					<Pair DOAttb="ENTY_SYS_ID" toBOAttb="productId" />
					<Pair DOAttb="ENTY_TYPE" toBOAttb="productType" />
					<Pair DOAttb="BNFT_SYS_ID" toBOAttb="standardBenefitId" />
				</DoAttributeToBOAttributeMap>
			</DataObject>	
			<DataObject name="BCM_BNFT_CMPNT_MSTR">
					<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 	type="Int"/>
					<DataObjectAttribute name="BNFT_CMPNT_NM" 	type="String"/>
				<SQLTemplate transType="select">					
						<RSIndexToDOAttributeMap>
						<ResultIndex index="6" dataObjectAttribName ="BNFT_CMPNT_NM"/>
						</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchVisibleStandardBenefits"/>
				</SQLTemplate>
				<SQLTemplate transType="select">					
						<RSIndexToDOAttributeMap>
						<ResultIndex index="6" dataObjectAttribName ="BNFT_CMPNT_NM"/>
						</RSIndexToDOAttributeMap>
					<SearchQueryName name="searchAllStandardBenefits"/>
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
						<Pair DOAttb="BNFT_CMPNT_SYS_ID" 	toBOAttb="benefitComponentId"/>
						<Pair DOAttb="BNFT_CMPNT_NM" 	toBOAttb="benefitCmpntDesc"/>
				</DoAttributeToBOAttributeMap>				
			</DataObject>

		</DataSource>
	</BusinessObjectMetadata>

	<!-- 
		<BusinessObjectMetadata name="com.wellpoint.wpd.common.product.bo.BenefitDefnValueOverride">
		<BusinessAttribute name="productSysId" 				type="Int"	keyAttrib="true"/>
		<BusinessAttribute name="prodStructureSysId" 		type="Int"	keyAttrib="false"/>
		<BusinessAttribute name="componentSysId" 			type="Int"	keyAttrib="true"/>
		<BusinessAttribute name="createdUser" 				type="String"	keyAttrib="false"/>
		<BusinessAttribute name="createdTimestamp" 			type="Date"		keyAttrib="false"/>
		<BusinessAttribute name="lastUpdatedUser" 			type="String"	keyAttrib="false"/>
		<BusinessAttribute name="lastUpdatedTimestamp" 		type="Date"		keyAttrib="false"/>
		
		<DataSource name="prmd" domain="medical">
		<Connection preferred="jndi">
		<url>jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG</url>
		<jndi>java:comp/env/wsbEwpdDS</jndi>
		</Connection>
		<SelectSQLQuery name="abc">
		</SelectSQLQuery>
		<DataObject name="BENEFT_VALUE_OVERRIDE">
		<DataObjectAttribute name="PROD_SYS_ID"   		type="Int"/>
		<DataObjectAttribute name="PROD_STR_SYS_ID"   	type="Int"/>
		<DataObjectAttribute name="BEN_COMP_SYS_ID"   	type="Int"/>
		<DataObjectAttribute name="CREATD_USER_ID" 		type="String"/>
		<DataObjectAttribute name="CREATD_TM_STMP" 		type="Date"/>
		<DataObjectAttribute name="LST_CHG_USR" 		type="String"/>
		<DataObjectAttribute name="LST_CHG_TMS" 		type="Date"/>
		<SQLTemplate transType="insert">
		<SQLQuery>
		INSERT ALL
		INTO 			BNFT_LINE_OVRD_VAL   (ENTY_TYPE, BVAL_BNFT_VAL_ENTT_ID,BLN_BNFT_LINE_ID, BVAL_BNFT_VAL, CREATD_USER_ID, CREATD_TM_STMP, LST_CHG_USR, LST_CHG_TMS)
		VALUES('product', PROD_SYS_ID, BLN_BNFT_LINE_ID, BVAL_BNFT_VAL, ?, ?, ?, ?)
		SELECT  unique G.*,i.PROD_SYS_ID 
		FROM   	BNFT_CMPNT_HRCHY_ASSN B, BDM_BNFT_DEFN_MSTR D, BLVL_BNFT_LVL E, BLN_BNFT_LINE F, BNFT_LINE_OVRD_VAL G, PROD_MSTR i
		WHERE  	B.BNFT_SYS_ID = D.BNFT_SYS_ID
		AND  D.BNFT_DEFN_SYS_ID = E.BNFT_DEFN_SYS_ID
		AND F.BLVL_BNFT_LVL_ID = E.BLVL_BNFT_LVL_ID
		AND G.BLN_BNFT_LINE_ID = F.BLN_BNFT_LINE_ID
		AND G.ENTY_TYPE = 'ProdStructure'
		AND G.BVAL_BNFT_VAL_ENTT_ID = i.PROD_STRCTR_SYS_ID
		and i.PROD_SYS_ID = ?
		AND B.BNFT_CMPNT_SYS_ID = ?
		</SQLQuery>
		<DataObjectAttributeInput index="4" name="PROD_SYS_ID"/>
		<DataObjectAttributeInput index="5" name="BEN_COMP_SYS_ID"/>
		<DataObjectAttributeInput index="0" name="CREATD_USER_ID"/>
		<DataObjectAttributeInput index="2" name="LST_CHG_USR"/>
		<DataObjectAttributeInput index="1" name="CREATD_TM_STMP"/>
		<DataObjectAttributeInput index="3" name="LST_CHG_TMS"/>
		</SQLTemplate>
		<SQLTemplate transType="delete">
		<SQLQuery>
		delete from BNFT_LINE_OVRD_VAL where ENTY_TYPE = 'product' and BVAL_BNFT_VAL_ENTT_ID = ?
		</SQLQuery>
		<DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
		</SQLTemplate>
		
		<DoAttributeToBOAttributeMap>
		<Pair DOAttb="PROD_SYS_ID"	toBOAttb="productSysId"/>
		<Pair DOAttb="PROD_STR_SYS_ID"	toBOAttb="prodStructureSysId"/>
		<Pair DOAttb="BEN_COMP_SYS_ID"	toBOAttb="componentSysId"/>
		<Pair DOAttb="CREATD_USER_ID"	toBOAttb="createdUser"/>
		<Pair DOAttb="CREATD_TM_STMP"	toBOAttb="createdTimestamp"/>
		<Pair DOAttb="LST_CHG_USR"	toBOAttb="lastUpdatedUser"/>
		<Pair DOAttb="LST_CHG_TMS"	toBOAttb="lastUpdatedTimestamp"/>
		</DoAttributeToBOAttributeMap>
		</DataObject>
		</DataSource>
		</BusinessObjectMetadata>
		
		<BusinessObjectMetadata name="com.wellpoint.wpd.common.product.bo.BenefitAdminOverridenValue">
		<BusinessAttribute name="productSysId" 				type="Int"	keyAttrib="true"/>
		<BusinessAttribute name="componentSysId" 			type="Int"	keyAttrib="false"/>
		<BusinessAttribute name="createdUser" 				type="String"	keyAttrib="false"/>
		<BusinessAttribute name="createdTimestamp" 			type="Date"		keyAttrib="false"/>
		<BusinessAttribute name="lastUpdatedUser" 			type="String"	keyAttrib="false"/>
		<BusinessAttribute name="lastUpdatedTimestamp" 		type="Date"		keyAttrib="false"/>
		
		<DataSource name="prmd" domain="medical">
		<Connection preferred="jndi">
		<url>jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG</url>
		<jndi>java:comp/env/wsbEwpdDS</jndi>
		</Connection>
		<SelectSQLQuery name="abc">
		</SelectSQLQuery>
		<DataObject name="BENEFT_VALUE_OVERRIDE">
		<DataObjectAttribute name="PROD_SYS_ID"   		type="Int"/>
		<DataObjectAttribute name="BEN_COMP_SYS_ID"   	type="Int"/>
		<DataObjectAttribute name="CREATD_USER_ID" 		type="String"/>
		<DataObjectAttribute name="CREATD_TM_STMP" 		type="Date"/>
		<DataObjectAttribute name="LST_CHG_USR" 		type="String"/>
		<DataObjectAttribute name="LST_CHG_TMS" 		type="Date"/>
		<SQLTemplate transType="insert">
		<SQLQuery>
		INSERT ALL
		INTO ANSWR_OVRD_INFO ( ENTY_TYPE, ENTY_SYS_ID, ADMIN_LVL_OPT_ASSN_SYS_ID, ADQM_ADMN_QSTN_NBR, OVRD_ANSWR_ID, LST_CHG_USR, LST_CHG_TMS, CREATD_USER_ID, CREATD_TM_STMP)
		VALUES('product', PROD_SYS_ID, ADMIN_LVL_OPT_ASSN_SYS_ID, ADQM_ADMN_QSTN_NBR, OVRD_ANSWR_ID, ?, ?, ?, ?)
		select unique g.*, PROD_SYS_ID
		from BNFT_CMPNT_HRCHY_ASSN b ,BDM_BNFT_DEFN_MSTR c ,
		BNFT_ADMNSTRN_ASSN d ,BNFT_ADMIN_TO_LVL_ASSN e,BNFT_ADMIN_OPT_QSTN_ASSN f, ANSWR_OVRD_INFO g, PROD_MSTR h
		where 
		b.BNFT_SYS_ID = c.BNFT_SYS_ID and
		c.BNFT_DEFN_SYS_ID = d.BNFT_DEFN_SYS_ID and
		d.BNFT_ADMIN_SYS_ID = e.BNFT_ADMIN_SYS_ID and
		e.ADMIN_LVL_OPT_ASSN_SYS_ID = f.ADMIN_LVL_OPT_ASSN_SYS_ID and 
		f.ADMIN_LVL_OPT_ASSN_SYS_ID = g.ADMIN_LVL_OPT_ASSN_SYS_ID and
		g.ENTY_SYS_ID = h.PROD_STRCTR_SYS_ID and
		g.ENTY_TYPE = 'ProdStructure' and
		h.PROD_SYS_ID = ? and
		BNFT_CMPNT_SYS_ID = ?
		</SQLQuery>
		<DataObjectAttributeInput index="4" name="PROD_SYS_ID"/>
		<DataObjectAttributeInput index="5" name="BEN_COMP_SYS_ID"/>
		<DataObjectAttributeInput index="2" name="CREATD_USER_ID"/>
		<DataObjectAttributeInput index="0" name="LST_CHG_USR"/>
		<DataObjectAttributeInput index="3" name="CREATD_TM_STMP"/>
		<DataObjectAttributeInput index="1" name="LST_CHG_TMS"/>
		</SQLTemplate>
		<SQLTemplate transType="delete">
		<SQLQuery>
		delete from ANSWR_OVRD_INFO where ENTY_TYPE = 'product' and ENTY_SYS_ID = ?
		</SQLQuery>
		<DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
		</SQLTemplate>
		<DoAttributeToBOAttributeMap>
		<Pair DOAttb="PROD_SYS_ID"	toBOAttb="productSysId"/>
		<Pair DOAttb="BEN_COMP_SYS_ID"	toBOAttb="componentSysId"/>
		<Pair DOAttb="CREATD_USER_ID"	toBOAttb="createdUser"/>
		<Pair DOAttb="CREATD_TM_STMP"	toBOAttb="createdTimestamp"/>
		<Pair DOAttb="LST_CHG_USR"	toBOAttb="lastUpdatedUser"/>
		<Pair DOAttb="LST_CHG_TMS"	toBOAttb="lastUpdatedTimestamp"/>
		</DoAttributeToBOAttributeMap>
		</DataObject>
		</DataSource>
		</BusinessObjectMetadata>
	-->

	<BusinessObjectMetadata name="com.wellpoint.wpd.common.product.bo.ProductAdminBO">
		<BusinessAttribute name="productKey" 			type="Int"			keyAttrib="true" />
		<BusinessAttribute name="adminKey" 				type="Int"			keyAttrib="true" />
		<BusinessAttribute name="adminId" 				type="String"		keyAttrib="false" />
		<BusinessAttribute name="adminVersion" 			type="Int"			keyAttrib="false" />
		<BusinessAttribute name="adminDesc" 			type="String"		keyAttrib="false" />
		<BusinessAttribute name="sequence" 				type="Int"			keyAttrib="false" />
		<BusinessAttribute name="createdUser" 			type="String"		keyAttrib="false" />
		<BusinessAttribute name="lastUpdatedUser" 		type="String"		keyAttrib="false" />
		<BusinessAttribute name="createdTimestamp" 		type="Date"			keyAttrib="false" />
		<BusinessAttribute name="lastUpdatedTimestamp" 	type="Date"			keyAttrib="false" />

		<SearchCriteria name="searchAdminOptions">
			<SearchCriteriaAttribute name="productKey"   type="Int" />
			<SearchCriteriaAttribute name="adminKey"   type="Int" />
			<SearchCriteriaAttribute name="lastUpdatedUser"   type="String" />
			<SearchCriteriaAttribute name="reference"   type="String" />
			<SearchCriteriaAttribute name="questionDesc"   type="String" />
		</SearchCriteria>

		<DataSource name="prmd" domain="medical">
			<Connection preferred="jndi">
				<url>jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>

			<SelectSQLQuery>
				select ADMN_OPT_SYS_ID,ENTY_SYS_ID from ENTY_ADMN_OPT_ASSN 
			</SelectSQLQuery>

			<SelectSQLQuery name="getAdmin">
				select 	b.ADMIN_OPT_SYS_ID, b.ADMIN_OPT_DESC_TXT, p.ENTY_SYS_ID, p.SQNC_NBR
				from 	ADMIN_OPT_MSTR b , ENTY_ADMN_OPT_ASSN p 
				where 	p.ADMN_OPT_SYS_ID  = b.ADMIN_OPT_SYS_ID 
				and		p.ENTY_SYS_ID =  {0} 
				and     p.ENTY_TYPE = 'PRODUCT'
				order by p.SQNC_NBR
				
			</SelectSQLQuery>
			<SelectSQLQuery name="attachAdminOption">
				Call PRD_AttachAdminOptn({0}, {1}, {2}, {3}, {4}, {5})				
			</SelectSQLQuery>
			<SelectSQLQuery name="retrieveAllLatestAdminOptons">
				SELECT a.ADMIN_OPT_SYS_ID, adminOpt.ADMIN_OPT_DESC_TXT, adminOpt.maxver from
                ADMIN_OPT_MSTR a,
                (SELECT  b.ADMIN_OPT_DESC_TXT, max(b.ADMIN_OPT_VRSN_NBR) maxver FROM ADMIN_OPT_MSTR b
                WHERE ADMIN_OPT_STTS_CD = 'PUBLISHED' AND ADMIN_OPT_DESC_TXT
                NOT IN ( SELECT d.ADMIN_OPT_DESC_TXT  FROM ENTY_ADMN_OPT_ASSN c,ADMIN_OPT_MSTR d  where d.ADMIN_OPT_SYS_ID = c.ADMN_OPT_SYS_ID and c.ENTY_SYS_ID= {0} AND c.ENTY_TYPE = 'PRODUCT') 
                and b.TERM_CD is null and b.QLFR_CD is null
                GROUP BY  b.ADMIN_OPT_DESC_TXT ORDER BY ADMIN_OPT_DESC_TXT) adminOpt
				where adminOpt.ADMIN_OPT_DESC_TXT = a.ADMIN_OPT_DESC_TXT and adminOpt.maxver = a.ADMIN_OPT_VRSN_NBR 
				and a.ADMIN_OPT_STTS_CD = 'PUBLISHED' ORDER BY UPPER(ADMIN_OPT_DESC_TXT)
			</SelectSQLQuery>
            <SelectSQLQuery name="refreshQuestionnaire">
				Call PRD_RefreshQuestionare({0},{1},{2})
			</SelectSQLQuery>
			<DataObject name="ENTY_ADMIN_OPT_ASSN">
				<DataObjectAttribute name="ENTY_SYS_ID" 		type="Int" />
				<DataObjectAttribute name="ADMN_OPT_SYS_ID" 	type="Int" />
				<DataObjectAttribute name="ENTY_TYPE"   		type="String" />
				<DataObjectAttribute name="SQNC_NBR" 			type="Int" />
				<DataObjectAttribute name="CREATD_USER_ID"		type="String" />
				<DataObjectAttribute name="LST_CHG_USR" 		type="String" />
				<DataObjectAttribute name="CREATD_TM_STMP" 		type="TimeStamp" />
				<DataObjectAttribute name="LST_CHG_TMS" 		type="TimeStamp" />
				<DataObjectAttribute name="ADMIN_OPT_DESC_TXT" 		type="String" />
				<DataObjectAttribute name="ADMIN_OPT_VRSN_NBR"		type="Int"/>
				<DataObjectAttribute name="ADMIN_ID"			type="String"/>
				
                <SQLTemplate transType="update">
					<SQLQuery>						
						UPDATE ENTY_ADMN_OPT_ASSN SET 
						SQNC_NBR = ?, LST_CHG_USR = ?, LST_CHG_TMS= ? WHERE
						ENTY_SYS_ID = ? AND ADMN_OPT_SYS_ID=? AND ENTY_TYPE='PRODUCT'
					</SQLQuery>
					<DataObjectAttributeInput index="0" name="SQNC_NBR" />
					<DataObjectAttributeInput index="1" name="LST_CHG_USR" />
					<DataObjectAttributeInput index="2" name="LST_CHG_TMS" />
					<DataObjectAttributeInput index="3" name="ENTY_SYS_ID" />
					<DataObjectAttributeInput index="4" name="ADMN_OPT_SYS_ID" />
				</SQLTemplate>

				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM ENTY_ADMN_OPT_ASSN WHERE ADMN_OPT_SYS_ID = ? and ENTY_SYS_ID=? AND ENTY_TYPE = 'PRODUCT'
					</SQLQuery>
						<DataObjectAttributeInput index="0" name="ADMN_OPT_SYS_ID" />
						<DataObjectAttributeInput index="1" name="ENTY_SYS_ID" />
				</SQLTemplate>

				<SQLTemplate transType="select">					
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName="ADMN_OPT_SYS_ID"></ResultIndex>
						<ResultIndex index="1" dataObjectAttribName="ENTY_SYS_ID"></ResultIndex>	
					</RSIndexToDOAttributeMap>
				</SQLTemplate>

				<SQLTemplate transType="select">					
					<DataObjectAttributeInput index="0" name="ENTY_SYS_ID" />	
					<DataObjectAttributeInput index="1" name="ADMN_OPT_SYS_ID" />	
					<DataObjectAttributeInput index="2" name="LST_CHG_USR" />	
					<DataObjectAttributeInput index="3" name="ADMIN_ID" />	
					<DataObjectAttributeInput index="4" name="ADMIN_OPT_DESC_TXT" />	
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName="ADMN_OPT_SYS_ID"></ResultIndex>	
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="attachAdminOption" />
				</SQLTemplate>

				<SQLTemplate transType="select">					
					<DataObjectAttributeInput index="0" name="ENTY_SYS_ID" />	
					<DataObjectAttributeInput index="1" name="LST_CHG_USR" />	
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName="ADMN_OPT_SYS_ID"></ResultIndex>	
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="refreshQuestionnaire" />
				</SQLTemplate>

				<SQLTemplate transType="select"> 
					<DataObjectAttributeInput index="0" 			name="ENTY_SYS_ID" />	
						<RSIndexToDOAttributeMap>
							<ResultIndex index="0" dataObjectAttribName="ADMN_OPT_SYS_ID"></ResultIndex>
							<ResultIndex index="1" dataObjectAttribName="ADMIN_OPT_DESC_TXT"></ResultIndex>	
							<ResultIndex index="2" dataObjectAttribName="ENTY_SYS_ID"></ResultIndex>
							<ResultIndex index="3" dataObjectAttribName="SQNC_NBR"></ResultIndex>
						</RSIndexToDOAttributeMap>				
					<SearchQueryName name="getAdmin" />
				</SQLTemplate>
				
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" 			name="ENTY_SYS_ID" />
						<RSIndexToDOAttributeMap>
							<ResultIndex index="0" dataObjectAttribName="ADMN_OPT_SYS_ID"></ResultIndex>
							<ResultIndex index="1" dataObjectAttribName="ADMIN_OPT_DESC_TXT"></ResultIndex>
							<ResultIndex index="2" dataObjectAttribName="ADMIN_OPT_VRSN_NBR"></ResultIndex>
						</RSIndexToDOAttributeMap>
					<SearchQueryName name="retrieveAllLatestAdminOptons" />
				</SQLTemplate>

				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="ENTY_SYS_ID" 		toBOAttb="productKey" />
					<Pair DOAttb="ADMN_OPT_SYS_ID" toBOAttb="adminKey" />
					<Pair DOAttb="SQNC_NBR" 		toBOAttb="sequence" />					
					<Pair DOAttb="CREATD_USER_ID" 	toBOAttb="createdUser" />
					<Pair DOAttb="LST_CHG_USR" 		toBOAttb="lastUpdatedUser" />
					<Pair DOAttb="CREATD_TM_STMP" 	toBOAttb="createdTimestamp" />
					<Pair DOAttb="LST_CHG_TMS" 		toBOAttb="lastUpdatedTimestamp" />
					<Pair DOAttb="ADMIN_OPT_DESC_TXT" toBOAttb="adminDesc"></Pair>
					<Pair DOAttb="ADMIN_OPT_VRSN_NBR" toBOAttb="adminVersion"></Pair>
				</DoAttributeToBOAttributeMap>

				<DoAttributeToSCAttributeMap>					
					<Pair DOAttb="ENTY_SYS_ID" 			toSCAttb="productKey" />
					<Pair DOAttb="ADMN_OPT_SYS_ID" 		toSCAttb="adminKey" />
					<Pair DOAttb="LST_CHG_USR" 			toSCAttb="lastUpdatedUser" />
					<Pair DOAttb="ADMIN_ID" 			toSCAttb="reference" />
					<Pair DOAttb="ADMIN_OPT_DESC_TXT" 	toSCAttb="questionDesc" />
				</DoAttributeToSCAttributeMap>     		
			</DataObject>

			<DataObject name="ADMIN_QSTN_ANSWR_OVRD">
				<DataObjectAttribute name="ENTY_SYS_ID" 		type="Int" />
				<DataObjectAttribute name="ADMN_OPT_SYS_ID" 	type="Int" />
				<DataObjectAttribute name="ENTY_TYPE"   		type="String" />
				<DataObjectAttribute name="CREATD_USER_ID"		type="String" />
				<DataObjectAttribute name="LST_CHG_USR" 		type="String" />
				<DataObjectAttribute name="CREATD_TM_STMP" 		type="TimeStamp" />
				<DataObjectAttribute name="LST_CHG_TMS" 		type="TimeStamp" />

				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM 
							PROD_ADMIN_QSTN_ANSWR_OVRD 
						WHERE ADMIN_OPT_SYS_ID = ?  AND PROD_SYS_ID = ?
					</SQLQuery>
						<DataObjectAttributeInput index="0" name="ADMN_OPT_SYS_ID" />
						<DataObjectAttributeInput index="1" name="ENTY_SYS_ID" />
				</SQLTemplate>

				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="ENTY_SYS_ID" 		toBOAttb="productKey" />
					<Pair DOAttb="ADMN_OPT_SYS_ID" 	toBOAttb="adminKey" />
					<Pair DOAttb="ENTY_TYPE" 		toBOAttb="adminDesc" />					
					<Pair DOAttb="CREATD_USER_ID" 	toBOAttb="createdUser" />
					<Pair DOAttb="LST_CHG_USR" 		toBOAttb="lastUpdatedUser" />
					<Pair DOAttb="CREATD_TM_STMP" 	toBOAttb="createdTimestamp" />
					<Pair DOAttb="LST_CHG_TMS" 		toBOAttb="lastUpdatedTimestamp" />
				</DoAttributeToBOAttributeMap>
			</DataObject> 
			
		</DataSource>
	</BusinessObjectMetadata>


 <BusinessObjectMetadata name="com.wellpoint.wpd.common.product.bo.EntityProductAdministration">
  <BusinessAttribute name="entityId"        	type="Int"   	keyAttrib="true"/>
  <BusinessAttribute name="entityType"      	type="String"  	keyAttrib="false"/>
  <BusinessAttribute name="questionNumber"  	type="Int"  	keyAttrib="true"/>
  <BusinessAttribute name="questionDesc"    	type="String"  	keyAttrib="false"/>
  <BusinessAttribute name="dataTypeId"    	    type="String"  	keyAttrib="false"/>
  <BusinessAttribute name="dataTypeDesc"    	type="String"  	keyAttrib="false"/>
  <BusinessAttribute name="answerId"     		type="Int"   	keyAttrib="true"/>
  <BusinessAttribute name="answerDesc"  		type="String"  	keyAttrib="false"/>
  <BusinessAttribute name="answers"     		type="List"  	keyAttrib="false"/>
  <BusinessAttribute name="answerIds"     	    type="List"  	keyAttrib="false"/>
  <BusinessAttribute name="referenceId"     	type="String"  	keyAttrib="false"/>
  <BusinessAttribute name="referenceDesc"     	type="String"  	keyAttrib="false"/>
  <BusinessAttribute name="sequenceId"     	    type="Int"  	keyAttrib="false"/>
  <BusinessAttribute name="adminOptSysId"     	    type="Int"  	keyAttrib="false"/>
  <BusinessAttribute name="dataTypeLegend"    	type="String"  	keyAttrib="false"/>
  <BusinessAttribute name="lastUpdatedUser"    	type="String"  	keyAttrib="false"/>
  <BusinessAttribute name="lastUpdatedTimeStamp"    	type="Date"  	keyAttrib="false"/>
  <BusinessAttribute name="possibleAnsId"     		type="String"   	keyAttrib="false"/>
  <BusinessAttribute name="questionnaireId"     		type="Int"   	keyAttrib="false"/>
  <BusinessAttribute name="parentQuestionnaireId"        type="Int"  keyAttrib="false"/>
  <BusinessAttribute name="selectedAnswerid"             type="Int"  keyAttrib="false"/>
   <BusinessAttribute name="notesExists"             type="String"  keyAttrib="false"/>
   <BusinessAttribute name="validDomainToAttach"			type="String"	keyAttrib="false"/>

  <SearchCriteria>
   <SearchCriteriaAttribute name="entityType"   type="String"/>
   <SearchCriteriaAttribute name="entitySysId"  type="Int"/>
   <SearchCriteriaAttribute name="adminOptSysId" type="Int"/>
   <SearchCriteriaAttribute name="selectedAnswerid" type="Int"/>
   <SearchCriteriaAttribute name="questionnaireId" type="Int"/> 
	<SearchCriteriaAttribute name="primaryEntityId" type="Int"/>
  </SearchCriteria>
  <DataSource name="prmd" domain="medical">
   <Connection preferred="jndi">
    <url>jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG</url>
    <jndi>java:comp/env/wsbEwpdDS</jndi>
   </Connection>
   <SelectSQLQuery name="locateEntityProductAdministration">
	select c.ADQM_ADMN_QSTN_NBR,a.OVRD_ANSWR_ID,c.ADQM_ADMN_QSTN_DESC,e.CD_DESC_TXT ,e.PRMRY_CD,
	f.PSBL_ANSWR,a.QSTNR_HRCHY_SYS_ID ,b.PRNT_QSTNR_HRCHY_SYS_ID,a.PROD_SYS_ID ENTY_SYS_ID,a.ADMIN_OPT_SYS_ID,
	case (select 'Y' from note_domain_ovrd_val 
				  			where prmry_enty_type='ATTACHPRODUCT' and prmry_enty_id= {0}  
                and adqm_admn_qstn_nbr=b.ADQM_ADMN_QSTN_NBR and scndry_enty_id={1} and scndry_enty_type='ATTACHADMNQUEST')
                 WHEN 'Y'
				             THEN 'Y'
                 ELSE 'N' 
                END AS NOTE_EXIST,
                DECODE((SELECT COUNT(*) CNT FROM QSTN_DOMN_ASSN WHERE DOMN_CD  IN ('INFO-CC','INFO-SS','C-CNFG','C-MNUL') 
					and ADQM_ADMN_QSTN_NBR = b.ADQM_ADMN_QSTN_NBR), 0, 'N','Y') VALID_DOMAIN 	
	From PROD_ADMIN_QSTN_ANSWR_OVRD a, QSTNR_MSTR b, ADQM_ADMN_QSTN_MSTR  c ,item e ,PSBL_ANSWR f 
	where a.PROD_SYS_ID ={0} and a.ADMIN_OPT_SYS_ID ={1} and b.ADMIN_OPT_SYS_ID = a.ADMIN_OPT_SYS_ID and
	a.QSTNR_HRCHY_SYS_ID = b.QSTNR_HRCHY_SYS_ID and b.ADQM_ADMN_QSTN_NBR = c.ADQM_ADMN_QSTN_NBR and f.PSBL_ANSWR_ID = a.OVRD_ANSWR_ID 
	and b.RFRNC_ID = e.PRMRY_CD(+)
	and e.CTLG_ID (+)= 1938  order by b.SQNC_NBR
 </SelectSQLQuery>

	   <SelectSQLQuery name="getChildQuestionnaire">
		SELECT  A.QSTNR_HRCHY_SYS_ID,A.ADQM_ADMN_QSTN_NBR,A.PRNT_QSTNR_HRCHY_SYS_ID,C.PSBL_ANSWR_ID,
			B.ADQM_ADMN_QSTN_DESC,C.PSBL_ANSWR,D.CD_DESC_TXT,DECODE((SELECT COUNT(*) CNT FROM NOTE_DOMAIN_OVRD_VAL WHERE  
					PRMRY_ENTY_ID = {4} AND PRMRY_ENTY_TYPE = 'ATTACHPRODUCT' 
					AND SCNDRY_ENTY_ID ={3} 
					and SCNDRY_ENTY_TYPE = 'ATTACHADMNQUEST' and ADQM_ADMN_QSTN_NBR=A.ADQM_ADMN_QSTN_NBR), 0, 'N','Y') NOTE_EXISTS ,
					DECODE((SELECT COUNT(*) CNT FROM QSTN_DOMN_ASSN WHERE DOMN_CD  IN ('INFO-CC','INFO-SS','C-CNFG','C-MNUL') 
					and ADQM_ADMN_QSTN_NBR = b.ADQM_ADMN_QSTN_NBR), 0, 'N','Y') VALID_DOMAIN 
			FROM 	QSTNR_MSTR A,ADQM_ADMN_QSTN_MSTR B,PSBL_ANSWR C,ITEM D,PROD_MSTR E
			WHERE	B.ADQM_ADMN_QSTN_NBR = A.ADQM_ADMN_QSTN_NBR and 
		    C.ADQM_ADMN_QSTN_NBR = A.ADQM_ADMN_QSTN_NBR and PRNT_ANSWR_ID ={0} and  PRNT_QSTNR_HRCHY_SYS_ID ={1} and
			upper( C.PSBL_ANSWR) ='NOT ANSWERED' and A.RFRNC_ID =  D.PRMRY_CD(+) and D.CTLG_ID(+) =1938 and
			E.PROD_PARNT_SYS_ID = {2} and 
			IsDomainValid('product',E.PROD_PARNT_SYS_ID, 'QUESTION', QSTNR_HRCHY_SYS_ID)='T' 
			ORDER BY  A.SQNC_NBR
		</SelectSQLQuery>

   <DataObject name="ADMIN_QSTN_ANSWR_OVRD">
       <DataObjectAttribute name="ENTY_TYPE"    type="String"/>
       <DataObjectAttribute name="ENTY_SYS_ID"    type="Int"/>
	   <DataObjectAttribute name="ADMIN_OPT_SYS_ID"    type="Int"/>
       <DataObjectAttribute name="ADQM_ADMN_QSTN_NBR"    type="Int"/>
       <DataObjectAttribute name="OVRD_ANSWR_ID"    type="Int"/>
       <DataObjectAttribute name="LST_CHG_USR"    type="String"/>
       <DataObjectAttribute name="LST_CHG_TMS"    type="TimeStamp"/>
       <DataObjectAttribute name="CREATD_USER_ID"    type="String"/>
       <DataObjectAttribute name="CREATD_TM_STMP"    type="TimeStamp"/>

       	<DataObjectAttribute name="ADQM_ADMN_QSTN_DESC"    type="String"/>
	   	<DataObjectAttribute name="DTYP_DATA_TYPE_NAME"    type="String"/>
		<DataObjectAttribute name="DTYP_DATA_TYPE_LGND"    type="String"/>
		<DataObjectAttribute name="DTYP_DATA_TYPE_ID"      type="Int"/>
		<DataObjectAttribute name="CD_DESC_TXT"    		   type="String"/>
		<DataObjectAttribute name="REF_CODE"    		   type="String"/>
		<DataObjectAttribute name="PSBL_ANSWR"    		   type="String"/>
		<DataObjectAttribute name="QSTNR_HRCHY_SYS_ID"    		   type="Int"/>
		<DataObjectAttribute name="PRNT_QSTNR_HRCHY_SYS_ID"    		   type="Int"/>
		<DataObjectAttribute name="NOTE_EXIST"    		   type="String"/>
		 <DataObjectAttribute name="VALID_DOMAIN" 					type="String"/>
		<DataObjectAttribute name="PRIMARY_ENTITY_ID" 					type="Int"/>
 

    <SQLTemplate transType="select">
		<DataObjectAttributeInput index="0" name="ENTY_SYS_ID"/>
		<DataObjectAttributeInput index="1" name="ADMIN_OPT_SYS_ID"/>     	

           <RSIndexToDOAttributeMap>
               <ResultIndex index="0" dataObjectAttribName ="ADQM_ADMN_QSTN_NBR"/>
				<ResultIndex index="1" dataObjectAttribName ="OVRD_ANSWR_ID"/>
				<ResultIndex index="2" dataObjectAttribName ="ADQM_ADMN_QSTN_DESC"/>
				<ResultIndex index="3" dataObjectAttribName ="CD_DESC_TXT"/>
				<ResultIndex index="4" dataObjectAttribName ="REF_CODE"/>
			  	<ResultIndex index="5" dataObjectAttribName ="PSBL_ANSWR"/>
				<ResultIndex index="6" dataObjectAttribName ="QSTNR_HRCHY_SYS_ID"/>
				<ResultIndex index="7" dataObjectAttribName ="PRNT_QSTNR_HRCHY_SYS_ID"/>
				<ResultIndex index="8" dataObjectAttribName ="ENTY_SYS_ID"/>
				<ResultIndex index="9" dataObjectAttribName ="ADMIN_OPT_SYS_ID"/>
				<ResultIndex index="10" dataObjectAttribName ="NOTE_EXIST"/>
				<ResultIndex index="11" dataObjectAttribName ="VALID_DOMAIN"/>

           </RSIndexToDOAttributeMap>
     <SearchQueryName name="locateEntityProductAdministration"/>
       </SQLTemplate>
	
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="OVRD_ANSWR_ID"/>
					<DataObjectAttributeInput index="1" name="QSTNR_HRCHY_SYS_ID"/>
					<DataObjectAttributeInput index="2" name="ENTY_SYS_ID"/>
					<DataObjectAttributeInput index="3" name="ADMIN_OPT_SYS_ID"/>
					<DataObjectAttributeInput index="4" name="PRIMARY_ENTITY_ID"/>
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName ="QSTNR_HRCHY_SYS_ID"/>
						<ResultIndex index="1" dataObjectAttribName ="ADQM_ADMN_QSTN_NBR"/>
						<ResultIndex index="2" dataObjectAttribName ="PRNT_QSTNR_HRCHY_SYS_ID"/>
						<ResultIndex index="3" dataObjectAttribName ="OVRD_ANSWR_ID"/>
						<ResultIndex index="4" dataObjectAttribName ="ADQM_ADMN_QSTN_DESC"/>
						<ResultIndex index="5" dataObjectAttribName ="PSBL_ANSWR"/>
						<ResultIndex index="6" dataObjectAttribName ="CD_DESC_TXT"/>
						<ResultIndex index="7" dataObjectAttribName ="NOTE_EXIST"/>
						<ResultIndex index="8" dataObjectAttribName ="VALID_DOMAIN"/>
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getChildQuestionnaire"/>
				</SQLTemplate>

       <SQLTemplate transType="update">
           <SQLQuery>
               UPDATE ADMIN_QSTN_ANSWR_OVRD SET OVRD_ANSWR_ID = ?,LST_CHG_USR = ?,LST_CHG_TMS =?
               WHERE ENTY_TYPE = ? AND ENTY_SYS_ID = ? AND ADQM_ADMN_QSTN_NBR = ? AND ADMIN_OPT_SYS_ID = ?
           </SQLQuery>
           <DataObjectAttributeInput index="0" name="OVRD_ANSWR_ID"/>
		   <DataObjectAttributeInput index="1" name="LST_CHG_USR"/>
		   <DataObjectAttributeInput index="2" name="LST_CHG_TMS"/>
 	       <DataObjectAttributeInput index="3" name="ENTY_TYPE"/>
           <DataObjectAttributeInput index="4" name="ENTY_SYS_ID"/>
           <DataObjectAttributeInput index="5" name="ADQM_ADMN_QSTN_NBR"/>
		   <DataObjectAttributeInput index="6" name="ADMIN_OPT_SYS_ID"/>
       </SQLTemplate>
   
       <DoAttributeToBOAttributeMap>
           <Pair DOAttb="ENTY_TYPE"    			toBOAttb="entityType"/>
           <Pair DOAttb="ENTY_SYS_ID"    		toBOAttb="entityId"/>
           <Pair DOAttb="ADQM_ADMN_QSTN_NBR"     toBOAttb="questionNumber"/>
           <Pair DOAttb="OVRD_ANSWR_ID"    		 toBOAttb="selectedAnswerid"/>
	       <Pair DOAttb="ADQM_ADMN_QSTN_DESC"    toBOAttb="questionDesc"/>
	       <Pair DOAttb="DTYP_DATA_TYPE_NAME"    toBOAttb="dataTypeDesc"/>
		   <Pair DOAttb="DTYP_DATA_TYPE_LGND"    toBOAttb="dataTypeLegend"/>
		   <Pair DOAttb="CD_DESC_TXT"    		 toBOAttb="referenceDesc"/>
		   <Pair DOAttb="REF_CODE"    			toBOAttb="referenceId"/>
		   <Pair DOAttb="ADMIN_OPT_SYS_ID"      toBOAttb="adminOptSysId"/>
			<Pair DOAttb="LST_CHG_USR"      toBOAttb="lastUpdatedUser"/>
			<Pair DOAttb="LST_CHG_TMS"      toBOAttb="lastUpdatedTimeStamp"/>

			<Pair DOAttb="PSBL_ANSWR"      toBOAttb="possibleAnsId"/>
			<Pair DOAttb="QSTNR_HRCHY_SYS_ID"      toBOAttb="questionnaireId"/>
  			<Pair DOAttb="PRNT_QSTNR_HRCHY_SYS_ID"      toBOAttb="parentQuestionnaireId"/>
  			<Pair DOAttb="NOTE_EXIST"      toBOAttb="notesExists"/>
   		   <Pair DOAttb="VALID_DOMAIN"    toBOAttb="validDomainToAttach"/>


   		   

       </DoAttributeToBOAttributeMap>
   
       <DoAttributeToSCAttributeMap>
           <Pair DOAttb="ENTY_TYPE"    toSCAttb="entityType"/>
           <Pair DOAttb="ENTY_SYS_ID"    toSCAttb="entitySysId"/>
	     <Pair DOAttb="ADMIN_OPT_SYS_ID"    toSCAttb="adminOptSysId"/>
	     <Pair DOAttb="OVRD_ANSWR_ID"    toSCAttb="selectedAnswerid"/>
	     <Pair DOAttb="QSTNR_HRCHY_SYS_ID"    toSCAttb="questionnaireId"/>
		 <Pair DOAttb="PRIMARY_ENTITY_ID"    toSCAttb="primaryEntityId"/>
	  </DoAttributeToSCAttributeMap>
   
   </DataObject>
  </DataSource>
 </BusinessObjectMetadata>

	<BusinessObjectMetadata	name="com.wellpoint.wpd.common.product.bo.ProductRuleBO">
		<BusinessAttribute name="flag" 				    type="String"		keyAttrib="true" />
		<BusinessAttribute name="ruleCode" 				type="String"		keyAttrib="true" />
		<BusinessAttribute name="productRuleSysID" 		type="Int"			keyAttrib="false" />
		<BusinessAttribute name="ruleDescription"		type="String"		keyAttrib="false" />
		<BusinessAttribute name="providerArrangement"	type="String"		keyAttrib="false" />
		<BusinessAttribute name="groupIndicator"		type="String"		keyAttrib="false" />
		<BusinessAttribute name="ruleParamType"		    type="String"		keyAttrib="false" />
		<BusinessAttribute name="ruleParamId"		    type="String"		keyAttrib="false" />
		<BusinessAttribute name="ruleParamCode"		    type="String"		keyAttrib="false" />

		<SearchCriteria name="searchCriteria">			
			<SearchCriteriaAttribute 	name="flag" 	type="String" />
			<SearchCriteriaAttribute 	name="ruleType" type="String" />
		</SearchCriteria>

		<DataSource name="prmd" domain="medical">
			<Connection preferred="jndi">
				<url>jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>

			<SelectSQLQuery name="ruleType">
				SELECT  rule_typ_cd, rule_typ_desc
				FROM  rule_type
				WHERE wpd_del_flag = {0} 
			</SelectSQLQuery>

			<SelectSQLQuery name="retreiveProductRuleCodes">
				select RULE_PARAM_TYP,RULE_PARAM_CD,RULE_PARAM_PRIMARY_ID,dbms_random.random  from rule_code_map
			</SelectSQLQuery>

			<SelectSQLQuery name="ruleID">
				SELECT rule_id, rule_shrt_desc
				FROM  rule
				WHERE wpd_del_flag = {0}
--				AND rule_typ_cd IN(SELECT  rule_typ_cd	FROM  rule_type	WHERE rule_typ_desc = {1})
				AND rule_typ_cd = {1}
				order by rule_id asc , rule_shrt_desc asc
			</SelectSQLQuery>




			<DataObject name="RULE_TYPE">
				<DataObjectAttribute name="FLAG" 				type="String" />
				<DataObjectAttribute name="RULE_TYP_CD" 		type="String" />
				<DataObjectAttribute name="RULE_TYP_DESC" 		type="String" />
				<DataObjectAttribute name="RULE_PARAM_TYP" 		type="String" />
				<DataObjectAttribute name="RULE_PARAM_ID" 		type="String" />
				<DataObjectAttribute name="RULE_PARAM_CD" 		type="String" />


				<SQLTemplate transType="select"> 
					<DataObjectAttributeInput 	index="0" 		name="FLAG" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName="RULE_TYP_CD"/>
						<ResultIndex index="1" dataObjectAttribName="RULE_TYP_DESC"/>
					</RSIndexToDOAttributeMap>				
					<SearchQueryName name="ruleType" />
				</SQLTemplate>
				<SQLTemplate transType="select"> 
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName="RULE_PARAM_TYP"/>
						<ResultIndex index="1" dataObjectAttribName="RULE_PARAM_CD"/>
						<ResultIndex index="2" dataObjectAttribName="RULE_PARAM_ID"/>
						<ResultIndex index="3" dataObjectAttribName="RULE_TYP_CD"/>
					</RSIndexToDOAttributeMap>				
					<SearchQueryName name="retreiveProductRuleCodes" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="FLAG" 			toBOAttb="flag" />
					<Pair DOAttb="RULE_TYP_CD" 		toBOAttb="ruleCode" />
					<Pair DOAttb="RULE_TYP_DESC"    toBOAttb="ruleDescription" />
					<Pair DOAttb="RULE_PARAM_TYP"    toBOAttb="ruleParamType" />
					<Pair DOAttb="RULE_PARAM_ID"    toBOAttb="ruleParamId" />
					<Pair DOAttb="RULE_PARAM_CD"    toBOAttb="ruleParamCode" />
				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>					
					<Pair DOAttb="FLAG" 	toSCAttb="flag" />
				</DoAttributeToSCAttributeMap>     		
			</DataObject>

			<DataObject name="RULE_ID">
				<DataObjectAttribute name="FLAG" 				type="String" />
				<DataObjectAttribute name="RULE_TYPE" 			type="String" />
				<DataObjectAttribute name="RULE_ID" 			type="String" />
				<DataObjectAttribute name="RULE_SHRT_DESC" 		type="String" />
				
				<SQLTemplate transType="select"> 
					<DataObjectAttributeInput 	index="0" 		name="FLAG" />
					<DataObjectAttributeInput 	index="1" 		name="RULE_TYPE" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName="RULE_ID"/>
						<ResultIndex index="1" dataObjectAttribName="RULE_SHRT_DESC"/>
					</RSIndexToDOAttributeMap>				
					<SearchQueryName name="ruleID" />
				</SQLTemplate>

				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="FLAG" 			toBOAttb="flag" />
					<Pair DOAttb="RULE_ID" 			toBOAttb="ruleCode" />
					<Pair DOAttb="RULE_SHRT_DESC"   toBOAttb="ruleDescription" />
				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>					
					<Pair DOAttb="FLAG" 			toSCAttb="flag" />
					<Pair DOAttb="RULE_TYPE" 		toSCAttb="ruleType" />
				</DoAttributeToSCAttributeMap>     		
			</DataObject> 
			
			 
			
		</DataSource>
	</BusinessObjectMetadata>

	<BusinessObjectMetadata	name="com.wellpoint.wpd.common.product.bo.ProductRuleAssociationBO">
		<BusinessAttribute name="productRuleSysID" 		type="Int"			keyAttrib="true"  />
		<BusinessAttribute name="productKey" 			type="Int"			keyAttrib="true"  />
		<BusinessAttribute name="ruleID" 				type="String"		keyAttrib="false" />
		<BusinessAttribute name="ruleType"				type="String"		keyAttrib="true" />
		<BusinessAttribute name="ruleDescription"		type="String"		keyAttrib="false" />
		<BusinessAttribute name="providerArrangement" 	type="String"		keyAttrib="false" />
		<BusinessAttribute name="genRuleID"				type="String"		keyAttrib="true" />
		<BusinessAttribute name="ruleComment" 			type="String"		keyAttrib="false" />
		<BusinessAttribute name="flag" 					type="String"		keyAttrib="false" />
		<BusinessAttribute name="createdUser" 			type="String"		keyAttrib="false" />
		<BusinessAttribute name="lastUpdatedUser" 		type="String"		keyAttrib="false" />
		<BusinessAttribute name="createdTimestamp" 		type="Date"			keyAttrib="false" />
		<BusinessAttribute name="lastUpdatedTimestamp" 	type="Date"			keyAttrib="false" />
		<BusinessAttribute name="ruleCount" 			type="Int"			keyAttrib="false"  />

		<SearchCriteria name="searchCriteria">
			<SearchCriteriaAttribute 	name="productKey" 			type="Int" />
			<SearchCriteriaAttribute 	name="productRuleSysID"		type="Int" />
			<SearchCriteriaAttribute 	name="ruleType"				type="String" />
			<SearchCriteriaAttribute 	name="productGenRulesList"	type="List" />
			<SearchCriteriaAttribute 	name="maxRecordRange"		type="Int" />
			<SearchCriteriaAttribute 	name="minRecordRange"		type="Int" />
		</SearchCriteria>

		<DataSource name="prmd" domain="medical">
			<Connection preferred="jndi">
				<url>jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>

			<SelectSQLQuery name="productAllRules">
				<![CDATA[
				select prod_rule_sys_id,gnrtd_rule_id,rule_id,rule_shrt_desc,rule_typ_desc,rule_pva,rule_grp_ind,rule_ovrd_val
     			from
			    (select a.*,rownum rnum  
			       from
			    (SELECT  pr.prod_rule_sys_id, pr.gnrtd_rule_id, r.rule_id, r.rule_shrt_desc, 
				       CASE SUBSTR (pr.gnrtd_rule_id, 1, 1)
				          WHEN '#'
				             THEN 'UM Rule'
				          WHEN '&'
				             THEN 'Exclusion Rule'
				          WHEN '*'
				             THEN 'Denial Rule'
				          WHEN '$'
				             THEN 'PNR Rule'
				          ELSE rt.rule_typ_desc
				       END AS rule_typ_desc,
				--rt.rule_typ_desc, 
				pr.rule_pva, r.rule_grp_ind, pr.rule_ovrd_val
				FROM  prod_rule_assn pr, rule r, rule_type rt
				WHERE pr.rule_id = r.rule_id
				AND rt.rule_typ_cd = r.rule_typ_cd 
				AND pr.wpd_del_flg = 'N'
				AND pr.prod_sys_id = {0}
--				AND rt.rule_typ_desc = {1}
				AND pr.gnrtd_rule_id LIKE ( {1}	)
				ORDER BY rule_id,prod_rule_sys_id,gnrtd_rule_id,rule_shrt_desc,rule_typ_desc,rule_pva) a
    			where rownum <= ({2})
 				 )
  				where rnum >= ({3})
				]]>
			</SelectSQLQuery>
			<SelectSQLQuery name="productAllRulesCount">
			SELECT  count( *),1
				FROM  prod_rule_assn pr, rule r, rule_type rt
				WHERE pr.rule_id = r.rule_id
				AND rt.rule_typ_cd = r.rule_typ_cd 
				AND pr.wpd_del_flg = 'N'
				AND pr.prod_sys_id = {0}
				AND pr.gnrtd_rule_id LIKE ( {1}	)
			</SelectSQLQuery>
			<SelectSQLQuery name="productRules">
				<![CDATA[
--				select p.PROD_RULE_SYS_ID,r.WPD_DEL_FLAG from RULE r,PROD_RULE_ASSN p 
--				where r.RULE_ID=p.RULE_ID and r.WPD_DEL_FLAG='Y' and PROD_SYS_ID = {0}
				SELECT a.prod_rule_sys_id, b.wpd_del_flag, a.gnrtd_rule_id, a.rule_id,
				       b.rule_shrt_desc, a.rule_pva,
				       CASE SUBSTR (a.gnrtd_rule_id, 1, 1)
				          WHEN '#'
				             THEN 'UM Rule'
				          WHEN '&'
				             THEN 'Exclusion Rule'
				          WHEN '*'
				             THEN 'Denial Rule'
				          WHEN '$'
				             THEN 'PNR Rule'
				          ELSE c.rule_typ_desc
				       END AS rule_typ_desc
				  FROM rule b, prod_rule_assn a, rule_type c
				 WHERE b.rule_id = a.rule_id
				   AND b.wpd_del_flag = 'Y'
				   AND a.prod_sys_id = {0}
				   AND b.rule_typ_cd = c.rule_typ_cd
				  order by  SUBSTR (a.gnrtd_rule_id, 1, 1),a.rule_id	
				]]>					
			</SelectSQLQuery>
			<SelectSQLQuery name="duplicateProductRules">
				SELECT  gnrtd_rule_id
				FROM  prod_rule_assn 
				WHERE wpd_del_flg = 'N'
				AND prod_sys_id = {0}
				AND gnrtd_rule_id {1}
			</SelectSQLQuery>
			<SelectSQLQuery name="retrievePvaForValidation">
				SELECT prod_sys_id,rule_pva
				FROM  prod_rule_assn 
				WHERE wpd_del_flg = 'N'
				AND prod_sys_id = {0}
			</SelectSQLQuery>
			<SelectSQLQuery name="productRulesMandatoryValCheck">
				<![CDATA[
--				 select GNRTD_RULE_ID from PROD_RULE_ASSN 
--                                where PROD_SYS_ID = {0} AND (GNRTD_RULE_ID LIKE ( '#%'	)  
--                                OR GNRTD_RULE_ID LIKE ( '$%'	) 
--								OR GNRTD_RULE_ID LIKE ( '*%'	))
--                                AND RULE_OVRD_VAL  is null
				SELECT a.gnrtd_rule_id, a.rule_id, b.rule_shrt_desc, a.rule_pva,
				       CASE SUBSTR (a.gnrtd_rule_id, 1, 1)
				          WHEN '#'
				             THEN 'UM Rule'
				          WHEN '&'
				             THEN 'Exclusion Rule'
				          WHEN '*'
				             THEN 'Denial Rule'
				          WHEN '$'
				             THEN 'PNR Rule'
				          ELSE c.rule_typ_desc
				       END AS rule_typ_desc, a.prod_rule_sys_id
				  FROM prod_rule_assn a, rule b, rule_type c
				 WHERE a.prod_sys_id = {0}
				   AND (   a.gnrtd_rule_id LIKE ('#%')
				        OR a.gnrtd_rule_id LIKE ('$%')
				        OR a.gnrtd_rule_id LIKE ('*%')
				       )
				   AND a.rule_ovrd_val IS NULL
				   AND a.rule_id = b.rule_id
				   AND b.rule_typ_cd = c.rule_typ_cd
				   order by  SUBSTR (a.gnrtd_rule_id, 1, 1),a.rule_id
				]]>	
			</SelectSQLQuery>
			<DataObject name="PROD_RULE_ASSN">
				<DataObjectAttribute name="RULE_SYS_ID" 		type="Int" />
				<DataObjectAttribute name="RULE_SYS_ID_LIST" 	type="String" />
				<DataObjectAttribute name="PRODUCT_KEY" 		type="Int" />
				<DataObjectAttribute name="RULE_ID" 			type="String" />
				<DataObjectAttribute name="RULE_TYPE" 			type="String" />
				<DataObjectAttribute name="RULE_DESCRIPTION" 	type="String" />
				<DataObjectAttribute name="RULE_PVA" 			type="String" />
				<DataObjectAttribute name="GEN_RULE_ID" 		type="String" />
				<DataObjectAttribute name="RULE_COMMENT" 		type="String" />				
				<DataObjectAttribute name="FLAG" 				type="String" />				
				<DataObjectAttribute name="CREATD_USER_ID"		type="String" />
				<DataObjectAttribute name="LST_CHG_USR" 		type="String" />
				<DataObjectAttribute name="CREATD_TM_STMP" 		type="TimeStamp" />
				<DataObjectAttribute name="LST_CHG_TMS" 		type="TimeStamp" />
				<DataObjectAttribute name="WPD_DEL_FLAG" 		type="String" />
				<DataObjectAttribute name="MAX_RECORD_RANGE" 	type="Int" />
				<DataObjectAttribute name="MIN_RECORD_RANGE" 	type="Int" />
				<DataObjectAttribute name="RULE_COUNT" 			type="Int" />

				<SQLTemplate transType="select"> 
					<DataObjectAttributeInput 	index="0" 		name="PRODUCT_KEY" />
					<DataObjectAttributeInput 	index="1" 		name="RULE_TYPE" />
					<DataObjectAttributeInput 	index="2" 		name="MAX_RECORD_RANGE" />
					<DataObjectAttributeInput 	index="3" 		name="MIN_RECORD_RANGE" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName="RULE_SYS_ID"/>
						<ResultIndex index="1" dataObjectAttribName="GEN_RULE_ID"/>
						<ResultIndex index="2" dataObjectAttribName="RULE_ID"/>
						<ResultIndex index="3" dataObjectAttribName="RULE_DESCRIPTION"/>
						<ResultIndex index="4" dataObjectAttribName="RULE_TYPE"/>
						<ResultIndex index="5" dataObjectAttribName="RULE_PVA"/>
						<ResultIndex index="6" dataObjectAttribName="FLAG"/>
						<ResultIndex index="7" dataObjectAttribName="RULE_COMMENT"/>
					</RSIndexToDOAttributeMap>				
					<SearchQueryName name="productAllRules" />
				</SQLTemplate>
				<SQLTemplate transType="select"> 
					<DataObjectAttributeInput 	index="0" 		name="PRODUCT_KEY" />
					<DataObjectAttributeInput 	index="1" 		name="RULE_TYPE" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName="RULE_COUNT"/>
						<ResultIndex index="1" dataObjectAttribName="RULE_SYS_ID"/>
					</RSIndexToDOAttributeMap>				
					<SearchQueryName name="productAllRulesCount" />
				</SQLTemplate>
				<SQLTemplate transType="select"> 
					<DataObjectAttributeInput 	index="0" 		name="PRODUCT_KEY" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName="RULE_SYS_ID"/>
						<ResultIndex index="1" dataObjectAttribName="FLAG"/>
						<ResultIndex index="2" dataObjectAttribName="GEN_RULE_ID"/>
						<ResultIndex index="3" dataObjectAttribName="RULE_ID"/>
						<ResultIndex index="4" dataObjectAttribName="RULE_DESCRIPTION"/>
						<ResultIndex index="5" dataObjectAttribName="RULE_PVA"/>
						<ResultIndex index="6" dataObjectAttribName="RULE_TYPE"/>
					</RSIndexToDOAttributeMap>				
					<SearchQueryName name="productRules" />
				</SQLTemplate>

				<SQLTemplate transType="select"> 
					<DataObjectAttributeInput 	index="0" 		name="PRODUCT_KEY" />
					<DataObjectAttributeInput 	index="1" 		name="RULE_SYS_ID_LIST" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName="GEN_RULE_ID"/>
					</RSIndexToDOAttributeMap>				
					<SearchQueryName name="duplicateProductRules" />
				</SQLTemplate>
				<SQLTemplate transType="select"> 
					<DataObjectAttributeInput 	index="0" 		name="PRODUCT_KEY" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName="PRODUCT_KEY"/>
						<ResultIndex index="1" dataObjectAttribName="RULE_PVA"/>
					</RSIndexToDOAttributeMap>				
					<SearchQueryName name="retrievePvaForValidation" />
				</SQLTemplate>
			<SQLTemplate transType="select"> 
					<DataObjectAttributeInput 	index="0" 		name="PRODUCT_KEY" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName="GEN_RULE_ID"/>
						<ResultIndex index="1" dataObjectAttribName="RULE_ID"/>
						<ResultIndex index="2" dataObjectAttribName="RULE_DESCRIPTION"/>
						<ResultIndex index="3" dataObjectAttribName="RULE_PVA"/>
						<ResultIndex index="4" dataObjectAttribName="RULE_TYPE"/>
						<ResultIndex index="5" dataObjectAttribName="RULE_SYS_ID"/>
					</RSIndexToDOAttributeMap>				
					<SearchQueryName name="productRulesMandatoryValCheck" />
				</SQLTemplate>
				<SQLTemplate transType="insert">
					<SQLQuery>						
						INSERT INTO prod_rule_assn 
						(prod_rule_sys_id, prod_sys_id, rule_id, rule_pva, 
						gnrtd_rule_id, wpd_del_flg, rule_ovrd_val, 
						lst_chg_tms, lst_chg_usr, creatd_tm_stmp, creatd_user_id) 
						VALUES
						(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)							
					</SQLQuery>
					<DataObjectAttributeInput index="0" name="RULE_SYS_ID" />
					<DataObjectAttributeInput index="1"	name="PRODUCT_KEY" />
					<DataObjectAttributeInput index="2"	name="RULE_ID" />
					<DataObjectAttributeInput index="3"	name="RULE_PVA" /> 
					<DataObjectAttributeInput index="4"	name="GEN_RULE_ID" />
                    <DataObjectAttributeInput index="5" name="FLAG" />
					<DataObjectAttributeInput index="6"	name="RULE_COMMENT" />
					<DataObjectAttributeInput index="7"	name="LST_CHG_TMS" />
					<DataObjectAttributeInput index="8"	name="LST_CHG_USR" />
					<DataObjectAttributeInput index="9"	name="CREATD_TM_STMP" />
					<DataObjectAttributeInput index="10" name="CREATD_USER_ID" />
				</SQLTemplate>

				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM 
							prod_rule_assn 
						WHERE 
							prod_rule_sys_id = ? 
					</SQLQuery>
						<DataObjectAttributeInput index="0" name="RULE_SYS_ID" />
				</SQLTemplate>

		       <SQLTemplate transType="update">
		           <SQLQuery>
		               UPDATE prod_rule_assn 
					   SET rule_ovrd_val = ?
		               WHERE prod_rule_sys_id = ? 
		           </SQLQuery>
			           	<DataObjectAttributeInput index="0" name="RULE_COMMENT"/>
				     	<DataObjectAttributeInput index="1" name="RULE_SYS_ID"/>
		       </SQLTemplate>

				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="RULE_SYS_ID" 		toBOAttb="productRuleSysID" />
					<Pair DOAttb="PRODUCT_KEY" 		toBOAttb="productKey" />
					<Pair DOAttb="RULE_ID"	 		toBOAttb="ruleID" />
					<Pair DOAttb="RULE_TYPE"	 	toBOAttb="ruleType" />
					<Pair DOAttb="RULE_DESCRIPTION"	toBOAttb="ruleDescription" />
					<Pair DOAttb="RULE_PVA"	 		toBOAttb="providerArrangement" />
					<Pair DOAttb="GEN_RULE_ID"	 	toBOAttb="genRuleID" />
					<Pair DOAttb="RULE_COMMENT"	 	toBOAttb="ruleComment" />
					<Pair DOAttb="FLAG" 			toBOAttb="flag" />
					<Pair DOAttb="CREATD_USER_ID" 	toBOAttb="createdUser" />
					<Pair DOAttb="LST_CHG_USR" 		toBOAttb="lastUpdatedUser" />
					<Pair DOAttb="CREATD_TM_STMP" 	toBOAttb="createdTimestamp" />
					<Pair DOAttb="LST_CHG_TMS" 		toBOAttb="lastUpdatedTimestamp" />
					<Pair DOAttb="RULE_COUNT" 		toBOAttb="ruleCount" />
				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>					
					<Pair DOAttb="RULE_SYS_ID_LIST" toSCAttb="productGenRulesList" />
					<Pair DOAttb="PRODUCT_KEY" 		toSCAttb="productKey" />
					<Pair DOAttb="RULE_TYPE" 		toSCAttb="ruleType" />
					<Pair DOAttb="MAX_RECORD_RANGE" toSCAttb="maxRecordRange" />
					<Pair DOAttb="MIN_RECORD_RANGE" toSCAttb="minRecordRange" />
				</DoAttributeToSCAttributeMap>     		
			</DataObject>
			
		</DataSource>
	</BusinessObjectMetadata>
	<BusinessObjectMetadata name="com.wellpoint.wpd.common.product.bo.ProductEntityBenefitAdmin">
  	<BusinessAttribute name="entityId"    	 		type="Int"   	keyAttrib="true"/>
  	<BusinessAttribute name="entityType"      		type="String"  	keyAttrib="false"/>
  	<BusinessAttribute name="benefitComponentId"     	type="Int"  	keyAttrib="false"/>
  	<BusinessAttribute name="adminLevelOptionAssnId"  type="Int"  	keyAttrib="false"/>
  	<BusinessAttribute name="createdUser" 			type="String"	keyAttrib="false" />
  	<BusinessAttribute name="lastUpdatedUser" 		type="String"	keyAttrib="false" />
  	<BusinessAttribute name="createdTimestamp" 		type="Date"		keyAttrib="false" />
  	<BusinessAttribute name="lastUpdatedTimestamp" 	type="Date"		keyAttrib="false" />
  <DataSource name="prmd" domain="medical">
   <Connection preferred="jndi">
    <url>jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG</url>
    <jndi>java:comp/env/wsbEwpdDS</jndi>
   </Connection>
   <SelectSQLQuery name="locateEntityBenefitAdministration">
	  select * from ANSWR_OVRD_INFO 
   </SelectSQLQuery>  
   <DataObject name="ANSWR_OVRD_INFO">
       <DataObjectAttribute name="ENTY_TYPE"    	       		type="String"/>
       <DataObjectAttribute name="ENTY_SYS_ID"    	       		type="Int"/>
       <DataObjectAttribute name="ADMIN_LVL_OPT_ASSN_SYS_ID"  	type="Int"/>
       <DataObjectAttribute name="BNFT_CMPNT_SYS_ID"           	type="Int"/>
       <DataObjectAttribute name="LST_CHG_USR"    	       		type="String"/>
       <DataObjectAttribute name="LST_CHG_TMS"    	       		type="Date"/>
       <DataObjectAttribute name="CREATD_USER_ID"    	       	type="String"/>
       <DataObjectAttribute name="CREATD_TM_STMP"    	       	type="Date"/>
       	    <SQLTemplate transType="delete">
           <SQLQuery>
           DELETE FROM ANSWR_OVRD_INFO
	       WHERE ENTY_TYPE = ? AND ENTY_SYS_ID = ? AND BNFT_CMPNT_SYS_ID = ? and ADMIN_LVL_OPT_ASSN_SYS_ID = ?
           </SQLQuery>
           <DataObjectAttributeInput 		index="0" name="ENTY_TYPE"/>
	   	   <DataObjectAttributeInput 		index="1" name="ENTY_SYS_ID"/>
           <DataObjectAttributeInput 		index="2" name="BNFT_CMPNT_SYS_ID"/>
           <DataObjectAttributeInput 		index="3" name="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
       </SQLTemplate>
       <DoAttributeToBOAttributeMap>
           <Pair DOAttb="ENTY_TYPE"    				toBOAttb="entityType"/>
           <Pair DOAttb="ENTY_SYS_ID"    			toBOAttb="entityId"/>
		   <Pair DOAttb="BNFT_CMPNT_SYS_ID"    		toBOAttb="benefitComponentId"/>
		   <Pair DOAttb="ADMIN_LVL_OPT_ASSN_SYS_ID" toBOAttb="adminLevelOptionAssnId"/>
       </DoAttributeToBOAttributeMap>             
   </DataObject>
  </DataSource>
 </BusinessObjectMetadata>

<BusinessObjectMetadata name="com.wellpoint.wpd.common.product.bo.ProductQuestUniqueReferenceBO">
  	<BusinessAttribute name="adminLevelOptAssnSysid"    	 		type="Int"   	keyAttrib="true"/>
  	<BusinessAttribute name="questionNumber"     					type="Int"  	keyAttrib="true"/>
  	<BusinessAttribute name="admnSysId"  							type="Int"  	keyAttrib="false"/>
	<BusinessAttribute name="refId"      							type="Int"  	keyAttrib="false"/>
	<BusinessAttribute name="entitySysId" 							type="Int"		keyAttrib="false"/>
	<BusinessAttribute name="benefitComponentId" 					type="Int"		keyAttrib="false"/>
	<BusinessAttribute name="benefitSysId" 							type="Int"		keyAttrib="false"/>
	<BusinessAttribute name="benefitLineId"  						type="Int"		keyAttrib="false"/>
	<BusinessAttribute name="benefitLevelId"  						type="Int"		keyAttrib="false"/>
	<BusinessAttribute name="benefitLevelDesc"  					type="String"	keyAttrib="false"/>
	<BusinessAttribute name="benefitLinePva"  						type="String"	keyAttrib="false"/>
	<BusinessAttribute name="benefitComponentName" 					type="String"   keyAttrib="false"/>
	<BusinessAttribute name="benefitComponentParentId"         		type="Int"      keyAttrib="false"/>
	<BusinessAttribute name="benefitComponentVersionNum"			type="Int"		keyAttrib="false"/>
	<BusinessAttribute name="benefitSysName"						type="String"	keyAttrib="false"/>
	<BusinessAttribute name="benefitSysParentId"					type="Int"		keyAttrib="false"/>
	<BusinessAttribute name="benefitSysVersionNum"					type="Int"		keyAttrib="false"/>
	<BusinessAttribute name="adminDesc"								type="String"	keyAttrib="false"/>
	<BusinessAttribute name="questionDesc"							type="String"	keyAttrib="false"/>
	<BusinessAttribute name="referenceDesc"							type="String"	keyAttrib="false"/>



		<SearchCriteria name="searchCriteria">
			<SearchCriteriaAttribute 	name="entitySysId" 				type="Int" />
			<SearchCriteriaAttribute 	name="benefitComponentId"		type="Int" />
			<SearchCriteriaAttribute 	name="benefitSysId"				type="Int" />
			
		</SearchCriteria>

  <DataSource name="prmd" domain="medical">
   <Connection preferred="jndi">
    <url>jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG</url>
    <jndi>java:comp/env/wsbEwpdDS</jndi>
   </Connection>
   <SelectSQLQuery name="locateEntityBenefitAdministration">
	  select * from PROD_BNFT_CSTMZD 
   </SelectSQLQuery>  
	<SelectSQLQuery name="duplicateBenefitLineRef">
				SELECT x.bnft_cmpnt_sys_id,x.bnft_sys_id,y.bnft_lvl_extrnl_rfrnc_id,1
				FROM prod_bnft_cstmzd x,bln_bnft_line y 
		 		WHERE x.prod_sys_id = {0} AND x.bnft_line_hide_flag = 'F'
				AND x.bln_bnft_line_id = y.bln_bnft_line_id
				AND x.bnft_defn_sys_id = y.bnft_defn_sys_id HAVING COUNT(y.bnft_lvl_extrnl_rfrnc_id) > 1
				AND y.bnft_lvl_extrnl_rfrnc_id NOT IN(SELECT REF_CD FROM EXCL_DUPL_REF_CDS)
			    GROUP BY x.bnft_sys_id,y.bnft_lvl_extrnl_rfrnc_id,x.bnft_cmpnt_sys_id
	</SelectSQLQuery>
	<SelectSQLQuery name="duplicateAdminQuestRef">
		<![CDATA[
			Select * From (
				  select  B.BNFT_CMPNT_SYS_ID, C.BNFT_DEFN_SYS_ID, D.RFRNC_ID 
                  From    PROD_ADMN_OPT_CUSTM B, BNFT_ADMIN_TO_LVL_ASSN C, QSTNR_MSTR D, (Select UNIQUE BNFT_CMPNT_SYS_ID, BNFT_DEFN_SYS_ID FROM PROD_BNFT_CSTMZD WHERE PROD_SYS_ID = {0} AND BNFT_HIDE_FLAG = 'F') E
                  Where   B.PROD_SYS_ID = {0}
                          And B.ADMIN_OPTION_HIDE_FLAG = 'F'
                          And B.ADMIN_LVL_OPT_ASSN_SYS_ID = C.ADMIN_LVL_OPT_ASSN_SYS_ID
                          And C.ADMIN_OPT_SYS_ID = D.ADMIN_OPT_SYS_ID
						  AND B.BNFT_CMPNT_SYS_ID = E.BNFT_CMPNT_SYS_ID
						  AND C.BNFT_DEFN_SYS_ID = E.BNFT_DEFN_SYS_ID
						  AND D.RFRNC_ID NOT IN(SELECT REF_CD FROM EXCL_DUPL_REF_CDS)
                  Having  Count(D.RFRNC_ID) > 1
                              Group   By B.BNFT_CMPNT_SYS_ID, C.BNFT_DEFN_SYS_ID, D.RFRNC_ID        
			) Where ROWNUM <= 2
		]]>
	</SelectSQLQuery>
	<SelectSQLQuery name="getDuplicateAllBenefitRef">
		<![CDATA[
			SELECT *
			  FROM (SELECT   a.bnft_cmpnt_sys_id, d.bnft_cmpnt_nm, a.bnft_sys_id,
			                 e.bnft_id_nm, a.bln_bnft_line_id, a.blvl_bnft_lvl_id,
			                 c.blvl_bnft_lvl_desc, b.bnft_lvl_extrnl_rfrnc_id,
			                 f.cd_desc_txt, b.bln_bnft_line_pva, ROWNUM
			            FROM prod_bnft_cstmzd a,
			                 bln_bnft_line b,
			                 blvl_bnft_lvl c,
			                 bcm_bnft_cmpnt_mstr d,
			                 bmst_bnft_mstr e,
			                 item f,
			                 (SELECT   x.bnft_cmpnt_sys_id, x.bnft_sys_id,
			                           y.bnft_lvl_extrnl_rfrnc_id
			                      FROM prod_bnft_cstmzd x, bln_bnft_line y
			                     WHERE x.prod_sys_id = {0}
			                       AND x.bnft_line_hide_flag = 'F'
			                       AND x.bln_bnft_line_id = y.bln_bnft_line_id
			                       AND x.bnft_defn_sys_id = y.bnft_defn_sys_id
								   AND y.bnft_lvl_extrnl_rfrnc_id NOT IN(SELECT REF_CD FROM EXCL_DUPL_REF_CDS)
			                    HAVING COUNT (y.bnft_lvl_extrnl_rfrnc_id) > 1
			                  GROUP BY x.bnft_sys_id,
			                           y.bnft_lvl_extrnl_rfrnc_id,
			                           x.bnft_cmpnt_sys_id) g
			           WHERE a.prod_sys_id = {0}
			             AND a.bnft_line_hide_flag = 'F'
			             AND a.bnft_cmpnt_sys_id = d.bnft_cmpnt_sys_id
			             AND a.bnft_sys_id = e.bnft_sys_id
			             AND b.bnft_lvl_extrnl_rfrnc_id = f.prmry_cd
			             AND f.ctlg_id = 1938
			             AND a.bln_bnft_line_id = b.bln_bnft_line_id
			             AND a.bnft_defn_sys_id = b.bnft_defn_sys_id
			             AND a.bnft_defn_sys_id = c.bnft_defn_sys_id
			             AND a.blvl_bnft_lvl_id = c.blvl_bnft_lvl_id
			             AND a.bnft_cmpnt_sys_id = g.bnft_cmpnt_sys_id
			             AND a.bnft_sys_id = g.bnft_sys_id
			             AND b.bnft_lvl_extrnl_rfrnc_id = g.bnft_lvl_extrnl_rfrnc_id
			        ORDER BY a.bnft_cmpnt_sys_id,
			                 a.bnft_sys_id,
			                 b.bnft_lvl_extrnl_rfrnc_id,
			                 a.blvl_bnft_lvl_id,
			                 a.bln_bnft_line_id)
			 WHERE ROWNUM <= 501
 		]]>
		</SelectSQLQuery>
		<SelectSQLQuery name="getDuplicateAllQuestionRef">
		<![CDATA[
			SELECT *
			  FROM (
					SELECT  B.BNFT_CMPNT_SYS_ID, B.BNFT_CMPNT_NM, E.BNFT_SYS_ID,
			                E.BNFT_ID_NM, G.RFRNC_ID, K.CD_DESC_TXT, ROWNUM,
			                H.ADQM_ADMN_QSTN_NBR, F.ADMIN_OPT_SYS_ID,
			                F.ADMIN_OPT_DESC_TXT, H.ADQM_ADMN_QSTN_DESC
			        FROM 	BCM_BNFT_CMPNT_MSTR B, BNFT_ADMIN_TO_LVL_ASSN C, 
							BDM_BNFT_DEFN_MSTR D,  BMST_BNFT_MSTR E, ADMIN_OPT_MSTR F, QSTNR_MSTR G, 
							ADQM_ADMN_QSTN_MSTR H, PROD_ADMN_OPT_CUSTM I, ITEM K, 
			                (
							  select  B.BNFT_CMPNT_SYS_ID, C.BNFT_DEFN_SYS_ID, D.RFRNC_ID 
			                  From    PROD_ADMN_OPT_CUSTM B, BNFT_ADMIN_TO_LVL_ASSN C, QSTNR_MSTR D, (Select UNIQUE BNFT_CMPNT_SYS_ID, BNFT_DEFN_SYS_ID FROM PROD_BNFT_CSTMZD WHERE PROD_SYS_ID = {0} AND BNFT_HIDE_FLAG = 'F') E
			                  Where   B.PROD_SYS_ID = {0}
			                          And B.ADMIN_OPTION_HIDE_FLAG = 'F'
			                          And B.ADMIN_LVL_OPT_ASSN_SYS_ID = C.ADMIN_LVL_OPT_ASSN_SYS_ID
			                          And C.ADMIN_OPT_SYS_ID = D.ADMIN_OPT_SYS_ID
									  AND B.BNFT_CMPNT_SYS_ID = E.BNFT_CMPNT_SYS_ID
									  AND C.BNFT_DEFN_SYS_ID = E.BNFT_DEFN_SYS_ID
									  AND D.RFRNC_ID NOT IN(SELECT REF_CD FROM EXCL_DUPL_REF_CDS)	
			                  Having  Count(D.RFRNC_ID) > 1
			                              Group   By B.BNFT_CMPNT_SYS_ID, C.BNFT_DEFN_SYS_ID, D.RFRNC_ID                                      
                         	) X
                   Where 
		                 	  I.BNFT_CMPNT_SYS_ID = B.BNFT_CMPNT_SYS_ID
		                 And I.ADMIN_LVL_OPT_ASSN_SYS_ID = C.ADMIN_LVL_OPT_ASSN_SYS_ID
		                 And C.BNFT_DEFN_SYS_ID = D.BNFT_DEFN_SYS_ID
		                 And D.BNFT_SYS_ID = E.BNFT_SYS_ID
		                 And C.ADMIN_OPT_SYS_ID = F.ADMIN_OPT_SYS_ID
		                 And G.ADMIN_OPT_SYS_ID = F.ADMIN_OPT_SYS_ID
		                 And G.ADQM_ADMN_QSTN_NBR = H.ADQM_ADMN_QSTN_NBR
		                 And I.ADMIN_OPTION_HIDE_FLAG = 'F'
		                 And I.PROD_SYS_ID = {0}
		                 And X.RFRNC_ID = G.RFRNC_ID
		                 And X.BNFT_CMPNT_SYS_ID = B.BNFT_CMPNT_SYS_ID
		                 And X.BNFT_DEFN_SYS_ID = D.BNFT_DEFN_SYS_ID
		                 And G.RFRNC_ID = K.PRMRY_CD
		                 And K.CTLG_ID = 1938
				  Order by B.BNFT_CMPNT_SYS_ID, E.BNFT_SYS_ID, G.RFRNC_ID, H.ADQM_ADMN_QSTN_NBR
			)
		 	WHERE ROWNUM <= 501
		]]>
	</SelectSQLQuery>

	<SelectSQLQuery name="getQuestionReference">
					
select  c.RFRNC_ID, b.ADMIN_LVL_OPT_ASSN_SYS_ID, c.ADQM_ADMN_QSTN_NBR, 
        b.ADMIN_OPT_SYS_ID, e.ADMIN_OPT_DESC_TXT, d.ADQM_ADMN_QSTN_DESC
  from BDM_BNFT_DEFN_MSTR a, BNFT_ADMIN_TO_LVL_ASSN b, BNFT_ADMIN_OPT_QSTN_ASSN c,
        ADQM_ADMN_QSTN_MSTR d, ADMIN_OPT_MSTR e, ANSWR_OVRD_INFO f
  where a.BNFT_SYS_ID = {2}
  and a.BNFT_DEFN_SYS_ID = b.BNFT_DEFN_SYS_ID
  and b.ADMIN_LVL_OPT_ASSN_SYS_ID = c.ADMIN_LVL_OPT_ASSN_SYS_ID
  and b.ADMIN_OPT_SYS_ID = e.ADMIN_OPT_SYS_ID
  and c.ADQM_ADMN_QSTN_NBR = d.ADQM_ADMN_QSTN_NBR
  and b.ADMIN_LVL_OPT_ASSN_SYS_ID = f.ADMIN_LVL_OPT_ASSN_SYS_ID
  and c.ADQM_ADMN_QSTN_NBR = f.ADQM_ADMN_QSTN_NBR
  and f.ENTY_TYPE = 'product'
  and f.ENTY_SYS_ID = {0}
  and f.BNFT_CMPNT_SYS_ID = {1}
  and f.QSTN_HIDE_FLAG = 'F'
  and f.ADMIN_OPTION_HIDE_FLAG = 'F'
  and c.RFRNC_ID in
            (
              select  r.RFRNC_ID
                from BDM_BNFT_DEFN_MSTR p, BNFT_ADMIN_TO_LVL_ASSN q, 
                      BNFT_ADMIN_OPT_QSTN_ASSN r, ANSWR_OVRD_INFO s
                where p.BNFT_SYS_ID = {2}
                and p.BNFT_DEFN_SYS_ID = q.BNFT_DEFN_SYS_ID
                and q.ADMIN_LVL_OPT_ASSN_SYS_ID = r.ADMIN_LVL_OPT_ASSN_SYS_ID
                and q.ADMIN_LVL_OPT_ASSN_SYS_ID = s.ADMIN_LVL_OPT_ASSN_SYS_ID
                and r.ADQM_ADMN_QSTN_NBR = s.ADQM_ADMN_QSTN_NBR
                and s.ENTY_TYPE = 'product'
                and s.ENTY_SYS_ID = {0}
                and s.BNFT_CMPNT_SYS_ID = {1}
                and s.QSTN_HIDE_FLAG = 'F'
                and s.ADMIN_OPTION_HIDE_FLAG = 'F' 
                having count(r.RFRNC_ID) > 1
                group by r.RFRNC_ID )
    order by b.ADMIN_OPT_SYS_ID, c.RFRNC_ID

	</SelectSQLQuery>
	
	<SelectSQLQuery name="getDuplicateRef">

					SELECT a.bln_bnft_line_id, a.blvl_bnft_lvl_id, c.blvl_bnft_lvl_desc, b.bnft_lvl_extrnl_rfrnc_id,
					  b.bln_bnft_line_pva,
					  rownum
					FROM prod_bnft_cstmzd a,
					  bln_bnft_line b,
					  blvl_bnft_lvl c
					WHERE a.prod_sys_id = {0}
					 AND a.bnft_cmpnt_sys_id = {1}
					 AND a.bnft_sys_id = {2} 
					 AND a.bnft_line_hide_flag = 'F'
					 AND a.bln_bnft_line_id = b.bln_bnft_line_id
					 AND a.bnft_defn_sys_id = b.bnft_defn_sys_id
					 AND a.bnft_defn_sys_id = c.bnft_defn_sys_id
					 AND a.blvl_bnft_lvl_id = c.blvl_bnft_lvl_id                    
					 AND b.bnft_lvl_extrnl_rfrnc_id IN
					  (SELECT y.bnft_lvl_extrnl_rfrnc_id
					   FROM prod_bnft_cstmzd x,bln_bnft_line y
					   WHERE x.prod_sys_id = {0}
					   AND x.bnft_cmpnt_sys_id = {1}
					   AND x.bnft_sys_id = {2}
					   AND x.bnft_line_hide_flag = 'F'
					   AND x.bln_bnft_line_id = y.bln_bnft_line_id
					   AND x.bnft_defn_sys_id = y.bnft_defn_sys_id HAVING COUNT(y.bnft_lvl_extrnl_rfrnc_id) > 1
					   GROUP BY y.bnft_lvl_extrnl_rfrnc_id)
					ORDER BY a.bln_bnft_line_id
					

	</SelectSQLQuery>
	

	<SelectSQLQuery name="getProductValues">
					select distinct  A.BNFT_CMPNT_SYS_ID,B.BNFT_CMPNT_NM,B.BNFT_CMPNT_PARNT_SYS_ID,B.BNFT_CMPNT_VRSN_NBR,A.BNFT_SYS_ID,C.BNFT_ID_NM,C.BNFT_PARNT_SYS_ID,C.BNFT_VRSN_NBR,dbms_random.random
					from PROD_BNFT_CSTMZD A,BCM_BNFT_CMPNT_MSTR B,BMST_BNFT_MSTR C where
					A.PROD_SYS_ID={0} and
					A.BNFT_CMPNT_SYS_ID = B.BNFT_CMPNT_SYS_ID and
					A.BNFT_SYS_ID = C.BNFT_SYS_ID
	</SelectSQLQuery>
				
   			 <DataObject name="PROD_BNFT_CSTMZD">
				<DataObjectAttribute name="PROD_SYS_ID" 							type="Int"/>
				<DataObjectAttribute name="BNFT_LVL_HIDE_FLAG" 						type="String"/>
				<DataObjectAttribute name="BNFT_LINE_HIDE_FLAG" 					type="String"/>	
				<DataObjectAttribute name="PROD_BNFT_CSTMZD_SYS_ID" 				type="Int"/>
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 						type="Int"/>
				<DataObjectAttribute name="BNFT_SYS_ID" 							type="Int"/>
				<DataObjectAttribute name="BNFT_LINE_COUNT" 						type="Int"/>
				<DataObjectAttribute name="REF_COUNT" 								type="Int"/>
				<DataObjectAttribute name="REF_ID" 									type="Int"/>
				<DataObjectAttribute name="ADMIN_LVL_OPT_ASSN_SYS_ID" 				type="Int"/>
				<DataObjectAttribute name="ADQM_ADMN_QSTN_NBR" 						type="Int"/>
				<DataObjectAttribute name="ADMIN_OPT_SYS_ID" 						type="Int"/>
				<DataObjectAttribute name="BLN_BNFT_LINE_ID" 						type="Int"/>
				<DataObjectAttribute name="BLVL_BNFT_LVL_ID" 						type="Int"/>
				<DataObjectAttribute name="BLVL_BNFT_LVL_DESC" 						type="String"/>
				<DataObjectAttribute name="BLN_BNFT_LINE_PVA" 						type="String"/>
				<DataObjectAttribute name="BNFT_CMPNT_NM" 							type="String"/>
				<DataObjectAttribute name="BNFT_CMPNT_PARNT_SYS_ID"         		type="Int"/>
				<DataObjectAttribute name="BNFT_CMPNT_VRSN_NBR"						type="Int"/>
				<DataObjectAttribute name="BNFT_ID_NM"								type="String"/>
				<DataObjectAttribute name="BNFT_PARNT_SYS_ID" 						type="Int"/>
				<DataObjectAttribute name="BNFT_VRSN_NBR"							type="Int"/>
				<DataObjectAttribute name="ADMIN_OPT_DESC_TXT"						type="String"/>
				<DataObjectAttribute name="ADQM_ADMN_QSTN_DESC"						type="String"/>
				<DataObjectAttribute name="REFERENCE_DESC"							type="String"/>
				
				<SQLTemplate transType="select">
					 <DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
					 <DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
					 <DataObjectAttributeInput index="2" name="BNFT_SYS_ID"/>
					<RSIndexToDOAttributeMap>
						<ResultIndex dataObjectAttribName="REF_ID" 							index="0"/>
						<ResultIndex dataObjectAttribName="ADMIN_LVL_OPT_ASSN_SYS_ID" 		index="1"/>
						<ResultIndex dataObjectAttribName="ADQM_ADMN_QSTN_NBR" 				index="2"/>
						<ResultIndex dataObjectAttribName="ADMIN_OPT_SYS_ID" 				index="3"/>
						<ResultIndex dataObjectAttribName="ADMIN_OPT_DESC_TXT" 				index="4"/>
						<ResultIndex dataObjectAttribName="ADQM_ADMN_QSTN_DESC" 			index="5"/>
						
					</RSIndexToDOAttributeMap>
					<SearchQueryName  name="getQuestionReference"/>
				</SQLTemplate>

				<SQLTemplate transType="select">
					 <DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
					 <DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
					 <DataObjectAttributeInput index="2" name="BNFT_SYS_ID"/>
					<RSIndexToDOAttributeMap>

						<ResultIndex dataObjectAttribName="BLN_BNFT_LINE_ID" 						index="0"/>
						<ResultIndex dataObjectAttribName="BLVL_BNFT_LVL_ID" 						index="1"/>
						<ResultIndex dataObjectAttribName="BLVL_BNFT_LVL_DESC" 						index="2"/>
						<ResultIndex dataObjectAttribName="REF_ID" 									index="3"/>
						<ResultIndex dataObjectAttribName="BLN_BNFT_LINE_PVA" 						index="4"/>
						<ResultIndex dataObjectAttribName="ADMIN_LVL_OPT_ASSN_SYS_ID" 				index="5"/>
					
					</RSIndexToDOAttributeMap>
					<SearchQueryName  name="getDuplicateRef"/>
				</SQLTemplate>

				<SQLTemplate transType="select">
					 		<DataObjectAttributeInput index="0" 			name="PROD_SYS_ID"/>
					 <RSIndexToDOAttributeMap>
							<ResultIndex dataObjectAttribName="BNFT_CMPNT_SYS_ID" 						index="0"/>
							<ResultIndex dataObjectAttribName="BNFT_CMPNT_NM" 							index="1"/>	
							<ResultIndex dataObjectAttribName="BNFT_SYS_ID" 							index="2"/>
							<ResultIndex dataObjectAttribName="BNFT_ID_NM" 								index="3"/>			
							<ResultIndex dataObjectAttribName="BLN_BNFT_LINE_ID" 						index="4"/>
							<ResultIndex dataObjectAttribName="BLVL_BNFT_LVL_ID" 						index="5"/>
							<ResultIndex dataObjectAttribName="BLVL_BNFT_LVL_DESC" 						index="6"/>
							<ResultIndex dataObjectAttribName="REF_ID" 									index="7"/>
							<ResultIndex dataObjectAttribName="REFERENCE_DESC" 							index="8"/>
							<ResultIndex dataObjectAttribName="BLN_BNFT_LINE_PVA" 						index="9"/>
							<ResultIndex dataObjectAttribName="ADMIN_LVL_OPT_ASSN_SYS_ID" 				index="10"/>
					</RSIndexToDOAttributeMap>
					<SearchQueryName  name="getDuplicateAllBenefitRef"/>
				</SQLTemplate>

				<SQLTemplate transType="select">
					 <DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
					
					<RSIndexToDOAttributeMap>
						<ResultIndex dataObjectAttribName="BNFT_CMPNT_SYS_ID" 						index="0"/>
						<ResultIndex dataObjectAttribName="BNFT_CMPNT_NM" 							index="1"/>	
						<ResultIndex dataObjectAttribName="BNFT_SYS_ID" 							index="2"/>
						<ResultIndex dataObjectAttribName="BNFT_ID_NM" 								index="3"/>	
						<ResultIndex dataObjectAttribName="REF_ID" 									index="4"/>
						<ResultIndex dataObjectAttribName="REFERENCE_DESC" 							index="5"/>
						<ResultIndex dataObjectAttribName="ADMIN_LVL_OPT_ASSN_SYS_ID" 		        index="6"/>
						<ResultIndex dataObjectAttribName="ADQM_ADMN_QSTN_NBR" 				        index="7"/>
						<ResultIndex dataObjectAttribName="ADMIN_OPT_SYS_ID" 						index="8"/>
						<ResultIndex dataObjectAttribName="ADMIN_OPT_DESC_TXT" 						index="9"/>
						<ResultIndex dataObjectAttribName="ADQM_ADMN_QSTN_DESC" 					index="10"/>
					</RSIndexToDOAttributeMap>
					<SearchQueryName  name="getDuplicateAllQuestionRef"/>
				</SQLTemplate>

				<SQLTemplate transType="select">
					 <DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
					 <RSIndexToDOAttributeMap>

						<ResultIndex dataObjectAttribName="BNFT_CMPNT_SYS_ID" 						index="0"/>
						<ResultIndex dataObjectAttribName="BNFT_CMPNT_NM" 							index="1"/>
						<ResultIndex dataObjectAttribName="BNFT_CMPNT_PARNT_SYS_ID" 				index="2"/>
						<ResultIndex dataObjectAttribName="BNFT_CMPNT_VRSN_NBR" 					index="3"/>
						<ResultIndex dataObjectAttribName="BNFT_SYS_ID" 							index="4"/>
						<ResultIndex dataObjectAttribName="BNFT_ID_NM" 								index="5"/>
						<ResultIndex dataObjectAttribName="BNFT_PARNT_SYS_ID"						index="6"/>
						<ResultIndex dataObjectAttribName="BNFT_VRSN_NBR"							index="7"/>
						<ResultIndex dataObjectAttribName="ADMIN_LVL_OPT_ASSN_SYS_ID" 				index="8"/>
						
					</RSIndexToDOAttributeMap>
					<SearchQueryName  name="getProductValues"/>
				</SQLTemplate>
				<SQLTemplate transType="select">
					 <DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
					 <RSIndexToDOAttributeMap>

						<ResultIndex dataObjectAttribName="BNFT_CMPNT_SYS_ID" 						index="0"/>
						<ResultIndex dataObjectAttribName="BNFT_SYS_ID" 							index="1"/>
						<ResultIndex dataObjectAttribName="REF_ID" 									index="2"/>
						<ResultIndex dataObjectAttribName="ADMIN_LVL_OPT_ASSN_SYS_ID" 				index="3"/>
										
					</RSIndexToDOAttributeMap>
					<SearchQueryName  name="duplicateBenefitLineRef"/>
				</SQLTemplate>

				<SQLTemplate transType="select">
					 <DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
					 <RSIndexToDOAttributeMap>

						<ResultIndex dataObjectAttribName="BNFT_CMPNT_SYS_ID" 						index="0"/>
						<ResultIndex dataObjectAttribName="BNFT_SYS_ID" 							index="1"/>
						<ResultIndex dataObjectAttribName="REF_ID" 									index="2"/>
						<ResultIndex dataObjectAttribName="ADMIN_LVL_OPT_ASSN_SYS_ID" 				index="3"/>
										
					</RSIndexToDOAttributeMap>
					<SearchQueryName  name="duplicateAdminQuestRef"/>
				</SQLTemplate>


				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="REF_ID" 								toBOAttb="refId"></Pair>
					<Pair DOAttb="ADMIN_LVL_OPT_ASSN_SYS_ID" 			toBOAttb="adminLevelOptAssnSysid"></Pair>
					<Pair DOAttb="ADQM_ADMN_QSTN_NBR" 					toBOAttb="questionNumber"></Pair>
					<Pair DOAttb="ADMIN_OPT_SYS_ID" 					toBOAttb="admnSysId"></Pair>
					<Pair DOAttb="BLN_BNFT_LINE_ID" 					toBOAttb="benefitLineId"></Pair>
					<Pair DOAttb="BLVL_BNFT_LVL_ID" 					toBOAttb="benefitLevelId"></Pair>
					<Pair DOAttb="BLVL_BNFT_LVL_DESC" 					toBOAttb="benefitLevelDesc"></Pair>
					<Pair DOAttb="BLN_BNFT_LINE_PVA" 					toBOAttb="benefitLinePva"></Pair>
					<Pair DOAttb="BNFT_CMPNT_SYS_ID"					toBOAttb="benefitComponentId"></Pair>			
					<Pair DOAttb="BNFT_CMPNT_NM"						toBOAttb="benefitComponentName"></Pair>
					<Pair DOAttb="BNFT_CMPNT_PARNT_SYS_ID"				toBOAttb="benefitComponentParentId"></Pair>
					<Pair DOAttb="BNFT_CMPNT_VRSN_NBR"					toBOAttb="benefitComponentVersionNum"></Pair>
					<Pair DOAttb="BNFT_SYS_ID"							toBOAttb="benefitSysId"></Pair>
					<Pair DOAttb="BNFT_ID_NM"							toBOAttb="benefitSysName"></Pair>
					<Pair DOAttb="BNFT_PARNT_SYS_ID"					toBOAttb="benefitSysParentId"></Pair>
					<Pair DOAttb="BNFT_VRSN_NBR" 						toBOAttb="benefitSysVersionNum"></Pair>
					<Pair DOAttb="ADMIN_OPT_DESC_TXT" 					toBOAttb="adminDesc"></Pair>
					<Pair DOAttb="ADQM_ADMN_QSTN_DESC" 					toBOAttb="questionDesc"></Pair>
					<Pair DOAttb="REFERENCE_DESC" 					toBOAttb="referenceDesc"></Pair>

				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
						<Pair DOAttb="PROD_SYS_ID" 				toSCAttb="entitySysId"/>
						<Pair DOAttb="BNFT_CMPNT_SYS_ID" 		toSCAttb="benefitComponentId"/>
						<Pair DOAttb="BNFT_SYS_ID" 				toSCAttb="benefitSysId"/>
				</DoAttributeToSCAttributeMap>
			</DataObject>
  </DataSource>
 </BusinessObjectMetadata>
<BusinessObjectMetadata name="com.wellpoint.wpd.common.product.bo.ProductCheckBO">
  	<BusinessAttribute name="adminLevelOptAssnSysid"    	 		type="Int"   	keyAttrib="false"/>
  	<BusinessAttribute name="questionNumber"     					type="Int"  	keyAttrib="false"/>
  	<BusinessAttribute name="admnSysId"  							type="Int"  	keyAttrib="false"/>
	<BusinessAttribute name="refId"      							type="Int"  	keyAttrib="false"/>
	<BusinessAttribute name="entitySysId" 							type="Int"		keyAttrib="false"/>
	<BusinessAttribute name="benefitComponentId" 					type="Int"		keyAttrib="true"/>
	<BusinessAttribute name="benefitSysId" 							type="Int"		keyAttrib="true"/>
	<BusinessAttribute name="benefitLineId"  						type="Int"		keyAttrib="false"/>
	<BusinessAttribute name="benefitLevelId"  						type="Int"		keyAttrib="false"/>
	<BusinessAttribute name="benefitLevelDesc"  					type="String"	keyAttrib="false"/>
	<BusinessAttribute name="benefitLinePva"  						type="String"	keyAttrib="false"/>
	<BusinessAttribute name="benefitComponentName" 					type="String"   keyAttrib="false"/>
	<BusinessAttribute name="benefitComponentParentId"         		type="Int"      keyAttrib="true"/>
	<BusinessAttribute name="benefitComponentVersionNum"			type="Int"		keyAttrib="true"/>
	<BusinessAttribute name="benefitSysName"						type="String"	keyAttrib="false"/>
	<BusinessAttribute name="benefitSysParentId"					type="Int"		keyAttrib="true"/>
	<BusinessAttribute name="benefitSysVersionNum"					type="Int"		keyAttrib="true"/>
	<BusinessAttribute name="productStructId"						type="Int"		keyAttrib="true"/>
	


		<SearchCriteria name="searchCriteria">
			<SearchCriteriaAttribute 	name="entitySysId" 				type="Int" />
			<SearchCriteriaAttribute 	name="benefitComponentId" 				type="Int" />
						
		</SearchCriteria>

  <DataSource name="prmd" domain="medical">
   <Connection preferred="jndi">
    <url>jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG</url>
    <jndi>java:comp/env/wsbEwpdDS</jndi>
   </Connection>
   <SelectSQLQuery name="locateEntityBenefitAdministration">
	  select * from PROD_BNFT_CSTMZD 
   </SelectSQLQuery>  

	<SelectSQLQuery name="getProductValues">
					select distinct  A.BNFT_CMPNT_SYS_ID,B.BNFT_CMPNT_NM,B.BNFT_CMPNT_PARNT_SYS_ID,B.BNFT_CMPNT_VRSN_NBR,A.BNFT_SYS_ID,C.BNFT_ID_NM,C.BNFT_PARNT_SYS_ID,C.BNFT_VRSN_NBR,A.PROD_STRCTR_SYS_ID
					from PROD_BNFT_CSTMZD A,BCM_BNFT_CMPNT_MSTR B,BMST_BNFT_MSTR C where
					A.PROD_SYS_ID={0} and
					A.BNFT_CMPNT_SYS_ID = B.BNFT_CMPNT_SYS_ID and
					A.BNFT_SYS_ID = C.BNFT_SYS_ID
	</SelectSQLQuery>
	<SelectSQLQuery name="getBenefitComponentValues">
					select unique BNFT_CMPNT_SYS_ID from PROD_BNFT_CSTMZD where PROD_SYS_ID ={0} and BNFT_CMPNT_SYS_ID ={1} and 
					BNFT_HIDE_FLAG ='F' 
	</SelectSQLQuery>
				
   			 <DataObject name="PROD_BNFT_CSTMZD">
				<DataObjectAttribute name="PROD_SYS_ID" 							type="Int"/>
				<DataObjectAttribute name="BNFT_LVL_HIDE_FLAG" 						type="String"/>
				<DataObjectAttribute name="BNFT_LINE_HIDE_FLAG" 					type="String"/>	
				<DataObjectAttribute name="PROD_BNFT_CSTMZD_SYS_ID" 				type="Int"/>
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 						type="Int"/>
				<DataObjectAttribute name="BNFT_SYS_ID" 							type="Int"/>
				<DataObjectAttribute name="BNFT_LINE_COUNT" 						type="Int"/>
				<DataObjectAttribute name="REF_COUNT" 								type="Int"/>
				<DataObjectAttribute name="REF_ID" 									type="Int"/>
				<DataObjectAttribute name="ADMIN_LVL_OPT_ASSN_SYS_ID" 				type="Int"/>
				<DataObjectAttribute name="ADQM_ADMN_QSTN_NBR" 						type="Int"/>
				<DataObjectAttribute name="ADMIN_OPT_SYS_ID" 						type="Int"/>
				<DataObjectAttribute name="BLN_BNFT_LINE_ID" 						type="Int"/>
				<DataObjectAttribute name="BLVL_BNFT_LVL_ID" 						type="Int"/>
				<DataObjectAttribute name="BLVL_BNFT_LVL_DESC" 						type="String"/>
				<DataObjectAttribute name="BLN_BNFT_LINE_PVA" 						type="String"/>
				<DataObjectAttribute name="BNFT_CMPNT_NM" 							type="String"/>
				<DataObjectAttribute name="BNFT_CMPNT_PARNT_SYS_ID"         		type="Int"/>
				<DataObjectAttribute name="BNFT_CMPNT_VRSN_NBR"						type="Int"/>
				<DataObjectAttribute name="BNFT_ID_NM"								type="String"/>
				<DataObjectAttribute name="BNFT_PARNT_SYS_ID" 						type="Int"/>
				<DataObjectAttribute name="BNFT_VRSN_NBR"							type="Int"/>
				<DataObjectAttribute name="PROD_STRCTR_SYS_ID"						type="Int"/>

	
				<SQLTemplate transType="select">
					 <DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
					 <DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
					 <RSIndexToDOAttributeMap>
						<ResultIndex dataObjectAttribName="BNFT_CMPNT_SYS_ID" 						index="0"/>
					</RSIndexToDOAttributeMap>
					<SearchQueryName  name="getBenefitComponentValues"/>
				</SQLTemplate>
				<SQLTemplate transType="select">
					 <DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
					 <RSIndexToDOAttributeMap>

						<ResultIndex dataObjectAttribName="BNFT_CMPNT_SYS_ID" 						index="0"/>
						<ResultIndex dataObjectAttribName="BNFT_CMPNT_NM" 							index="1"/>
						<ResultIndex dataObjectAttribName="BNFT_CMPNT_PARNT_SYS_ID" 				index="2"/>
						<ResultIndex dataObjectAttribName="BNFT_CMPNT_VRSN_NBR" 					index="3"/>
						<ResultIndex dataObjectAttribName="BNFT_SYS_ID" 							index="4"/>
						<ResultIndex dataObjectAttribName="BNFT_ID_NM" 								index="5"/>
						<ResultIndex dataObjectAttribName="BNFT_PARNT_SYS_ID"						index="6"/>
						<ResultIndex dataObjectAttribName="BNFT_VRSN_NBR"							index="7"/>
						<ResultIndex dataObjectAttribName="PROD_STRCTR_SYS_ID"						index="8"/>
												
					</RSIndexToDOAttributeMap>
					<SearchQueryName  name="getProductValues"/>
				</SQLTemplate>


				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="REF_ID" 								toBOAttb="refId"></Pair>
					<Pair DOAttb="ADMIN_LVL_OPT_ASSN_SYS_ID" 			toBOAttb="adminLevelOptAssnSysid"></Pair>
					<Pair DOAttb="ADQM_ADMN_QSTN_NBR" 					toBOAttb="questionNumber"></Pair>
					<Pair DOAttb="ADMIN_OPT_SYS_ID" 					toBOAttb="admnSysId"></Pair>
					<Pair DOAttb="BLN_BNFT_LINE_ID" 					toBOAttb="benefitLineId"></Pair>
					<Pair DOAttb="BLVL_BNFT_LVL_ID" 					toBOAttb="benefitLevelId"></Pair>
					<Pair DOAttb="BLVL_BNFT_LVL_DESC" 					toBOAttb="benefitLevelDesc"></Pair>
					<Pair DOAttb="BLN_BNFT_LINE_PVA" 					toBOAttb="benefitLinePva"></Pair>
					<Pair DOAttb="BNFT_CMPNT_SYS_ID"					toBOAttb="benefitComponentId"></Pair>			
					<Pair DOAttb="BNFT_CMPNT_NM"						toBOAttb="benefitComponentName"></Pair>
					<Pair DOAttb="BNFT_CMPNT_PARNT_SYS_ID"				toBOAttb="benefitComponentParentId"></Pair>
					<Pair DOAttb="BNFT_CMPNT_VRSN_NBR"					toBOAttb="benefitComponentVersionNum"></Pair>
					<Pair DOAttb="BNFT_SYS_ID"							toBOAttb="benefitSysId"></Pair>
					<Pair DOAttb="BNFT_ID_NM"							toBOAttb="benefitSysName"></Pair>
					<Pair DOAttb="BNFT_PARNT_SYS_ID"					toBOAttb="benefitSysParentId"></Pair>
					<Pair DOAttb="BNFT_VRSN_NBR" 						toBOAttb="benefitSysVersionNum"></Pair>
					<Pair DOAttb="PROD_STRCTR_SYS_ID" 					toBOAttb="productStructId"></Pair>

				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
						<Pair DOAttb="PROD_SYS_ID" 				toSCAttb="entitySysId"/>
						<Pair DOAttb="BNFT_CMPNT_SYS_ID" 		toSCAttb="benefitComponentId"/>
				</DoAttributeToSCAttributeMap>
			</DataObject>
  </DataSource>
 </BusinessObjectMetadata>
 

 <BusinessObjectMetadata name="com.wellpoint.wpd.common.product.bo.ProductQuestionnaireAssnBO">
  	<BusinessAttribute name="productSysId"    	 		type="Int"   	keyAttrib="true"/>
  	<BusinessAttribute name="adminOptionSysId"     					type="Int"  	keyAttrib="false"/>
  	<BusinessAttribute name="questionId"  							type="Int"  	keyAttrib="false"/>
	<BusinessAttribute name="createdUser" 							type="String"	keyAttrib="false" />
	<BusinessAttribute name="createdTimestamp" 						type="Date"		keyAttrib="false" />
	<BusinessAttribute name="lastUpdatedUser" 						type="String"	keyAttrib="false" />
	<BusinessAttribute name="lastUpdatedTimestamp" 					type="Date"		keyAttrib="false" />
  	<BusinessAttribute name="answerOvrdId"  							type="Int"  	keyAttrib="false"/>

  <DataSource name="prmd" domain="medical">
   <Connection preferred="jndi">
    <url>jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG</url>
    <jndi>java:comp/env/wsbEwpdDS</jndi>
   </Connection>
   <SelectSQLQuery name="locateEntityBenefitAdministration">
	  select * from PROD_BNFT_CSTMZD 
   </SelectSQLQuery>  

   	<DataObject name="PROD_ADMIN_QSTN_ANSWR_OVRD">
	<DataObjectAttribute name="PROD_SYS_ID" 				type="Int"/>
	<DataObjectAttribute name="ADMIN_OPT_SYS_ID" 			type="Int"/>
	<DataObjectAttribute name="QSTNR_HRCHY_SYS_ID" 					type="Int"/>
	<DataObjectAttribute name="OVRD_ANSWR_ID" 					type="Int"/>
    <DataObjectAttribute name="LST_CHG_USR"    	       		type="String"/>
    <DataObjectAttribute name="LST_CHG_TMS"    	       		type="Date"/>
    <DataObjectAttribute name="CREATD_USER_ID"    	       	type="String"/>
    <DataObjectAttribute name="CREATD_TM_STMP"    	       	type="Date"/>
  
	<SQLTemplate transType="delete">
           <SQLQuery>
           DELETE FROM PROD_ADMIN_QSTN_ANSWR_OVRD
	       WHERE PROD_SYS_ID = ? AND ADMIN_OPT_SYS_ID = ? 
           </SQLQuery>
           <DataObjectAttributeInput 		index="0" name="PROD_SYS_ID"/>
	   	   <DataObjectAttributeInput 		index="1" name="ADMIN_OPT_SYS_ID"/>
       </SQLTemplate>
		<SQLTemplate transType="insert">
					<SQLQuery>						
						INSERT INTO PROD_ADMIN_QSTN_ANSWR_OVRD                                        
						(PROD_SYS_ID,QSTNR_HRCHY_SYS_ID,ADMIN_OPT_SYS_ID,OVRD_ANSWR_ID,LST_CHG_USR,LST_CHG_TMS,CREATD_USER_ID,CREATD_TM_STMP)
						VALUES
						(?, ?, ?, ?, ?, ?, ?, ?)							
					</SQLQuery>
					<DataObjectAttributeInput index="0"	name="PROD_SYS_ID" />				
					<DataObjectAttributeInput index="1"	name="QSTNR_HRCHY_SYS_ID" />				
					<DataObjectAttributeInput index="2"	name="ADMIN_OPT_SYS_ID" />				
					<DataObjectAttributeInput index="3"	name="OVRD_ANSWR_ID" />				

					<DataObjectAttributeInput index="4"	name="LST_CHG_USR" />
					<DataObjectAttributeInput index="5"	name="LST_CHG_TMS" />
					<DataObjectAttributeInput index="6" name="CREATD_USER_ID" />
					<DataObjectAttributeInput index="7"	name="CREATD_TM_STMP" />
				</SQLTemplate>		

				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" 								toBOAttb="productSysId"></Pair>
					<Pair DOAttb="ADMIN_OPT_SYS_ID" 			toBOAttb="adminOptionSysId"></Pair>
					<Pair DOAttb="QSTNR_HRCHY_SYS_ID" 					toBOAttb="questionId"></Pair>
					<Pair DOAttb="CREATD_USER_ID" 						toBOAttb="createdUser" />
					<Pair DOAttb="CREATD_TM_STMP" 						toBOAttb="createdTimestamp" />
					<Pair DOAttb="LST_CHG_USR" 						toBOAttb="lastUpdatedUser" />
					<Pair DOAttb="LST_CHG_TMS"						toBOAttb="lastUpdatedTimestamp" />
					<Pair DOAttb="OVRD_ANSWR_ID"						toBOAttb="answerOvrdId" />
				</DoAttributeToBOAttributeMap>
			</DataObject>
  </DataSource>
 </BusinessObjectMetadata>
 <BusinessObjectMetadata name="com.wellpoint.wpd.common.product.bo.ProductQuestionareBO">
		<BusinessAttribute name="questionnaireId"    		   type="Int"   	keyAttrib="true"/>
		<BusinessAttribute name="questionId"      			   type="Int"  		keyAttrib="false"/>
		<BusinessAttribute name="adminLevelOptionSysId"        type="Int"   	keyAttrib="false"/>
		<BusinessAttribute name="parentQuestionnaireId"        type="Int"  		keyAttrib="false"/>
		<BusinessAttribute name="selectedAnswerid"             type="Int"  		keyAttrib="false"/>
		<BusinessAttribute name="referenceId"                  type="String"  	keyAttrib="false"/>
		<BusinessAttribute name="referenceDesc"                type="String" 	keyAttrib="false"/>
		<BusinessAttribute name="questionName"                 type="String"  	keyAttrib="false"/>
		<BusinessAttribute name="selectedAnswerDesc"           type="String" 	keyAttrib="false"/>
		<BusinessAttribute name="possibleAnswerList"           type="List"  	keyAttrib="false"/>
		<BusinessAttribute name="createdUser"          		   type="String"  	keyAttrib="false"/>
		<BusinessAttribute name="createdTimestamp"             type="Date"  	keyAttrib="false"/>
		<BusinessAttribute name="lastUpdatedUser"              type="String"  	keyAttrib="false"/>
		<BusinessAttribute name="lastUpdatedTimestamp"         type="Date"  	keyAttrib="false"/>
		<BusinessAttribute name="benefitComponentId"           type="Int"  		keyAttrib="false"/>
		<BusinessAttribute name="entitySysId"         		   type="Int"  		keyAttrib="false"/>
		<BusinessAttribute name="admnLvlAsscId"        		   type="Int"  		keyAttrib="false"/>
		<BusinessAttribute name="productSysId"        		   type="Int"  		keyAttrib="false"/>
		<BusinessAttribute name="benefitDefenitionId"          type="Int"  		keyAttrib="false"/>
		<BusinessAttribute name="notes_exists"				   type="String"	keyAttrib="false"/>
		<BusinessAttribute name="validDomainToAttach"		   type="String"	keyAttrib="false"/>
		<BusinessAttribute name="questionPVA"				   type="String"	keyAttrib="false"/>
		<BusinessAttribute name="tierSysId"				  	   type="Int"		keyAttrib="true"/>


		<SearchCriteria>
			<SearchCriteriaAttribute name="admnLvlAsscId" 		type="Int"/>
			<SearchCriteriaAttribute name="entitySysId"  		type="Int"/>
			<SearchCriteriaAttribute name="benefitComponentId"   type="Int"/>
 			<SearchCriteriaAttribute name="lastUpdatedUser"  type="String"/>
		    <SearchCriteriaAttribute name="selectedAnswerid"  type="Int"/>
		    <SearchCriteriaAttribute name="questionnaireId"  type="Int"/>
			<SearchCriteriaAttribute name="productSysId"  type="Int"/>
			<SearchCriteriaAttribute name="bnftDefinitionSysId"  type="Int"/>
			<SearchCriteriaAttribute name="tierList"   type="List"/>
			<SearchCriteriaAttribute name="tierSysID"   type="List"/>
			<!-- added -->
			<SearchCriteriaAttribute name="benftAdminSysId"  type="Int"/>	
			<SearchCriteriaAttribute name="adminOptSysId"  type="Int"/>
		</SearchCriteria>
		<DataSource name="prmd" domain="medical">
			<Connection preferred="jndi">
				<url>jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>
			<SelectSQLQuery name="getQuestionnaire">
				  <!-- SELECT B.ADMIN_LVL_OPT_ASSN_SYS_ID,A.QSTNR_HRCHY_SYS_ID,A.ADQM_ADMN_QSTN_NBR,
						A.PRNT_QSTNR_HRCHY_SYS_ID,
						A.RFRNC_ID,B.OVRD_ANSWR_ID,D.ADQM_ADMN_QSTN_DESC,E.PSBL_ANSWR,F.CD_DESC_TXT,C.BNFT_DEFN_SYS_ID,
						DECODE((SELECT COUNT(*) CNT FROM NOTE_DOMAIN_OVRD_VAL WHERE  
						PRMRY_ENTY_ID = {0} AND PRMRY_ENTY_TYPE = 'ATTACHPRODUCT' AND
						SCNDRY_ENTY_ID ={2} 
						and SCNDRY_ENTY_TYPE = 'ATTACHQUESTION' and ADQM_ADMN_QSTN_NBR=A.ADQM_ADMN_QSTN_NBR and BNFT_CMPNT_SYS_ID = {1} 
						and BNFT_DEFN_SYS_ID =C.BNFT_DEFN_SYS_ID ), 0, 'N','Y') NOTE_EXIST,
						DECODE((SELECT COUNT(*) CNT FROM QSTN_DOMN_ASSN WHERE DOMN_CD  IN ('INFO-CC','INFO-SS','C-CNFG','C-MNUL') 
					and ADQM_ADMN_QSTN_NBR = D.ADQM_ADMN_QSTN_NBR), 0, 'N','Y') VALID_DOMAIN 
  						FROM   QSTNR_MSTR A,PROD_ANSWR_OVRD B,BNFT_ADMIN_TO_LVL_ASSN C,
						ADQM_ADMN_QSTN_MSTR D,PSBL_ANSWR E,ITEM F
                        WHERE A.QSTNR_HRCHY_SYS_ID = B.QSTNR_HRCHY_SYS_ID AND 
                        A.RFRNC_ID =  F.PRMRY_CD(+) and F.CTLG_ID (+)=1938 and
                        C.ADMIN_LVL_OPT_ASSN_SYS_ID = B.ADMIN_LVL_OPT_ASSN_SYS_ID and 
                        D.ADQM_ADMN_QSTN_NBR = A.ADQM_ADMN_QSTN_NBR and
                        E.PSBL_ANSWR_ID = B.OVRD_ANSWR_ID and
						B.PROD_SYS_ID = {0} and
						B.BNFT_CMPNT_SYS_ID = {1} and
						B.ADMIN_LVL_OPT_ASSN_SYS_ID ={2}
                        ORDER BY  A.SQNC_NBR -->

						 SELECT 
					  G.ADMIN_LVL_OPT_ASSN_SYS_ID,
	          		  A.QSTNR_HRCHY_SYS_ID,
					  A.ADQM_ADMN_QSTN_NBR,
					  A.PRNT_QSTNR_HRCHY_SYS_ID,
					  A.RFRNC_ID,
					  B.OVRD_ANSWR_ID,
					  D.ADQM_ADMN_QSTN_DESC,
					  E.PSBL_ANSWR,
					  F.CD_DESC_TXT,
					  <!-- D.PRVDR_ARNGMNT, -->
					  G.BNFT_DEFN_SYS_ID,
					  CASE
				      (SELECT 'Y' FROM note_domain_ovrd_val note,BNFT_ADMIN_TO_LVL_ASSN admn
				      WHERE prmry_enty_type ='ATTACHPRODUCT'
				      AND prmry_enty_id     = {1}
				      AND scndry_enty_id    = {4}	
				      AND scndry_enty_type  ='ATTACHQUESTION'
				      AND adqm_admn_qstn_nbr=D.ADQM_ADMN_QSTN_NBR
				      AND bnft_cmpnt_sys_id = {3}
				      AND admn.bnft_admin_sys_id = {0}				      
					    AND NOTE.BNFT_DEFN_SYS_ID = admn.bnft_defn_sys_id 
					    AND admn.admin_lvl_opt_assn_sys_id = note.scndry_enty_id 
				      )
				    WHEN 'Y'
				    THEN 'Y'
				    ELSE 'N'
				  END AS NOTE_EXIST,	
				  DECODE(
				  (SELECT COUNT(*) CNT FROM QSTN_DOMN_ASSN WHERE DOMN_CD IN ('INFO-CC','INFO-SS','C-CNFG','C-MNUL')
				  AND ADQM_ADMN_QSTN_NBR     = D.ADQM_ADMN_QSTN_NBR
				  ), 0, 'N','Y') VALID_DOMAIN	
				  FROM QSTNR_MSTR A,				     
				(SELECT  
				  A.QSTNR_HRCHY_SYS_ID,
				  A.OVRD_ANSWR_ID
				FROM 
				  PROD_ANSWR_OVRD A 				  
				WHERE 
				 A.ADMIN_LVL_OPT_ASSN_SYS_ID = {4}  
				 AND A.PROD_SYS_ID           = {1}
				 AND A.BNFT_CMPNT_SYS_ID     = {3}
				
				UNION ALL	
				
				SELECT 
				  qstnr_hrchy_sys_id, psbl_answr_id
				FROM
				  (SELECT a.qstnr_hrchy_sys_id, b.psbl_answr_id, a.adqm_admn_qstn_nbr 
				  FROM
				    (SELECT a.qstnr_hrchy_sys_id, a.adqm_admn_qstn_nbr
				    FROM qstnr_mstr a
				    WHERE a.admin_opt_sys_id      = {2}
				    AND A.prnt_qstnr_hrchy_sys_id = A.qstnr_hrchy_sys_id
					    UNION ALL 
				
				  SELECT b.qstnr_hrchy_sys_id, b.adqm_admn_qstn_nbr							
			    FROM PROD_answr_ovrd A, qstnr_mstr b 							
			    WHERE A.admin_lvl_opt_assn_sys_id = {4} 					
			    AND a.bnft_cmpnt_sys_id           = {3}							
			    AND a.PROD_SYS_ID                 = {1} 							
			    AND a.qstnr_hrchy_sys_id          = b.prnt_qstnr_hrchy_sys_id							
			    AND a.ovrd_answr_id               = b.prnt_answr_id							
			    AND b.admin_opt_sys_id            = {2}							
			    ) a,							
			    psbl_answr b							
			    WHERE A.adqm_admn_qstn_nbr    = b.adqm_admn_qstn_nbr							
			  AND b.psbl_answr                = 'Not Answered'							
			  AND a.qstnr_hrchy_sys_id NOT IN 							
			    (SELECT qstnr_hrchy_sys_id FROM PROD_answr_ovrd A 						
			    WHERE A.admin_lvl_opt_assn_sys_id = {4} 									    							
			    AND bnft_cmpnt_sys_id             = {3}							
			    AND PROD_SYS_ID                   = {1}							
			    )							
			  ) a,							
			  ADQM_ADMN_QSTN_MSTR e
							
			WHERE a.adqm_admn_qstn_nbr = e.ADQM_ADMN_QSTN_NBR							
			AND isdomainvalid ('product', {5} ,'QUESTION',A.qstnr_hrchy_sys_id) = 'T' 							
			AND (e.PRVDR_ARNGMNT is null or  e.PRVDR_ARNGMNT IN 								
			  (SELECT z.pva_id							
			  FROM enty_domn_info x,avlbl_domn y,prod_fmly_buss_enty_pva_map z,prod_mstr b							
			  WHERE x.enty_type     = 'product'							
			  AND x.enty_sys_id     = {5} <!-- parent id -->							
			  AND x.domn_sys_id     = y.domn_sys_id							
			  AND y.bus_enty_nm     = z.buss_enty_id							
			  AND z.prod_fmly_id    = b.prod_fmly_nm							
			  AND b.PROD_SYS_ID     = {1}  ))							
			  ) B,							
			  ADQM_ADMN_QSTN_MSTR D,BNFT_ADMIN_TO_LVL_ASSN G, 							
			  PSBL_ANSWR E,							
			  ITEM F
							
			WHERE A.QSTNR_HRCHY_SYS_ID      = B.QSTNR_HRCHY_SYS_ID		
			AND A.ADMIN_OPT_SYS_ID          = G.ADMIN_OPT_SYS_ID
			AND G.ADMIN_LVL_OPT_ASSN_SYS_ID = {4}					
			AND D.ADQM_ADMN_QSTN_NBR        = A.ADQM_ADMN_QSTN_NBR							
			AND E.PSBL_ANSWR_ID             = B.OVRD_ANSWR_ID							
			AND E.adqm_admn_qstn_nbr        = A.adqm_admn_qstn_nbr							
			AND A.RFRNC_ID                  = F.PRMRY_CD(+)							
			AND F.CTLG_ID (+)               =1938								
			ORDER BY A.QSTNR_DSPLY_SQNC_NBR

			</SelectSQLQuery>
			<SelectSQLQuery name="getTieredQuestionnaires" dynamic="true" >
				<STATIC>
				   <!-- SELECT B.ADMIN_LVL_OPT_ASSN_SYS_ID,A.QSTNR_HRCHY_SYS_ID,A.ADQM_ADMN_QSTN_NBR,
						A.PRNT_QSTNR_HRCHY_SYS_ID,
						A.RFRNC_ID,B.OVRD_ANSWR_ID,D.ADQM_ADMN_QSTN_DESC,E.PSBL_ANSWR,F.CD_DESC_TXT,C.BNFT_DEFN_SYS_ID,B.PROD_TIER_SYS_ID,
						DECODE((SELECT COUNT(*) CNT FROM TIER_NOTE_OVRD_VAL WHERE  
						PRMRY_ENTY_ID = {0} AND PRMRY_ENTY_TYPE = 'ATTACHPRODUCT' AND
						SCNDRY_ENTY_ID ={2} 
						and SCNDRY_ENTY_TYPE = 'ATTACHQUESTION' and ADQM_ADMN_QSTN_NBR=A.ADQM_ADMN_QSTN_NBR and TIER_SYS_ID= B.PROD_TIER_SYS_ID and BNFT_CMPNT_SYS_ID = {1} 
						and BNFT_DEFN_SYS_ID =C.BNFT_DEFN_SYS_ID), 0, 'N','Y') NOTE_EXIST,
						DECODE((SELECT COUNT(*) CNT FROM QSTN_DOMN_ASSN WHERE DOMN_CD  IN ('INFO-CC','INFO-SS','C-CNFG','C-MNUL') 
					and ADQM_ADMN_QSTN_NBR = D.ADQM_ADMN_QSTN_NBR), 0, 'N','Y') VALID_DOMAIN 
  						FROM   QSTNR_MSTR A,PROD_TIER_ANSWR_OVRD B,BNFT_ADMIN_TO_LVL_ASSN C,
						ADQM_ADMN_QSTN_MSTR D,PSBL_ANSWR E,ITEM F
                        WHERE A.QSTNR_HRCHY_SYS_ID = B.QSTNR_HRCHY_SYS_ID AND 
                        A.RFRNC_ID =  F.PRMRY_CD(+) and F.CTLG_ID (+)=1938 and
                        C.ADMIN_LVL_OPT_ASSN_SYS_ID = B.ADMIN_LVL_OPT_ASSN_SYS_ID and 
                        D.ADQM_ADMN_QSTN_NBR = A.ADQM_ADMN_QSTN_NBR and
                        E.PSBL_ANSWR_ID = B.OVRD_ANSWR_ID and
						B.PROD_SYS_ID = {0} and
						B.BNFT_CMPNT_SYS_ID = {1} and
						B.ADMIN_LVL_OPT_ASSN_SYS_ID ={2} and 
                                                B.PROD_TIER_SYS_ID {3}
                        ORDER BY   B.PROD_TIER_SYS_ID , A.SQNC_NBR -->

						
							SELECT 
							  G.ADMIN_LVL_OPT_ASSN_SYS_ID, 
							  A.QSTNR_HRCHY_SYS_ID, 
							  A.ADQM_ADMN_QSTN_NBR,
							  A.PRNT_QSTNR_HRCHY_SYS_ID, 
							  A.RFRNC_ID,
							  B.OVRD_ANSWR_ID, 
							  D.ADQM_ADMN_QSTN_DESC, 
							  E.PSBL_ANSWR,
							  F.CD_DESC_TXT,
							  G.BNFT_DEFN_SYS_ID,
							  B.PROD_TIER_SYS_ID,
							  CASE
							      (SELECT 'Y'
							      FROM TIER_NOTE_OVRD_VAL t, BNFT_ADMIN_TO_LVL_ASSN a 
							      WHERE t.scndry_enty_id          = a.admin_lvl_opt_assn_sys_id  
								  AND t.prmry_enty_type           ='ATTACHPRODUCT' 
							      AND t.prmry_enty_id             = {1}  
							      AND scndry_enty_id              = {4} 
							      AND scndry_enty_type            = 'ATTACHQUESTION' 
							      AND adqm_admn_qstn_nbr          = D.ADQM_ADMN_QSTN_NBR 
							      AND bnft_cmpnt_sys_id           = {3} 
								  AND a.bnft_admin_sys_id         = {0} 
							      AND t.bnft_defn_sys_id          = a.bnft_defn_sys_id 
							      AND TIER_SYS_ID                 = B.PROD_TIER_SYS_ID 
								  AND a.admin_lvl_opt_assn_sys_id = t.scndry_enty_id
							      )
							    WHEN 'Y'
							    THEN 'Y'
							    ELSE 'N'
							  END AS NOTE_EXIST, 
							  DECODE(
							  (SELECT COUNT(*) CNT FROM QSTN_DOMN_ASSN WHERE DOMN_CD IN ('INFO-CC','INFO-SS','C-CNFG','C-MNUL')
							  AND ADQM_ADMN_QSTN_NBR      = D.ADQM_ADMN_QSTN_NBR
							  ), 0, 'N','Y') VALID_DOMAIN
							FROM QSTNR_MSTR A, 
							  (SELECT A.QSTNR_HRCHY_SYS_ID,A.OVRD_ANSWR_ID, A.PROD_TIER_SYS_ID 
							
							FROM 
							  PROD_TIER_ANSWR_OVRD A 							  
							WHERE 
							 A.ADMIN_LVL_OPT_ASSN_SYS_ID = {4} 
							AND A.PROD_SYS_ID            = {1} 							
							AND A.BNFT_CMPNT_SYS_ID      = {3}
							
							UNION ALL	
							
							SELECT 
							  qstnr_hrchy_sys_id, psbl_answr_id, prod_tier_sys_id
							FROM
							  (SELECT 
							    a.qstnr_hrchy_sys_id,b.psbl_answr_id, a.adqm_admn_qstn_nbr,a.prod_tier_sys_id
							  FROM
							    (SELECT a.qstnr_hrchy_sys_id,a.adqm_admn_qstn_nbr,m.prod_tier_sys_id
							    FROM qstnr_mstr a, prod_tier_mstr m	
							    WHERE a.admin_opt_sys_id      = {2}
							    AND A.prnt_qstnr_hrchy_sys_id = A.qstnr_hrchy_sys_id 
								and m.prod_tier_sys_id {6}    
							    UNION ALL 
							    SELECT b.qstnr_hrchy_sys_id,b.adqm_admn_qstn_nbr,a.prod_tier_sys_id 
							    FROM prod_tier_answr_ovrd A,  
							      qstnr_mstr b 
							    WHERE A.admin_lvl_opt_assn_sys_id = {4} 
							    AND a.bnft_cmpnt_sys_id           = {3}
							    AND a.PROD_SYS_ID                 = {1}
							    AND a.qstnr_hrchy_sys_id          = b.prnt_qstnr_hrchy_sys_id
							    AND a.ovrd_answr_id               = b.prnt_answr_id
							    AND b.admin_opt_sys_id            = {2}
							    ) a,
							    psbl_answr b
							  WHERE A.adqm_admn_qstn_nbr    = b.adqm_admn_qstn_nbr
							  AND b.psbl_answr              = 'Not Answered'
							  AND (a.prod_tier_sys_id, a.qstnr_hrchy_sys_id) NOT IN 
							    (SELECT a.prod_tier_sys_id, a.qstnr_hrchy_sys_id
							    FROM prod_tier_answr_ovrd A 
							    WHERE A.admin_lvl_opt_assn_sys_id = {4} 
							    AND bnft_cmpnt_sys_id             = {3}
							    AND PROD_SYS_ID                   = {1}
							    )) a,
							  ADQM_ADMN_QSTN_MSTR e
							WHERE a.adqm_admn_qstn_nbr = e.ADQM_ADMN_QSTN_NBR
							AND isdomainvalid ('product',{5},'QUESTION',A.qstnr_hrchy_sys_id) = 'T'
							AND (e.PRVDR_ARNGMNT   is null or  e.PRVDR_ARNGMNT IN	
							  (SELECT z.pva_id
							  FROM enty_domn_info x,avlbl_domn y,prod_fmly_buss_enty_pva_map z ,prod_mstr b
							  WHERE x.enty_type     = 'product'
							  AND x.enty_sys_id     = {5}  
							  AND x.domn_sys_id     = y.domn_sys_id
							  AND y.bus_enty_nm     = z.buss_enty_id
							  AND z.prod_fmly_id    = b.prod_fmly_nm
							  AND b.prod_sys_id     = {1} 
							  ))
							  ) B,
							  ADQM_ADMN_QSTN_MSTR D,BNFT_ADMIN_TO_LVL_ASSN G,
							  PSBL_ANSWR E,
							  ITEM F
							WHERE A.QSTNR_HRCHY_SYS_ID      = B.QSTNR_HRCHY_SYS_ID
							AND A.ADMIN_OPT_SYS_ID          = G.ADMIN_OPT_SYS_ID 
							and G.ADMIN_LVL_OPT_ASSN_SYS_ID = {4} 
							AND D.ADQM_ADMN_QSTN_NBR        = A.ADQM_ADMN_QSTN_NBR 
							AND E.adqm_admn_qstn_nbr        = A.adqm_admn_qstn_nbr
							AND E.PSBL_ANSWR_ID             = B.OVRD_ANSWR_ID 
							AND A.RFRNC_ID                  = F.PRMRY_CD(+) 
							AND F.CTLG_ID (+)               = 1938 
							ORDER BY B.PROD_TIER_SYS_ID,  A.SQNC_NBR
				</STATIC>
			</SelectSQLQuery>	
			<!--<SelectSQLQuery name="refreshQuestionaireProc">
				CALL BC_REFRESHQUESTIONARE({0},{1},{2})
			</SelectSQLQuery>-->
		   <SelectSQLQuery name="getChildQuestionnaire">
			SELECT  A.QSTNR_HRCHY_SYS_ID,A.ADQM_ADMN_QSTN_NBR,A.PRNT_QSTNR_HRCHY_SYS_ID,A.RFRNC_ID,C.PSBL_ANSWR_ID,B.ADQM_ADMN_QSTN_DESC,
			 		    C.PSBL_ANSWR,D.CD_DESC_TXT,
			 		    DECODE((SELECT COUNT(*) CNT FROM NOTE_DOMAIN_OVRD_VAL WHERE  
					PRMRY_ENTY_ID = {6} AND PRMRY_ENTY_TYPE = 'ATTACHPRODUCT' 
					AND SCNDRY_ENTY_ID ={3} 
					and SCNDRY_ENTY_TYPE = 'ATTACHQUESTION' and ADQM_ADMN_QSTN_NBR=A.ADQM_ADMN_QSTN_NBR and bnft_cmpnt_sys_id={4} and bnft_defn_sys_id={5}), 0, 'N','Y') NOTE_EXISTS ,
					DECODE((SELECT COUNT(*) CNT FROM QSTN_DOMN_ASSN WHERE DOMN_CD  IN ('INFO-CC','INFO-SS','C-CNFG','C-MNUL') 
					and ADQM_ADMN_QSTN_NBR = B.ADQM_ADMN_QSTN_NBR), 0, 'N','Y') VALID_DOMAIN
				FROM 	QSTNR_MSTR A,ADQM_ADMN_QSTN_MSTR B,PSBL_ANSWR C,ITEM D,PROD_MSTR  E
				WHERE	B.ADQM_ADMN_QSTN_NBR = A.ADQM_ADMN_QSTN_NBR and 
				        C.ADQM_ADMN_QSTN_NBR = A.ADQM_ADMN_QSTN_NBR and 
				        PRNT_ANSWR_ID ={0} and  PRNT_QSTNR_HRCHY_SYS_ID ={1} and
				        upper( C.PSBL_ANSWR) ='NOT ANSWERED' and
				        A.RFRNC_ID =  D.PRMRY_CD(+) and D.CTLG_ID(+) =1938 and
						E.PROD_PARNT_SYS_ID = {2} and 
				        IsDomainValid('product',E.PROD_PARNT_SYS_ID, 'QUESTION', QSTNR_HRCHY_SYS_ID)='T' 
						AND IsValidQuestionPVA ('product',{6},'question',B.PRVDR_ARNGMNT,B.ADQM_ADMN_QSTN_NBR) ='T'
						ORDER BY  A.SQNC_NBR
			</SelectSQLQuery>
			 <SelectSQLQuery name="getChildTierQuestionnaire">
			 SELECT  A.QSTNR_HRCHY_SYS_ID,A.ADQM_ADMN_QSTN_NBR,A.PRNT_QSTNR_HRCHY_SYS_ID,A.RFRNC_ID,C.PSBL_ANSWR_ID,B.ADQM_ADMN_QSTN_DESC,
			 		    C.PSBL_ANSWR,D.CD_DESC_TXT,
			 		    DECODE((SELECT COUNT(*) CNT FROM TIER_NOTE_OVRD_VAL WHERE  
					PRMRY_ENTY_ID = {6} AND PRMRY_ENTY_TYPE = 'ATTACHPRODUCT' 
					AND SCNDRY_ENTY_ID ={3} 
					and SCNDRY_ENTY_TYPE = 'ATTACHQUESTION' and ADQM_ADMN_QSTN_NBR=A.ADQM_ADMN_QSTN_NBR and bnft_cmpnt_sys_id={4} and TIER_SYS_ID={7} and bnft_defn_sys_id={5}), 0, 'N','Y') NOTE_EXISTS ,
					DECODE((SELECT COUNT(*) CNT FROM QSTN_DOMN_ASSN WHERE DOMN_CD  IN ('INFO-CC','INFO-SS','C-CNFG','C-MNUL') 
					and ADQM_ADMN_QSTN_NBR = B.ADQM_ADMN_QSTN_NBR), 0, 'N','Y') VALID_DOMAIN
				FROM 	QSTNR_MSTR A,ADQM_ADMN_QSTN_MSTR B,PSBL_ANSWR C,ITEM D,PROD_MSTR  E
				WHERE	B.ADQM_ADMN_QSTN_NBR = A.ADQM_ADMN_QSTN_NBR and 
				        C.ADQM_ADMN_QSTN_NBR = A.ADQM_ADMN_QSTN_NBR and 
				        PRNT_ANSWR_ID ={0} and  PRNT_QSTNR_HRCHY_SYS_ID ={1} and
				        upper( C.PSBL_ANSWR) ='NOT ANSWERED' and
				        A.RFRNC_ID =  D.PRMRY_CD(+) and D.CTLG_ID(+) =1938 and
						E.PROD_PARNT_SYS_ID = {2} and 
				        IsDomainValid('product',E.PROD_PARNT_SYS_ID, 'QUESTION', QSTNR_HRCHY_SYS_ID)='T' 
						AND IsValidQuestionPVA ('product',{6},'question',B.PRVDR_ARNGMNT,B.ADQM_ADMN_QSTN_NBR) ='T'
						ORDER BY  A.SQNC_NBR
			</SelectSQLQuery>
			<SelectSQLQuery name="getAllQuestionsandPVA">
		  	  SELECT distinct A.QSTNR_HRCHY_SYS_ID,A.ADQM_ADMN_QSTN_NBR,C.PRVDR_ARNGMNT
		      FROM QSTNR_MSTR A,PROD_ANSWR_OVRD B,ADQM_ADMN_QSTN_MSTR C
		      WHERE A.QSTNR_HRCHY_SYS_ID = B.QSTNR_HRCHY_SYS_ID AND 
		      B.PROD_SYS_ID = {0} and
		      B.BNFT_CMPNT_SYS_ID = {1} and 
			  A.ADQM_ADMN_QSTN_NBR = C.ADQM_ADMN_QSTN_NBR
  			</SelectSQLQuery>	
			<DataObject name="PROD_ANSWR_OVRD">
				<DataObjectAttribute name="ADMIN_LVL_OPT_ASSN_SYS_ID"  type="Int"/>
				<DataObjectAttribute name="QSTNR_HRCHY_SYS_ID"    	   type="Int"/>
				<DataObjectAttribute name="ADQM_ADMN_QSTN_NBR"    	   type="Int"/>
				<DataObjectAttribute name="PRNT_QSTNR_HRCHY_SYS_ID"    type="Int"/>
				<DataObjectAttribute name="RFRNC_ID"    			   type="String"/>
				<DataObjectAttribute name="OVRD_ANSWR_ID"    		   type="Int"/>
				<DataObjectAttribute name="ADQM_ADMN_QSTN_DESC"        type="String"/>
				<DataObjectAttribute name="PSBL_ANSWR"    		       type="String"/>
				<DataObjectAttribute name="ADMIN_OPT_SYS_ID"    	   type="Int"/>
				<DataObjectAttribute name="PROD_SYS_ID"  		  	   type="Int"/>
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID"    	   type="Int"/>
				<DataObjectAttribute name="LST_CHG_USR"    	           type="String"/>
			    <DataObjectAttribute name="CD_DESC_TXT"         	   type="String"/>	
				<DataObjectAttribute name="LST_CHG_TMS"   			   type="Date"/>
   		        <DataObjectAttribute name="CREATD_USER_ID"    		   type="String"/>
			    <DataObjectAttribute name="CREATD_TM_STMP"   		   type="Date"/>	
				<DataObjectAttribute name="PROD_PARNT_SYS_ID"    	   type="Int"/>
				<DataObjectAttribute name="PRNT_ANSWR_ID"    	   	   type="Int"/>
				<DataObjectAttribute name="BNFT_DEFN_SYS_ID"    	   type="Int"/>
				<DataObjectAttribute name="NOTE_EXIST"    	   		   type="String"/>
				<DataObjectAttribute name="VALID_DOMAIN"    	   	   type="String"/>
				<DataObjectAttribute name="PRVDR_ARNGMNT" 			   type="String"/>
				<DataObjectAttribute name="TIER_SYS_ID" 			   type="Int"/>
				<DataObjectAttribute name="TIER_SYS_ID_IN" 			   type="Int"/>
				<DataObjectAttribute name="BNFT_ADMIN_SYS_ID" 			   type="Int"/>
				
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="BNFT_ADMIN_SYS_ID"/>
					<DataObjectAttributeInput index="1" name="PROD_SYS_ID"/>
					<DataObjectAttributeInput index="2" name="ADMIN_OPT_SYS_ID"/>
					<DataObjectAttributeInput index="3" name="BNFT_CMPNT_SYS_ID"/> 
					<DataObjectAttributeInput index="4" name="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
					<DataObjectAttributeInput index="5" name="PROD_PARNT_SYS_ID"/>
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName ="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
						<ResultIndex index="1" dataObjectAttribName ="QSTNR_HRCHY_SYS_ID"/>
						<ResultIndex index="2" dataObjectAttribName ="ADQM_ADMN_QSTN_NBR"/>
						<ResultIndex index="3" dataObjectAttribName ="PRNT_QSTNR_HRCHY_SYS_ID"/>
						<ResultIndex index="4" dataObjectAttribName ="RFRNC_ID"/>
						<ResultIndex index="5" dataObjectAttribName ="OVRD_ANSWR_ID"/>
						<ResultIndex index="6" dataObjectAttribName ="ADQM_ADMN_QSTN_DESC"/>
						<ResultIndex index="7" dataObjectAttribName ="PSBL_ANSWR"/>
						<ResultIndex index="8" dataObjectAttribName ="CD_DESC_TXT"/>
						<ResultIndex index="9" dataObjectAttribName ="BNFT_DEFN_SYS_ID"/>
						<ResultIndex index="10" dataObjectAttribName ="NOTE_EXIST"/>
						<ResultIndex index="11" dataObjectAttribName ="VALID_DOMAIN"/>


					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getQuestionnaire"/>
				</SQLTemplate>

				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="BNFT_ADMIN_SYS_ID"/>
					<DataObjectAttributeInput index="1" name="PROD_SYS_ID"/>
					<DataObjectAttributeInput index="2" name="ADMIN_OPT_SYS_ID"/>
					<DataObjectAttributeInput index="3" name="BNFT_CMPNT_SYS_ID"/> 
					<DataObjectAttributeInput index="4" name="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
					<DataObjectAttributeInput index="5" name="PROD_PARNT_SYS_ID"/>
					<DataObjectAttributeInput index="6" name="TIER_SYS_ID"/>
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName ="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
						<ResultIndex index="1" dataObjectAttribName ="QSTNR_HRCHY_SYS_ID"/>
						<ResultIndex index="2" dataObjectAttribName ="ADQM_ADMN_QSTN_NBR"/>
						<ResultIndex index="3" dataObjectAttribName ="PRNT_QSTNR_HRCHY_SYS_ID"/>
						<ResultIndex index="4" dataObjectAttribName ="RFRNC_ID"/>
						<ResultIndex index="5" dataObjectAttribName ="OVRD_ANSWR_ID"/>
						<ResultIndex index="6" dataObjectAttribName ="ADQM_ADMN_QSTN_DESC"/>
						<ResultIndex index="7" dataObjectAttribName ="PSBL_ANSWR"/>
						<ResultIndex index="8" dataObjectAttribName ="CD_DESC_TXT"/>
						<ResultIndex index="9" dataObjectAttribName ="BNFT_DEFN_SYS_ID"/>
						<ResultIndex index="10" dataObjectAttribName ="TIER_SYS_ID"/>	
						<ResultIndex index="11" dataObjectAttribName ="NOTE_EXIST"/>
						<ResultIndex index="12" dataObjectAttribName ="VALID_DOMAIN"/>
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getTieredQuestionnaires"/>
				</SQLTemplate>

				<!--  <SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="BNFT_CMPNT_SYS_ID"/>
					<DataObjectAttributeInput index="1" name="LST_CHG_USR"/>
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName ="QSTNR_HRCHY_SYS_ID"/>
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="refreshQuestionaireProc"/>
				</SQLTemplate>-->

				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PRNT_ANSWR_ID"/>
					<DataObjectAttributeInput index="1" name="PRNT_QSTNR_HRCHY_SYS_ID"/>
					<DataObjectAttributeInput index="2" name="PROD_PARNT_SYS_ID"/>
					<DataObjectAttributeInput index="3" name="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
					<DataObjectAttributeInput index="4" name="BNFT_CMPNT_SYS_ID"/>
					<DataObjectAttributeInput index="5" name="BNFT_DEFN_SYS_ID"/>
					<DataObjectAttributeInput index="6" name="PROD_SYS_ID"/>

					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName ="QSTNR_HRCHY_SYS_ID"/>
						<ResultIndex index="1" dataObjectAttribName ="ADQM_ADMN_QSTN_NBR"/>
						<ResultIndex index="2" dataObjectAttribName ="PRNT_QSTNR_HRCHY_SYS_ID"/>
						<ResultIndex index="3" dataObjectAttribName ="RFRNC_ID"/>
						<ResultIndex index="4" dataObjectAttribName ="OVRD_ANSWR_ID"/>
						<ResultIndex index="5" dataObjectAttribName ="ADQM_ADMN_QSTN_DESC"/>
						<ResultIndex index="6" dataObjectAttribName ="PSBL_ANSWR"/>
						<ResultIndex index="7" dataObjectAttribName ="CD_DESC_TXT"/>
						<ResultIndex index="8" dataObjectAttribName ="NOTE_EXIST"/>
						<ResultIndex index="9" dataObjectAttribName ="VALID_DOMAIN"/>
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getChildQuestionnaire"/>
				</SQLTemplate>

				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PRNT_ANSWR_ID"/>
					<DataObjectAttributeInput index="1" name="PRNT_QSTNR_HRCHY_SYS_ID"/>
					<DataObjectAttributeInput index="2" name="PROD_PARNT_SYS_ID"/>
					<DataObjectAttributeInput index="3" name="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
					<DataObjectAttributeInput index="4" name="BNFT_CMPNT_SYS_ID"/>
					<DataObjectAttributeInput index="5" name="BNFT_DEFN_SYS_ID"/>
					<DataObjectAttributeInput index="6" name="PROD_SYS_ID"/>
					<DataObjectAttributeInput index="7" name="TIER_SYS_ID_IN"/>

					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" dataObjectAttribName ="QSTNR_HRCHY_SYS_ID"/>
						<ResultIndex index="1" dataObjectAttribName ="ADQM_ADMN_QSTN_NBR"/>
						<ResultIndex index="2" dataObjectAttribName ="PRNT_QSTNR_HRCHY_SYS_ID"/>
						<ResultIndex index="3" dataObjectAttribName ="RFRNC_ID"/>
						<ResultIndex index="4" dataObjectAttribName ="OVRD_ANSWR_ID"/>
						<ResultIndex index="5" dataObjectAttribName ="ADQM_ADMN_QSTN_DESC"/>
						<ResultIndex index="6" dataObjectAttribName ="PSBL_ANSWR"/>
						<ResultIndex index="7" dataObjectAttribName ="CD_DESC_TXT"/>
						<ResultIndex index="8" dataObjectAttribName ="NOTE_EXIST"/>
						<ResultIndex index="9" dataObjectAttribName ="VALID_DOMAIN"/>
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getChildTierQuestionnaire"/>
				</SQLTemplate>
			<!-- SQLTemplate transType="delete">
			<SQLQuery>
				DELETE FROM PROD_ANSWR_OVRD
				WHERE PROD_SYS_ID = ? AND ADMIN_LVL_OPT_ASSN_SYS_ID = ? 
			</SQLQuery>
				<DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
				<DataObjectAttributeInput index="1" name="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
		    </SQLTemplate -->

			<SQLTemplate transType="delete">
			<SQLQuery>
				DELETE FROM PROD_ANSWR_OVRD
				WHERE PROD_SYS_ID = ? AND ADMIN_LVL_OPT_ASSN_SYS_ID = ? AND QSTNR_HRCHY_SYS_ID =?
			</SQLQuery>
				<DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
				<DataObjectAttributeInput index="1" name="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
				<DataObjectAttributeInput index="2" name="QSTNR_HRCHY_SYS_ID"/>
		    </SQLTemplate>

			<SQLTemplate transType="update">
			<SQLQuery>				
				UPDATE  PROD_ANSWR_OVRD SET OVRD_ANSWR_ID = ? 
				WHERE (PROD_SYS_ID = ? AND ADMIN_LVL_OPT_ASSN_SYS_ID = ? AND QSTNR_HRCHY_SYS_ID =?)
			</SQLQuery>
				<DataObjectAttributeInput index="0" name="OVRD_ANSWR_ID"/>
				<DataObjectAttributeInput index="1" name="PROD_SYS_ID"/>
				<DataObjectAttributeInput index="2" name="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
				<DataObjectAttributeInput index="3" name="QSTNR_HRCHY_SYS_ID"/>
		    </SQLTemplate>

			<SQLTemplate transType="insert">
						<SQLQuery>
								 INSERT INTO PROD_ANSWR_OVRD ( ADMIN_LVL_OPT_ASSN_SYS_ID, QSTNR_HRCHY_SYS_ID, 
								 OVRD_ANSWR_ID,BNFT_CMPNT_SYS_ID, PROD_SYS_ID, 
								 LST_CHG_USR, LST_CHG_TMS, CREATD_USER_ID, CREATD_TM_STMP)
            					 VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?)
						</SQLQuery>
						<DataObjectAttributeInput index="0" name="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
						<DataObjectAttributeInput index="1" name="QSTNR_HRCHY_SYS_ID"/>
						<DataObjectAttributeInput index="2" name="OVRD_ANSWR_ID"/>
						<DataObjectAttributeInput index="3" name="BNFT_CMPNT_SYS_ID"/>
						<DataObjectAttributeInput index="4" name="PROD_SYS_ID"/>
						<DataObjectAttributeInput index="5" name="LST_CHG_USR"/>
						<DataObjectAttributeInput index="6" name="LST_CHG_TMS"/>
						<DataObjectAttributeInput index="7" name="CREATD_USER_ID"/>
						<DataObjectAttributeInput index="8" name="CREATD_TM_STMP"/>
				</SQLTemplate>
				<SQLTemplate transType="select">
						<DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
						<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
				           <RSIndexToDOAttributeMap>
								<ResultIndex index="0" dataObjectAttribName ="QSTNR_HRCHY_SYS_ID"/>
								<ResultIndex index="1" dataObjectAttribName ="ADQM_ADMN_QSTN_NBR"/>
								<ResultIndex index="2" dataObjectAttribName ="PRVDR_ARNGMNT"/>
				           </RSIndexToDOAttributeMap>
				     	<SearchQueryName name="getAllQuestionsandPVA"/>
		 		</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="ADMIN_LVL_OPT_ASSN_SYS_ID"    			toBOAttb="admnLvlAsscId"/>
					<Pair DOAttb="QSTNR_HRCHY_SYS_ID"    					toBOAttb="questionnaireId"/>
					<Pair DOAttb="ADQM_ADMN_QSTN_NBR"   					toBOAttb="questionId"/>
					<Pair DOAttb="PRNT_QSTNR_HRCHY_SYS_ID"    				toBOAttb="parentQuestionnaireId"/>
					<Pair DOAttb="RFRNC_ID"    							    toBOAttb="referenceId"/>
					<Pair DOAttb="OVRD_ANSWR_ID"    						toBOAttb="selectedAnswerid"/>
					<Pair DOAttb="ADQM_ADMN_QSTN_DESC"   				    toBOAttb="questionName"/>
					<Pair DOAttb="PSBL_ANSWR"    						    toBOAttb="selectedAnswerDesc"/>
					<Pair DOAttb="CD_DESC_TXT"    						    toBOAttb="referenceDesc"/>
 					<Pair DOAttb="LST_CHG_TMS"   							toBOAttb="lastUpdatedTimestamp"/>
			        <Pair DOAttb="LST_CHG_USR"    							toBOAttb="lastUpdatedUser"/>
			        <Pair DOAttb="CREATD_USER_ID"    						toBOAttb="createdUser"/>
			        <Pair DOAttb="CREATD_TM_STMP"   						toBOAttb="createdTimestamp"/>
 					<Pair DOAttb="BNFT_CMPNT_SYS_ID"   						toBOAttb="benefitComponentId"/>
					<Pair DOAttb="PROD_SYS_ID"   							toBOAttb="entitySysId"/>
					<Pair DOAttb="BNFT_DEFN_SYS_ID"   						toBOAttb="benefitDefenitionId"/>
					<Pair DOAttb="NOTE_EXIST"   							toBOAttb="notes_exists"/>
					<Pair DOAttb="VALID_DOMAIN"   							toBOAttb="validDomainToAttach"/>
					<Pair DOAttb="PRVDR_ARNGMNT"   							toBOAttb="questionPVA"/>
					<Pair DOAttb="TIER_SYS_ID"   							toBOAttb="tierSysId"/>

				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
					<Pair DOAttb="ADMIN_LVL_OPT_ASSN_SYS_ID"     toSCAttb="admnLvlAsscId"/>
					<Pair DOAttb="PROD_SYS_ID"    				 toSCAttb="entitySysId"/>
					<Pair DOAttb="BNFT_CMPNT_SYS_ID"    		 toSCAttb="benefitComponentId"/>
					<!--<Pair DOAttb="LST_CHG_USR"          	 toSCAttb="lastUpdatedUser"/>-->
					<Pair DOAttb="PROD_PARNT_SYS_ID"             toSCAttb="productSysId"/>
				    <Pair DOAttb="PRNT_ANSWR_ID"        		 toSCAttb="selectedAnswerid"/>
				    <Pair DOAttb="PRNT_QSTNR_HRCHY_SYS_ID"   	 toSCAttb="questionnaireId"/>
				    <Pair DOAttb="BNFT_DEFN_SYS_ID"   	 		 toSCAttb="bnftDefinitionSysId"/>
					<Pair DOAttb="TIER_SYS_ID"   				 toSCAttb="tierList"/>
					<Pair DOAttb="TIER_SYS_ID_IN"   			 toSCAttb="tierSysID"/>
					<!-- added -->
					<Pair DOAttb="BNFT_ADMIN_SYS_ID"   			 toSCAttb="benftAdminSysId"/>
					<Pair DOAttb="ADMIN_OPT_SYS_ID"   			 toSCAttb="adminOptSysId"/>
				</DoAttributeToSCAttributeMap>
			</DataObject>
		</DataSource>
	</BusinessObjectMetadata>


	<BusinessObjectMetadata name="com.wellpoint.wpd.common.product.bo.ProductTierQuestionareBO">
		<BusinessAttribute name="questionnaireId"    		   type="Int"   	keyAttrib="true"/>
		<BusinessAttribute name="questionId"      			   type="Int"  		keyAttrib="false"/>
		<BusinessAttribute name="adminLevelOptionSysId"        type="Int"   	keyAttrib="false"/>
		<BusinessAttribute name="parentQuestionnaireId"        type="Int"  		keyAttrib="false"/>
		<BusinessAttribute name="selectedAnswerid"             type="Int"  		keyAttrib="false"/>
		<BusinessAttribute name="referenceId"                  type="String"  	keyAttrib="false"/>
		<BusinessAttribute name="referenceDesc"                type="String" 	keyAttrib="false"/>
		<BusinessAttribute name="questionName"                 type="String"  	keyAttrib="false"/>
		<BusinessAttribute name="selectedAnswerDesc"           type="String" 	keyAttrib="false"/>
		<BusinessAttribute name="possibleAnswerList"           type="List"  	keyAttrib="false"/>
		<BusinessAttribute name="createdUser"          		   type="String"  	keyAttrib="false"/>
		<BusinessAttribute name="createdTimestamp"             type="Date"  	keyAttrib="false"/>
		<BusinessAttribute name="lastUpdatedUser"              type="String"  	keyAttrib="false"/>
		<BusinessAttribute name="lastUpdatedTimestamp"         type="Date"  	keyAttrib="false"/>
		<BusinessAttribute name="benefitComponentId"           type="Int"  		keyAttrib="false"/>
		<BusinessAttribute name="entitySysId"         		   type="Int"  		keyAttrib="false"/>
		<BusinessAttribute name="admnLvlAsscId"        		   type="Int"  		keyAttrib="false"/>
		<BusinessAttribute name="productSysId"        		   type="Int"  		keyAttrib="false"/>
		<BusinessAttribute name="benefitDefenitionId"          type="Int"  		keyAttrib="false"/>
		<BusinessAttribute name="notes_exists"				   type="String"	keyAttrib="false"/>
		<BusinessAttribute name="validDomainToAttach"		   type="String"	keyAttrib="false"/>
		<BusinessAttribute name="questionPVA"				   type="String"	keyAttrib="false"/>
		<BusinessAttribute name="tierSysId"				  	   type="Int"		keyAttrib="true"/>

			<DataSource name="prmd" domain="medical">
			<Connection preferred="jndi">
				<url>jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>

			<SelectSQLQuery >
				   SELECT PROD_TIER_SYS_ID
  						FROM   PROD_TIER_ANSWR_OVRD 
                        WHERE PROD_TIER_SYS_ID= ?
			</SelectSQLQuery>	
				
			<DataObject name="PROD_TIER_ANSWR_OVRD">
				<DataObjectAttribute name="ADMIN_LVL_OPT_ASSN_SYS_ID"  type="Int"/>
				<DataObjectAttribute name="QSTNR_HRCHY_SYS_ID"    	   type="Int"/>
				<DataObjectAttribute name="ADQM_ADMN_QSTN_NBR"    	   type="Int"/>
				<DataObjectAttribute name="PRNT_QSTNR_HRCHY_SYS_ID"    type="Int"/>
				<DataObjectAttribute name="RFRNC_ID"    			   type="String"/>
				<DataObjectAttribute name="OVRD_ANSWR_ID"    		   type="Int"/>
				<DataObjectAttribute name="ADQM_ADMN_QSTN_DESC"        type="String"/>
				<DataObjectAttribute name="PSBL_ANSWR"    		       type="String"/>
				<DataObjectAttribute name="ADMIN_OPT_SYS_ID"    	   type="Int"/>
				<DataObjectAttribute name="PROD_SYS_ID"  		  	   type="Int"/>
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID"    	   type="Int"/>
				<DataObjectAttribute name="LST_CHG_USR"    	           type="String"/>
			    <DataObjectAttribute name="CD_DESC_TXT"         	   type="String"/>	
				<DataObjectAttribute name="LST_CHG_TMS"   			   type="Date"/>
   		        <DataObjectAttribute name="CREATD_USER_ID"    		   type="String"/>
			    <DataObjectAttribute name="CREATD_TM_STMP"   		   type="Date"/>	
				<DataObjectAttribute name="PROD_PARNT_SYS_ID"    	   type="Int"/>
				<DataObjectAttribute name="PRNT_ANSWR_ID"    	   	   type="Int"/>
				<DataObjectAttribute name="BNFT_DEFN_SYS_ID"    	   type="Int"/>
				<DataObjectAttribute name="NOTE_EXIST"    	   		   type="String"/>
				<DataObjectAttribute name="VALID_DOMAIN"    	   	   type="String"/>
				<DataObjectAttribute name="PRVDR_ARNGMNT" 			   type="String"/>
				<DataObjectAttribute name="TIER_SYS_ID" 			   type="Int"/>

				<SQLTemplate transType="select">
						<DataObjectAttributeInput index="0" name="TIER_SYS_ID"/>
				           <RSIndexToDOAttributeMap>
								<ResultIndex index="0" dataObjectAttribName ="TIER_SYS_ID"/>
				           </RSIndexToDOAttributeMap>
		 		</SQLTemplate>
				<!-- SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM PROD_TIER_ANSWR_OVRD
						WHERE PROD_SYS_ID = ? AND ADMIN_LVL_OPT_ASSN_SYS_ID = ? 
					</SQLQuery>
						<DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
						<DataObjectAttributeInput index="1" name="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
			    </SQLTemplate -->
				<SQLTemplate transType="delete">
					<SQLQuery>
						DELETE FROM PROD_TIER_ANSWR_OVRD
						WHERE PROD_SYS_ID = ? AND ADMIN_LVL_OPT_ASSN_SYS_ID = ? AND QSTNR_HRCHY_SYS_ID = ?  
						AND PROD_TIER_SYS_ID = ?
					</SQLQuery>
						<DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
						<DataObjectAttributeInput index="1" name="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
						<DataObjectAttributeInput index="2" name="QSTNR_HRCHY_SYS_ID"/>
						<DataObjectAttributeInput index="3" name="TIER_SYS_ID"/>
			    </SQLTemplate>

			<SQLTemplate transType="update">
			<SQLQuery>				
				UPDATE  PROD_TIER_ANSWR_OVRD SET OVRD_ANSWR_ID = ? 
				WHERE (PROD_SYS_ID = ? AND ADMIN_LVL_OPT_ASSN_SYS_ID = ? AND QSTNR_HRCHY_SYS_ID =? 
				AND PROD_TIER_SYS_ID = ?)
			</SQLQuery>
				<DataObjectAttributeInput index="0" name="OVRD_ANSWR_ID"/>
				<DataObjectAttributeInput index="1" name="PROD_SYS_ID"/>
				<DataObjectAttributeInput index="2" name="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
				<DataObjectAttributeInput index="3" name="QSTNR_HRCHY_SYS_ID"/>
				<DataObjectAttributeInput index="4" name="TIER_SYS_ID"/>
		    </SQLTemplate>

				<SQLTemplate transType="insert">
						<SQLQuery>
								 INSERT INTO PROD_TIER_ANSWR_OVRD ( ADMIN_LVL_OPT_ASSN_SYS_ID, QSTNR_HRCHY_SYS_ID, 
								 OVRD_ANSWR_ID,BNFT_CMPNT_SYS_ID, PROD_SYS_ID, 
								 LST_CHG_USR, LST_CHG_TMS, CREATD_USER_ID, CREATD_TM_STMP,PROD_TIER_SYS_ID)
            					 VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?,?)
						</SQLQuery>
						<DataObjectAttributeInput index="0" name="ADMIN_LVL_OPT_ASSN_SYS_ID"/>
						<DataObjectAttributeInput index="1" name="QSTNR_HRCHY_SYS_ID"/>
						<DataObjectAttributeInput index="2" name="OVRD_ANSWR_ID"/>
						<DataObjectAttributeInput index="3" name="BNFT_CMPNT_SYS_ID"/>
						<DataObjectAttributeInput index="4" name="PROD_SYS_ID"/>
						<DataObjectAttributeInput index="5" name="LST_CHG_USR"/>
						<DataObjectAttributeInput index="6" name="LST_CHG_TMS"/>
						<DataObjectAttributeInput index="7" name="CREATD_USER_ID"/>
						<DataObjectAttributeInput index="8" name="CREATD_TM_STMP"/>
						<DataObjectAttributeInput index="9" name="TIER_SYS_ID"/>
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="ADMIN_LVL_OPT_ASSN_SYS_ID"    			toBOAttb="admnLvlAsscId"/>
					<Pair DOAttb="QSTNR_HRCHY_SYS_ID"    					toBOAttb="questionnaireId"/>
					<Pair DOAttb="ADQM_ADMN_QSTN_NBR"   					toBOAttb="questionId"/>
					<Pair DOAttb="PRNT_QSTNR_HRCHY_SYS_ID"    				toBOAttb="parentQuestionnaireId"/>
					<Pair DOAttb="RFRNC_ID"    							    toBOAttb="referenceId"/>
					<Pair DOAttb="OVRD_ANSWR_ID"    						toBOAttb="selectedAnswerid"/>
					<Pair DOAttb="ADQM_ADMN_QSTN_DESC"   				    toBOAttb="questionName"/>
					<Pair DOAttb="PSBL_ANSWR"    						    toBOAttb="selectedAnswerDesc"/>
					<Pair DOAttb="CD_DESC_TXT"    						    toBOAttb="referenceDesc"/>
 					<Pair DOAttb="LST_CHG_TMS"   							toBOAttb="lastUpdatedTimestamp"/>
			        <Pair DOAttb="LST_CHG_USR"    							toBOAttb="lastUpdatedUser"/>
			        <Pair DOAttb="CREATD_USER_ID"    						toBOAttb="createdUser"/>
			        <Pair DOAttb="CREATD_TM_STMP"   						toBOAttb="createdTimestamp"/>
 					<Pair DOAttb="BNFT_CMPNT_SYS_ID"   						toBOAttb="benefitComponentId"/>
					<Pair DOAttb="PROD_SYS_ID"   							toBOAttb="entitySysId"/>
					<Pair DOAttb="BNFT_DEFN_SYS_ID"   						toBOAttb="benefitDefenitionId"/>
					<Pair DOAttb="NOTE_EXIST"   							toBOAttb="notes_exists"/>
					<Pair DOAttb="VALID_DOMAIN"   							toBOAttb="validDomainToAttach"/>
					<Pair DOAttb="PRVDR_ARNGMNT"   							toBOAttb="questionPVA"/>
					<Pair DOAttb="TIER_SYS_ID"   							toBOAttb="tierSysId"/>
				</DoAttributeToBOAttributeMap>
				</DataObject>
				
			</DataSource>
		</BusinessObjectMetadata>

 <BusinessObjectMetadata name="com.wellpoint.wpd.common.product.bo.ProductAssociatedBenefit">
		<BusinessAttribute name="productKey"    		   		type="Int"   	keyAttrib="false"/>
		<BusinessAttribute name="benefitSeqNo"      			type="Int"  	keyAttrib="false"/>
		<BusinessAttribute name="benCompSeqNo"      			type="Int"  	keyAttrib="false"/>
		<BusinessAttribute name="componentId"        			type="Int"   	keyAttrib="true"/>
		<BusinessAttribute name="componentDesc"        			type="String"  	keyAttrib="false"/>
		<BusinessAttribute name="benefitName"                  	type="String"  	keyAttrib="false"/>
		<BusinessAttribute name="benefitId"                		type="Int" 		keyAttrib="true"/>
		<BusinessAttribute name="createdUser"          		   	type="String"  	keyAttrib="false"/>
		<BusinessAttribute name="createdTimestamp"             	type="Date"  	keyAttrib="false"/>
		<BusinessAttribute name="lastUpdatedUser"              	type="String"  	keyAttrib="false"/>
		<BusinessAttribute name="lastUpdatedTimestamp"         	type="Date"  	keyAttrib="false"/>
		<SearchCriteria>
			<SearchCriteriaAttribute name="productKey" 		type="Int"/>
		</SearchCriteria>
		<DataSource name="prmd" domain="medical">
			<Connection preferred="jndi">
				<url>jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>
		<SelectSQLQuery name="getBenefitHierarchy">
				SELECT UNIQUE a.BNFT_ID_NM, a.BNFT_SYS_ID, d.BNFT_CMPNT_NM,
                            p.SQNC_NBR cmp_sqnc_nbr, e.SQNC_NBR bnft_sqnc_nbr,d.BNFT_CMPNT_SYS_ID
                       FROM BMST_BNFT_MSTR a,
                            PROD_BNFT_CSTMZD c,
                            BCM_BNFT_CMPNT_MSTR d,
                            BNFT_CMPNT_HRCHY_ASSN e,
                            PROD_BNFT_CMPNT_ASSN p
                      WHERE a.BNFT_SYS_ID = e.BNFT_SYS_ID
                        AND a.BNFT_SYS_ID = c.BNFT_SYS_ID
                        AND p.BNFT_CMPNT_SYS_ID = e.BNFT_CMPNT_SYS_ID
                        AND c.BNFT_CMPNT_SYS_ID = p.BNFT_CMPNT_SYS_ID
                        AND c.BNFT_HIDE_FLAG = 'F'
                        AND p.BNFT_CMPNT_SYS_ID = d.BNFT_CMPNT_SYS_ID
                        AND p.PROD_SYS_ID = c.PROD_SYS_ID
                        AND p.PROD_SYS_ID = {0}
                   ORDER BY p.SQNC_NBR, e.SQNC_NBR
			</SelectSQLQuery>
			<DataObject name="PROD_BNFT_CMPNT_ASSN">
				<DataObjectAttribute name="PROD_SYS_ID" type="Int" />
				<DataObjectAttribute name="SQNC_NBR" type="Int" />
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_SYS_ID" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="3" dataObjectAttribName="SQNC_NBR" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getBenefitHierarchy" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="SQNC_NBR" toBOAttb="benCompSeqNo" />
				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
					<Pair DOAttb="PROD_SYS_ID"    	toSCAttb="productKey"/>
				</DoAttributeToSCAttributeMap>
			</DataObject>
			
			<DataObject name="BCM_BNFT_CMPNT_MSTR">
				<DataObjectAttribute name="BNFT_CMPNT_NM" 		type="String" />
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 	type="Int" />
				<SQLTemplate transType="select">
					<RSIndexToDOAttributeMap>
						<ResultIndex index="2" dataObjectAttribName="BNFT_CMPNT_NM" />
						<ResultIndex index="5" dataObjectAttribName="BNFT_CMPNT_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getBenefitHierarchy" />
				</SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="BNFT_CMPNT_NM" toBOAttb="componentDesc" />
					<Pair DOAttb="BNFT_CMPNT_SYS_ID" toBOAttb="componentId" />
				</DoAttributeToBOAttributeMap>
			</DataObject>

			<DataObject  name="BMST_BNFT_MSTR">
				<DataObjectAttribute name="BNFT_ID_NM" type="String"/>
				<DataObjectAttribute name="BNFT_SYS_ID" type="Int"/>
 				<SQLTemplate transType="select">
	            	<RSIndexToDOAttributeMap>
						<ResultIndex index="0"
							dataObjectAttribName="BNFT_ID_NM" />
						<ResultIndex index="1"
							dataObjectAttribName="BNFT_SYS_ID" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getBenefitHierarchy" />
	  			</SQLTemplate>
				<DoAttributeToBOAttributeMap>
	                <Pair DOAttb="BNFT_ID_NM"    toBOAttb="benefitName"/>
	                <Pair DOAttb="BNFT_SYS_ID"    toBOAttb="benefitId"/>
	            </DoAttributeToBOAttributeMap>
			</DataObject>

			<DataObject  name="BNFT_CMPNT_HRCHY_ASSN">
				<DataObjectAttribute name="SQNC_NBR" type="Int"/>

				<SQLTemplate transType="select">
					<RSIndexToDOAttributeMap>
						<ResultIndex index="4"
							dataObjectAttribName="SQNC_NBR" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="getBenefitHierarchy" />
				</SQLTemplate>	
				<DoAttributeToBOAttributeMap>
	                <Pair DOAttb="SQNC_NBR"    toBOAttb="benefitSeqNo"/>
	           </DoAttributeToBOAttributeMap>
		</DataObject>
		</DataSource>
	</BusinessObjectMetadata>

<BusinessObjectMetadata
		name="com.wellpoint.wpd.common.product.bo.ProductComponentRule">
		<BusinessAttribute name="productId" 			type="Int" 				keyAttrib="false" />
		<BusinessAttribute name="benefitComponentId" 	type="Int" 				keyAttrib="true" />
		<BusinessAttribute name="ruleId" 				type="String" 			keyAttrib="false" />
		<BusinessAttribute name="ruleDesc"  			type="String" 			keyAttrib="false" />
		<BusinessAttribute name="strRuleType" 			type="String"			keyAttrib="false" />

		<SearchCriteria>
			<SearchCriteriaAttribute name="productId" type="Int" />
			<SearchCriteriaAttribute name="benefitComponentId" type="Int" />

		</SearchCriteria>
		<DataSource name="prmd" domain="medical">
			<Connection preferred="jndi">
				<url>
					jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG
				</url>
				<jndi>java:comp/env/wsbEwpdDS</jndi>
			</Connection>
			<SelectSQLQuery>
				select ADMN_OPT_SYS_ID,ENTY_SYS_ID from ENTY_ADMN_OPT_ASSN 
			</SelectSQLQuery>
			<SelectSQLQuery name="productcomponentrule">
				select distinct a.BNFT_CMPNT_SYS_ID,a.RULE_ID,c.RULE_SHRT_DESC,c.RULE_TYP_CD  from
				PROD_BNFT_CMPNT_ASSN a,RULE c where
				a.RULE_ID = c.RULE_ID and 
				a.BNFT_CMPNT_SYS_ID = {1} and 
				a.PROD_SYS_ID ={0} 
			</SelectSQLQuery>
			<DataObject name="PROD_BNFT_CMPNT_ASSN">
				<DataObjectAttribute name="PROD_SYS_ID" 				type="Int" />
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID"			type="Int" />
				<DataObjectAttribute name="RULE_ID" 					type="String" />
				<DataObjectAttribute name="RULE_SHRT_DESC" 				type="String" />
				<DataObjectAttribute name="RULE_TYP_CD" 				type="String" />

				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0"  			name="PROD_SYS_ID" />
					<DataObjectAttributeInput index="1" 			name="BNFT_CMPNT_SYS_ID" />
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0" 		dataObjectAttribName="BNFT_CMPNT_SYS_ID" />
						<ResultIndex index="1" 		dataObjectAttribName="RULE_ID" />
						<ResultIndex index="2"		dataObjectAttribName="RULE_SHRT_DESC" />
						<ResultIndex index="3"		dataObjectAttribName="RULE_TYP_CD" />
					</RSIndexToDOAttributeMap>
					<SearchQueryName name="productcomponentrule" />
				</SQLTemplate>

				<SQLTemplate transType="update">
			        <SQLQuery>
			          update PROD_BNFT_CMPNT_ASSN set RULE_ID = ? where  BNFT_CMPNT_SYS_ID = ? and PROD_SYS_ID = ?
			        </SQLQuery>
			        <DataObjectAttributeInput index="0" name="RULE_ID"/>
					<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
					<DataObjectAttributeInput index="2" name="PROD_SYS_ID"/>
			    </SQLTemplate>
				<DoAttributeToBOAttributeMap>
					<Pair DOAttb="RULE_ID"  			toBOAttb="ruleId" />
					<Pair DOAttb="RULE_SHRT_DESC"		toBOAttb="ruleDesc" />
					<Pair DOAttb="RULE_TYP_CD"			toBOAttb="strRuleType" />
					<Pair DOAttb="BNFT_CMPNT_SYS_ID" 	toBOAttb="benefitComponentId" />
					<Pair DOAttb="PROD_SYS_ID" 			toBOAttb="productId" />
				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>
					<Pair DOAttb="PROD_SYS_ID" toSCAttb="productId" />
					<Pair DOAttb="BNFT_CMPNT_SYS_ID" toSCAttb="benefitComponentId" />
				</DoAttributeToSCAttributeMap>
				
			</DataObject>

		</DataSource>
	</BusinessObjectMetadata>
	<BusinessObjectMetadata name="com.wellpoint.wpd.common.product.bo.ProductTierDefnOverrideBO">
		<BusinessAttribute name="productId"   			type="Int"      keyAttrib="true"/>
		<BusinessAttribute name="productStructureId"   	type="Int"      keyAttrib="false"/>
		<BusinessAttribute name="benefitComponentId"    type="Int"      keyAttrib="false"/>
		<BusinessAttribute name="benefitDefinitionId"   type="Int"      keyAttrib="false"/>
		<BusinessAttribute name="lastUpdatedUser" 		type="String"	keyAttrib="false"/>
		<BusinessAttribute name="lastUpdatedTimestamp" 	type="Date"		keyAttrib="false"/>
		<BusinessAttribute name="createdUser" 			type="String"	keyAttrib="false"/>
		<BusinessAttribute name="createdTimestamp" 		type="Date"		keyAttrib="false"/>
        <BusinessAttribute name="tierDefinitionId"      type="Int"      keyAttrib="true"/> 
		<BusinessAttribute name="benefitId"      		type="Int"      keyAttrib="false"/> 
		<BusinessAttribute name="tierDescription"      	type="String"   keyAttrib="false"/> 	   
		
		<SearchCriteria name="searchCriteria1">				
			<SearchCriteriaAttribute name="productId"	type="Int"/>
			<SearchCriteriaAttribute name="benefitComponentId"	type="Int"/>
			<SearchCriteriaAttribute name="benefitId"	type="Int"/>	
			<SearchCriteriaAttribute name="productStructureId"	type="Int"/>	
			<SearchCriteriaAttribute name="benefitDefinitionId"	type="Int"/>				
		</SearchCriteria>
          
        <DataSource name="prmd" domain="medical">
        	<Connection preferred="jndi">
	            <url>jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG</url>
	            <jndi>java:comp/env/wsbEwpdDS</jndi>
	        </Connection>
            <SelectSQLQuery>
                    SELECT PROD_SYS_ID, BNFT_COMP_SYS_ID,BNFT_DEFN_SYS_ID  FROM PROD_TIER_DEFN_OVRD WHERE
					PROD_SYS_ID=?
            </SelectSQLQuery>
				
            <SelectSQLQuery name="retrieveTierDefinitionsForProduct">
               	SELECT UNIQUE TD.TIER_DESC,TD.TIER_DEFN_SYS_ID FROM PROD_TIER_DEFN_OVRD PTDO,TIER_DEFN TD,
				PROD_BNFT_CSTMZD CZ WHERE PTDO.TIER_DEFN_SYS_ID = TD.TIER_DEFN_SYS_ID AND PTDO.PROD_SYS_ID ={0} 
				AND PTDO.BNFT_COMP_SYS_ID={1} AND CZ.PROD_SYS_ID = PTDO.PROD_SYS_ID
			  	AND CZ.BNFT_CMPNT_SYS_ID = PTDO.BNFT_COMP_SYS_ID 
				AND CZ.BNFT_SYS_ID = {2} 
			  	AND CZ.BNFT_DEFN_SYS_ID = PTDO.BNFT_DEFN_SYS_ID order by TD.TIER_DESC
            </SelectSQLQuery>
	
			<SelectSQLQuery name="retrieveTierDefinitionsBenefit">
                SELECT TD.TIER_DESC,TD.TIER_DEFN_SYS_ID FROM BNFT_TIER_DEFN_ASSN BTDA,TIER_DEFN TD 
				WHERE BTDA.TIER_DEFN_SYS_ID = TD.TIER_DEFN_SYS_ID AND BTDA.BNFT_DEFN_SYS_ID={0} order by TD.TIER_DESC
            </SelectSQLQuery>	
			
			<SelectSQLQuery name="getTiersAddedInProduct">
                SELECT TIER_DEFN_SYS_ID FROM PROD_TIER_MSTR WHERE PROD_SYS_ID={0} 
				AND PROD_STRCTR_SYS_ID = {1} AND BNFT_SYS_ID={2} AND BNFT_CMPNT_SYS_ID={3}
            </SelectSQLQuery>

			<SelectSQLQuery name="retrieveTierDefinitionsForContract">
			  SELECT UNIQUE TD.TIER_DESC,TD.TIER_DEFN_SYS_ID FROM PROD_TIER_DEFN_OVRD PTDO,
			  TIER_DEFN TD, PROD_BNFT_CSTMZD CZ WHERE PTDO.TIER_DEFN_SYS_ID = TD.TIER_DEFN_SYS_ID 
			  AND PTDO.PROD_SYS_ID ={0} AND PTDO.BNFT_COMP_SYS_ID={1} 
			  AND CZ.PROD_SYS_ID = PTDO.PROD_SYS_ID
			  AND CZ.BNFT_CMPNT_SYS_ID = PTDO.BNFT_COMP_SYS_ID
			  AND CZ.BNFT_SYS_ID = {2}
			  AND CZ.BNFT_DEFN_SYS_ID = PTDO.BNFT_DEFN_SYS_ID order by TD.TIER_DESC
            </SelectSQLQuery>
		
            <DataObject name="PRODUCT_BNFT_TIER_OVRD">
				<DataObjectAttribute name="PROD_SYS_ID" 			type="Int"/>
				<DataObjectAttribute name="BNFT_COMP_SYS_ID" 		type="Int"/>
				<DataObjectAttribute name="BNFT_DEFN_SYS_ID" 		type="Int"/>
				<DataObjectAttribute name="TIER_DEFN_SYS_ID" 		type="Int"/>				
				<DataObjectAttribute name="LST_CHG_TMS" 			type="TimeStamp"/>
				<DataObjectAttribute name="LST_CHG_USR" 			type="String"/>
				<DataObjectAttribute name="CREATD_TM_STMP" 			type="TimeStamp"/>
				<DataObjectAttribute name="CREATD_USER_ID" 			type="String"/>					
				<DataObjectAttribute name="BNFT_SYS_ID" 			type="Int"/>
				<DataObjectAttribute name="PROD_STRCTR_SYS_ID" 		type="Int"/>	
				<DataObjectAttribute name="TIER_DESC" 				type="String"/>
	
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"  dataObjectAttribName ="PROD_SYS_ID"/>
						<ResultIndex index="1"  dataObjectAttribName ="BNFT_COMP_SYS_ID"/>	
						<ResultIndex index="2"  dataObjectAttribName ="BNFT_DEFN_SYS_ID"/>										
					</RSIndexToDOAttributeMap>
				</SQLTemplate>

				<SQLTemplate transType="insert">
						<SQLQuery>
								insert into PROD_TIER_DEFN_OVRD 
								(PROD_SYS_ID, BNFT_COMP_SYS_ID,BNFT_DEFN_SYS_ID,LST_CHG_USR,LST_CHG_TMS, 
										CREATD_USER_ID,CREATD_TM_STMP,TIER_DEFN_SYS_ID)
								values (?, ?, ?,?,?, ?,?,?)
						</SQLQuery>
						<DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
						<DataObjectAttributeInput index="1" name="BNFT_COMP_SYS_ID"/>					
						<DataObjectAttributeInput index="2" name="BNFT_DEFN_SYS_ID"/>
						<DataObjectAttributeInput index="3" name="LST_CHG_USR"/>
						<DataObjectAttributeInput index="4" name="LST_CHG_TMS"/>
						<DataObjectAttributeInput index="5" name="CREATD_USER_ID"/>
						<DataObjectAttributeInput index="6" name="CREATD_TM_STMP"/>
						<DataObjectAttributeInput index="7" name="TIER_DEFN_SYS_ID"/>						
				</SQLTemplate>	

				 <SQLTemplate transType="delete">
			        <SQLQuery>
			            DELETE FROM PROD_TIER_DEFN_OVRD
			            WHERE PROD_SYS_ID = ? AND BNFT_COMP_SYS_ID=? AND BNFT_DEFN_SYS_ID=?
			        </SQLQuery>
			        <DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
					<DataObjectAttributeInput index="1" name="BNFT_COMP_SYS_ID"/>
					<DataObjectAttributeInput index="2" name="BNFT_DEFN_SYS_ID"/>
			    </SQLTemplate>

				<SQLTemplate transType="select"> 							
						<DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>						
						<DataObjectAttributeInput index="1" name="BNFT_COMP_SYS_ID"/>
						<DataObjectAttributeInput index="2" name="BNFT_SYS_ID"/>						
                        <RSIndexToDOAttributeMap>				
							<ResultIndex index="0" dataObjectAttribName="TIER_DESC"></ResultIndex>    
                            <ResultIndex index="1" dataObjectAttribName="TIER_DEFN_SYS_ID"></ResultIndex>                           
                        </RSIndexToDOAttributeMap>               
                        <SearchQueryName name="retrieveTierDefinitionsForProduct" />
                 </SQLTemplate> 
                 <SQLTemplate transType="select"> 							
						<DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>						
						<DataObjectAttributeInput index="1" name="BNFT_COMP_SYS_ID"/>
						<DataObjectAttributeInput index="2" name="BNFT_SYS_ID"/>						
                        <RSIndexToDOAttributeMap>				
							<ResultIndex index="0" dataObjectAttribName="TIER_DESC"></ResultIndex>    
                            <ResultIndex index="1" dataObjectAttribName="TIER_DEFN_SYS_ID"></ResultIndex>                           
                        </RSIndexToDOAttributeMap>               
                        <SearchQueryName name="retrieveTierDefinitionsForContract" />
                 </SQLTemplate> 
		
				<SQLTemplate transType="select"> 
						<DataObjectAttributeInput index="0" name="BNFT_DEFN_SYS_ID"/>						
                        <RSIndexToDOAttributeMap>				
							<ResultIndex index="0" dataObjectAttribName="TIER_DESC"></ResultIndex>    
                            <ResultIndex index="1" dataObjectAttribName="TIER_DEFN_SYS_ID"></ResultIndex>                           
                        </RSIndexToDOAttributeMap>              
                        <SearchQueryName name="retrieveTierDefinitionsBenefit" />
                 </SQLTemplate>

				<SQLTemplate transType="select"> 
					<DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>	
					<DataObjectAttributeInput index="1" name="PROD_STRCTR_SYS_ID"/>					
					<DataObjectAttributeInput index="3" name="BNFT_COMP_SYS_ID"/>	
					<DataObjectAttributeInput index="2" name="BNFT_SYS_ID"/>			
                        <RSIndexToDOAttributeMap>											
                            <ResultIndex index="0" dataObjectAttribName="TIER_DEFN_SYS_ID"></ResultIndex>                           
                        </RSIndexToDOAttributeMap>               
                        <SearchQueryName name="getTiersAddedInProduct" />
                 </SQLTemplate> 
					
				<DoAttributeToBOAttributeMap>
						<Pair DOAttb="PROD_SYS_ID"			toBOAttb="productId"/>
						<Pair DOAttb="PROD_STRCTR_SYS_ID"	toBOAttb="productStructureId"/>
						<Pair DOAttb="BNFT_COMP_SYS_ID"		toBOAttb="benefitComponentId"/>
						<Pair DOAttb="BNFT_DEFN_SYS_ID"		toBOAttb="benefitDefinitionId"/>
						<Pair DOAttb="TIER_DEFN_SYS_ID"		toBOAttb="tierDefinitionId"/>						
						<Pair DOAttb="LST_CHG_TMS"			toBOAttb="lastUpdatedTimestamp"/>
						<Pair DOAttb="LST_CHG_USR"			toBOAttb="lastUpdatedUser"/>
						<Pair DOAttb="CREATD_TM_STMP"		toBOAttb="createdTimestamp"/>
						<Pair DOAttb="CREATD_USER_ID"		toBOAttb="createdUser"/>						
						<Pair DOAttb="BNFT_SYS_ID"			toBOAttb="benefitId"/>
						<Pair DOAttb="TIER_DESC"			toBOAttb="tierDescription"/>
				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>						
						<Pair DOAttb="PROD_SYS_ID" 			toSCAttb="productId"/>	
						<Pair DOAttb="PROD_STRCTR_SYS_ID" 	toSCAttb="productStructureId"/>
						<Pair DOAttb="BNFT_COMP_SYS_ID" 	toSCAttb="benefitComponentId"/>	
						<Pair DOAttb="BNFT_SYS_ID" 			toSCAttb="benefitId"/>			
						<Pair DOAttb="BNFT_DEFN_SYS_ID" 	toSCAttb="benefitDefinitionId"/>			
				</DoAttributeToSCAttributeMap>
			</DataObject>               
        </DataSource>
	</BusinessObjectMetadata>
	<BusinessObjectMetadata name="com.wellpoint.wpd.common.product.bo.ProductRuleIdBO">
		<BusinessAttribute name="benefitId"   			type="Int"      keyAttrib="false"/>
		<BusinessAttribute name="ruleId"   				type="String"   keyAttrib="false"/>
		<BusinessAttribute name="ruleDesc"    			type="String"   keyAttrib="false"/>
		<BusinessAttribute name="ruleType"    			type="String"   keyAttrib="false"/>
		<BusinessAttribute name="benefitComponentId"   	type="Int"      keyAttrib="false"/>
		<BusinessAttribute name="productId" 			type="Int"		keyAttrib="true"/>
		<BusinessAttribute name="lastUpdatedUser" 		type="String"	keyAttrib="false"/>
		<BusinessAttribute name="lastUpdatedTimeStamp" 	type="Date"		keyAttrib="false"/>
		<BusinessAttribute name="createdUser" 			type="String"	keyAttrib="false"/>
        <BusinessAttribute name="createdTimeStamp"      type="Date"     keyAttrib="false"/> 
		   
		
		<SearchCriteria name="searchCriteria1">				
			<SearchCriteriaAttribute name="productId"			type="Int"/>
			<SearchCriteriaAttribute name="benefitComponentId"	type="Int"/>
			<SearchCriteriaAttribute name="benefitId"			type="Int"/>	
		</SearchCriteria>
          
        <DataSource name="prmd" domain="medical">
        	<Connection preferred="jndi">
	            <url>jdbc:oracle:thin:ewpd1/ewpd_1@10.10.43.217:1521:ISG</url>
	            <jndi>java:comp/env/wsbEwpdDS</jndi>
	        </Connection>
            <SelectSQLQuery>
                    SELECT RULE_ID, BNFT_CMPNT_SYS_ID,BNFT_SYS_ID  FROM PROD_BNFT_RULE_OVRD WHERE
					PROD_SYS_ID=?
            </SelectSQLQuery>
				
            <SelectSQLQuery name="getBenefitRuleId">
 			SELECT rule.RULE_SHRT_DESC,rule.RULE_ID,pbro.PROD_SYS_ID,rule.RULE_TYP_CD  FROM PROD_BNFT_RULE_OVRD pbro,RULE rule WHERE pbro.RULE_ID = rule.RULE_ID AND 
					pbro.PROD_SYS_ID={0} AND pbro.BNFT_CMPNT_SYS_ID={1} AND pbro.BNFT_SYS_ID ={2}
            </SelectSQLQuery>			
		
            <DataObject name="PROD_BNFT_RULE_OVRD">
				<DataObjectAttribute name="PROD_SYS_ID" 		type="Int"/>
				<DataObjectAttribute name="BNFT_CMPNT_SYS_ID" 	type="Int"/>
				<DataObjectAttribute name="BNFT_SYS_ID" 		type="Int"/>
				<DataObjectAttribute name="LST_CHG_TMS" 		type="TimeStamp"/>	
				<DataObjectAttribute name="LST_CHG_USR" 		type="String"/>
				<DataObjectAttribute name="CREATD_TM_STMP" 		type="TimeStamp"/>
				<DataObjectAttribute name="CREATD_USER_ID" 		type="String"/>					
				<DataObjectAttribute name="RULE_ID" 			type="String"/>					
				<DataObjectAttribute name="RULE_SHRT_DESC" 		type="String"/>	
				<DataObjectAttribute name="RULE_TYP_CD" 		type="String"/>			
	
				<SQLTemplate transType="select">
					<DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
					<RSIndexToDOAttributeMap>
						<ResultIndex index="0"  dataObjectAttribName ="RULE_ID"/>
						<ResultIndex index="1"  dataObjectAttribName ="BNFT_CMPNT_SYS_ID"/>	
						<ResultIndex index="2"  dataObjectAttribName ="BNFT_SYS_ID"/>										
					</RSIndexToDOAttributeMap>
				</SQLTemplate>

				<SQLTemplate transType="select"> 
						<DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
						<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
						<DataObjectAttributeInput index="2" name="BNFT_SYS_ID"/>						
                        <RSIndexToDOAttributeMap>				
							<ResultIndex index="0" dataObjectAttribName="RULE_SHRT_DESC"></ResultIndex> 
							<ResultIndex index="1" dataObjectAttribName="RULE_ID"></ResultIndex> 
							<ResultIndex index="2" dataObjectAttribName="PROD_SYS_ID"></ResultIndex> 
							<ResultIndex index="3" dataObjectAttribName="RULE_TYP_CD"></ResultIndex>     
                        </RSIndexToDOAttributeMap>              
                        <SearchQueryName name="getBenefitRuleId" />
                 </SQLTemplate>

				<SQLTemplate transType="update">
			        <SQLQuery>
			          update PROD_BNFT_RULE_OVRD set RULE_ID = ? where  BNFT_CMPNT_SYS_ID = ? and PROD_SYS_ID = ?
						and BNFT_SYS_ID=?
			        </SQLQuery>
			        <DataObjectAttributeInput index="0" name="RULE_ID"/>
					<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
					<DataObjectAttributeInput index="2" name="PROD_SYS_ID"/>
					<DataObjectAttributeInput index="3" name="BNFT_SYS_ID"/>
			    </SQLTemplate>

				 <SQLTemplate transType="delete">
			        <SQLQuery>
			            DELETE FROM PROD_BNFT_RULE_OVRD
			            WHERE PROD_SYS_ID = ? AND BNFT_CMPNT_SYS_ID=? AND BNFT_SYS_ID=?
			        </SQLQuery>
			        <DataObjectAttributeInput index="0" name="PROD_SYS_ID"/>
					<DataObjectAttributeInput index="1" name="BNFT_CMPNT_SYS_ID"/>
					<DataObjectAttributeInput index="2" name="BNFT_SYS_ID"/>
			    </SQLTemplate>					
				<DoAttributeToBOAttributeMap>
						<Pair DOAttb="PROD_SYS_ID"			toBOAttb="productId"/>
						<Pair DOAttb="BNFT_CMPNT_SYS_ID"	toBOAttb="benefitComponentId"/>
						<Pair DOAttb="BNFT_SYS_ID"			toBOAttb="benefitId"/>
						<Pair DOAttb="LST_CHG_TMS"			toBOAttb="lastUpdatedTimeStamp"/>
						<Pair DOAttb="LST_CHG_USR"			toBOAttb="lastUpdatedUser"/>						
						<Pair DOAttb="CREATD_TM_STMP"		toBOAttb="createdTimeStamp"/>
						<Pair DOAttb="CREATD_USER_ID"		toBOAttb="createdUser"/>
						<Pair DOAttb="RULE_ID"				toBOAttb="ruleId"/>	
						<Pair DOAttb="RULE_SHRT_DESC"		toBOAttb="ruleDesc"/>
						<Pair DOAttb="RULE_TYP_CD"			toBOAttb="ruleType"/>						
				</DoAttributeToBOAttributeMap>
				<DoAttributeToSCAttributeMap>						
						<Pair DOAttb="PROD_SYS_ID" 			toSCAttb="productId"/>	
						<Pair DOAttb="BNFT_CMPNT_SYS_ID" 	toSCAttb="benefitComponentId"/>
						<Pair DOAttb="BNFT_SYS_ID" 	toSCAttb="benefitId"/>										
				</DoAttributeToSCAttributeMap>  
			</DataObject>               
        </DataSource>
	</BusinessObjectMetadata>
</Metadata>